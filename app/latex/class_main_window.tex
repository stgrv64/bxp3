\hypertarget{class_main_window}{}\doxysection{Main\+Window Class Reference}
\label{class_main_window}\index{MainWindow@{MainWindow}}


\mbox{\hyperlink{class_main_window}{Main\+Window}} class.  




{\ttfamily \#include $<$mainwindow.\+h$>$}

Inheritance diagram for Main\+Window\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_main_window}
\end{center}
\end{figure}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_main_window_a30f75ceedca2e1a0d0c738161e150640}{window\+\_\+set\+\_\+touchesfonction}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_main_window_a30f75ceedca2e1a0d0c738161e150640}{Main\+Window\+::window\+\_\+set\+\_\+touchesfonction}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_main_window_a0836be93796c9c7122383f08b9f3ac6f}{window\+\_\+set\+\_\+proxy\+\_\+web}} (Q\+String)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_main_window_a0836be93796c9c7122383f08b9f3ac6f}{Main\+Window\+::window\+\_\+set\+\_\+proxy\+\_\+web}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_main_window_a99a66c873f05f5d9f5d48240fbbf8e1c}{window\+\_\+init\+\_\+orientation\+\_\+ecran}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_main_window_a99a66c873f05f5d9f5d48240fbbf8e1c}{Main\+Window\+::window\+\_\+init\+\_\+orientation\+\_\+ecran}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_main_window_a50feb5a39e7ca4b36f1d060459a5c07b}{window\+\_\+orientation\+\_\+ecran}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_main_window_a50feb5a39e7ca4b36f1d060459a5c07b}{Main\+Window\+::window\+\_\+orientation\+\_\+ecran}}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_main_window_a92917a7c1e6a4cac88f3e65f217f5ba2}\label{class_main_window_a92917a7c1e6a4cac88f3e65f217f5ba2}} 
void \mbox{\hyperlink{class_main_window_a92917a7c1e6a4cac88f3e65f217f5ba2}{audio\+\_\+play}} (Q\+String)
\begin{DoxyCompactList}\small\item\em play audio \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_main_window_a225faf6a5f7535547ea2314a23cc0983}\label{class_main_window_a225faf6a5f7535547ea2314a23cc0983}} 
void \mbox{\hyperlink{class_main_window_a225faf6a5f7535547ea2314a23cc0983}{restart\+\_\+app}} (void)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) restart time2bi application \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_main_window_aef7797314c3f005257b9c037e7281a19}\label{class_main_window_aef7797314c3f005257b9c037e7281a19}} 
void {\bfseries signal\+\_\+ihm\+\_\+orientation\+\_\+ecran} (Q\+Variant)
\item 
\mbox{\Hypertarget{class_main_window_ad85acbecfa4c1181df743b13787b2914}\label{class_main_window_ad85acbecfa4c1181df743b13787b2914}} 
void {\bfseries signal\+\_\+reset\+\_\+touche} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_main_window_ae7344f408a563bc6d9b1acd225da52cb}{Main\+Window}} (Q\+Widget $\ast$parent)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_main_window_ae7344f408a563bc6d9b1acd225da52cb}{Main\+Window\+::\+Main\+Window}}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_main_window_ae98d00a93bc118200eeef9f9bba1dba7}{$\sim$\+Main\+Window}} ()
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_main_window_ae98d00a93bc118200eeef9f9bba1dba7}{Main\+Window\+::$\sim$\+Main\+Window}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Debug}} (Q\+String a)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Main\+Window\+::\+Debug}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_main_window_a19210fca23dea0a511959280198860a5}\label{class_main_window_a19210fca23dea0a511959280198860a5}} 
\mbox{\hyperlink{class_custom_network_manager_factory}{Custom\+Network\+Manager\+Factory}} $\ast$ {\bfseries my\+Network\+Access\+Manager\+Factory}
\item 
\mbox{\Hypertarget{class_main_window_a09e50db034782e36614281854c7cd02b}\label{class_main_window_a09e50db034782e36614281854c7cd02b}} 
Q\+Quick\+View $\ast$ {\bfseries view} = new Q\+Quick\+View()
\item 
\mbox{\Hypertarget{class_main_window_a0cedf389d9566a737d81b09c69904bd5}\label{class_main_window_a0cedf389d9566a737d81b09c69904bd5}} 
Q\+Widget $\ast$ {\bfseries container} = Q\+Widget\+::create\+Window\+Container(view)
\item 
\mbox{\Hypertarget{class_main_window_a41591e1cfcf68264cd1012b08e3ef7a2}\label{class_main_window_a41591e1cfcf68264cd1012b08e3ef7a2}} 
Q\+Qml\+Application\+Engine {\bfseries engine}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_main_window_a53862fe05f3bb4f3a0ce195b6a430bbb}\label{class_main_window_a53862fe05f3bb4f3a0ce195b6a430bbb}} 
static const int {\bfseries E\+X\+I\+T\+\_\+\+C\+O\+D\+E\+\_\+\+R\+E\+S\+T\+A\+RT} = -\/123456789
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_main_window_a9c4f542263838b9ecd06eae839a42a34}\label{class_main_window_a9c4f542263838b9ecd06eae839a42a34}} 
virtual void \mbox{\hyperlink{class_main_window_a9c4f542263838b9ecd06eae839a42a34}{key\+Press\+Event}} (Q\+Key\+Event $\ast$event)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) key\+Press\+Event function \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{class_main_window}{Main\+Window}} class. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_main_window_ae7344f408a563bc6d9b1acd225da52cb}\label{class_main_window_ae7344f408a563bc6d9b1acd225da52cb}} 
\index{MainWindow@{MainWindow}!MainWindow@{MainWindow}}
\index{MainWindow@{MainWindow}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{MainWindow()}{MainWindow()}}
{\footnotesize\ttfamily Main\+Window\+::\+Main\+Window (\begin{DoxyParamCaption}\item[{Q\+Widget $\ast$}]{parent }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_main_window_ae7344f408a563bc6d9b1acd225da52cb}{Main\+Window\+::\+Main\+Window}}. 


\begin{DoxyItemize}
\item constructor \mbox{\hyperlink{class_main_window}{Main\+Window}} class 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{78     : QMainWindow(parent, Qt::FramelessWindowHint)}
\DoxyCodeLine{79 \{}
\DoxyCodeLine{80 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_main_window_ae98d00a93bc118200eeef9f9bba1dba7}\label{class_main_window_ae98d00a93bc118200eeef9f9bba1dba7}} 
\index{MainWindow@{MainWindow}!````~MainWindow@{$\sim$MainWindow}}
\index{````~MainWindow@{$\sim$MainWindow}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{$\sim$MainWindow()}{~MainWindow()}}
{\footnotesize\ttfamily Main\+Window\+::$\sim$\+Main\+Window (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_main_window_ae98d00a93bc118200eeef9f9bba1dba7}{Main\+Window\+::$\sim$\+Main\+Window}}. 


\begin{DoxyItemize}
\item destructor \mbox{\hyperlink{class_main_window}{Main\+Window}} class 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{87 \{}
\DoxyCodeLine{88 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}\label{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}} 
\index{MainWindow@{MainWindow}!Debug@{Debug}}
\index{Debug@{Debug}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{Debug()}{Debug()}}
{\footnotesize\ttfamily void Main\+Window\+::\+Debug (\begin{DoxyParamCaption}\item[{Q\+String}]{a }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Main\+Window\+::\+Debug}}. 


\begin{DoxyItemize}
\item Debug main function 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{95 \{}
\DoxyCodeLine{96      log4cpp::Category \& mylogger = log4cpp::Category::getInstance(\textcolor{stringliteral}{"main"});}
\DoxyCodeLine{97     mylogger.debug(a.toStdString());}
\DoxyCodeLine{98 }
\DoxyCodeLine{99 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_main_window_a99a66c873f05f5d9f5d48240fbbf8e1c}\label{class_main_window_a99a66c873f05f5d9f5d48240fbbf8e1c}} 
\index{MainWindow@{MainWindow}!window\_init\_orientation\_ecran@{window\_init\_orientation\_ecran}}
\index{window\_init\_orientation\_ecran@{window\_init\_orientation\_ecran}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{window\_init\_orientation\_ecran}{window\_init\_orientation\_ecran}}
{\footnotesize\ttfamily void Main\+Window\+::window\+\_\+init\+\_\+orientation\+\_\+ecran (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_main_window_a99a66c873f05f5d9f5d48240fbbf8e1c}{Main\+Window\+::window\+\_\+init\+\_\+orientation\+\_\+ecran}}. 


\begin{DoxyItemize}
\item called by signal process signal\+\_\+window\+\_\+init\+\_\+orientation\+\_\+ecran()
\item check database\+\_\+setup.\+db ecran value (0-\/horizontal; 1-\/vertical)
\item call signal\+\_\+ihm\+\_\+orientation\+\_\+ecran() 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{176 \{}
\DoxyCodeLine{177     \mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Debug}}(\textcolor{stringliteral}{"MainWindow::window\_init\_orientation\_ecran"});}
\DoxyCodeLine{178     \textcolor{comment}{//FIXME factoriser l'accés à la BDD}}
\DoxyCodeLine{179     QSqlDatabase config\_db;}
\DoxyCodeLine{180     config\_db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"divers\_setup"});}
\DoxyCodeLine{181     config\_db.setDatabaseName(\textcolor{stringliteral}{"/var/x7/etc/database\_setup.db"});}
\DoxyCodeLine{182 }
\DoxyCodeLine{183     \textcolor{keywordtype}{double} opacity=1;}
\DoxyCodeLine{184     \textcolor{keywordtype}{int} a=0;}
\DoxyCodeLine{185     \textcolor{comment}{/* Open table divers */}}
\DoxyCodeLine{186     \textcolor{keywordflow}{if} (config\_db.open())}
\DoxyCodeLine{187     \{}
\DoxyCodeLine{188         \mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Debug}}(\textcolor{stringliteral}{"Lecture table divers."});}
\DoxyCodeLine{189         QSqlQueryModel model;}
\DoxyCodeLine{190         model.setQuery(\textcolor{stringliteral}{"SELECT * FROM divers"},config\_db);}
\DoxyCodeLine{191         \textcolor{keywordflow}{if} (model.rowCount())}
\DoxyCodeLine{192         \{}
\DoxyCodeLine{193             \textcolor{comment}{/* lecture valeur champ ecran */}}
\DoxyCodeLine{194             QString b=model.record(0).value(\textcolor{stringliteral}{"ecran"}).toString();}
\DoxyCodeLine{195             a=b.toInt();}
\DoxyCodeLine{196             \textcolor{keywordflow}{if} (b.size() >1) opacity=0;}
\DoxyCodeLine{197         \}}
\DoxyCodeLine{198         \textcolor{comment}{/* Close table divers */}}
\DoxyCodeLine{199         config\_db.close();}
\DoxyCodeLine{200         model.clear();}
\DoxyCodeLine{201         model.deleteLater();}
\DoxyCodeLine{202     \}}
\DoxyCodeLine{203 }
\DoxyCodeLine{204     engine.rootContext()-\/>setContextProperty(\textcolor{stringliteral}{"badge\_text\_opacity"},opacity);}
\DoxyCodeLine{205     \textcolor{comment}{/* get blue background image */}}
\DoxyCodeLine{206     QString background\_url;}
\DoxyCodeLine{207     \textcolor{keywordflow}{if} ((a \%2)==0)}
\DoxyCodeLine{208     \{}
\DoxyCodeLine{209         \textcolor{keywordflow}{if} (QFile(\textcolor{stringliteral}{"/var/x7/contents/images/background\_horizontal.img"}).exists()) background\_url=\textcolor{stringliteral}{"file:/var/x7/contents/images/background\_horizontal.img"};}
\DoxyCodeLine{210         \textcolor{keywordflow}{else} background\_url=\textcolor{stringliteral}{"qrc:/qml/content/background\_horizontal.jpg"};}
\DoxyCodeLine{211     \}}
\DoxyCodeLine{212     \textcolor{keywordflow}{else}}
\DoxyCodeLine{213     \{}
\DoxyCodeLine{214         \textcolor{keywordflow}{if} (QFile(\textcolor{stringliteral}{"/var/x7/contents/images/background\_vertical.img"}).exists()) background\_url=\textcolor{stringliteral}{"file:/var/x7/contents/images/background\_vertical.img"};}
\DoxyCodeLine{215         \textcolor{keywordflow}{else} background\_url=\textcolor{stringliteral}{"qrc:/qml/content/background\_vertical.jpg"};}
\DoxyCodeLine{216     \}}
\DoxyCodeLine{217     engine.rootContext()-\/>setContextProperty(\textcolor{stringliteral}{"background\_file"},background\_url);}
\DoxyCodeLine{218     \textcolor{comment}{/* call SLOT mainView.qml orientation\_ecran */}}
\DoxyCodeLine{219     signal\_ihm\_orientation\_ecran(a);}
\DoxyCodeLine{220 }
\DoxyCodeLine{221 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_main_window_a50feb5a39e7ca4b36f1d060459a5c07b}\label{class_main_window_a50feb5a39e7ca4b36f1d060459a5c07b}} 
\index{MainWindow@{MainWindow}!window\_orientation\_ecran@{window\_orientation\_ecran}}
\index{window\_orientation\_ecran@{window\_orientation\_ecran}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{window\_orientation\_ecran}{window\_orientation\_ecran}}
{\footnotesize\ttfamily void Main\+Window\+::window\+\_\+orientation\+\_\+ecran (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_main_window_a50feb5a39e7ca4b36f1d060459a5c07b}{Main\+Window\+::window\+\_\+orientation\+\_\+ecran}}. 


\begin{DoxyItemize}
\item called by signal main\+View.\+qml signal\+\_\+window\+\_\+orientation\+\_\+ecran()
\item check database\+\_\+setup.\+db ecran value (0-\/horizontal; 1-\/vertical)
\item call signal\+\_\+ihm\+\_\+orientation\+\_\+ecran() 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{230 \{}
\DoxyCodeLine{231     QSqlDatabase config\_db;}
\DoxyCodeLine{232     \textcolor{keywordtype}{int} b=0;}
\DoxyCodeLine{233     \textcolor{keywordtype}{double} opacity=1;}
\DoxyCodeLine{234 }
\DoxyCodeLine{235     \mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Debug}}(\textcolor{stringliteral}{"MainWindow::window\_orientation\_ecran"});}
\DoxyCodeLine{236     \textcolor{comment}{//FIXME factoriser l'accés à la BDD}}
\DoxyCodeLine{237     config\_db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"auxilary\_config"});}
\DoxyCodeLine{238     config\_db.setDatabaseName(\textcolor{stringliteral}{"/var/x7/etc/database\_setup.db"});}
\DoxyCodeLine{239     \textcolor{keywordflow}{if} (config\_db.open())}
\DoxyCodeLine{240     \{}
\DoxyCodeLine{241         \mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Debug}}(\textcolor{stringliteral}{"Lecture/ecriture table divers"});}
\DoxyCodeLine{242 }
\DoxyCodeLine{243         QSqlQueryModel model;}
\DoxyCodeLine{244         model.setQuery(\textcolor{stringliteral}{"SELECT * FROM divers"},config\_db);}
\DoxyCodeLine{245         \textcolor{keywordflow}{if} (model.rowCount())}
\DoxyCodeLine{246         \{}
\DoxyCodeLine{247             QString a=model.record(0).value(\textcolor{stringliteral}{"ecran"}).toString();}
\DoxyCodeLine{248             b=a.toInt();}
\DoxyCodeLine{249             b=(++b)\%4;}
\DoxyCodeLine{250             \textcolor{comment}{/* call SLOT mainView.qml orientation\_ecran */}}
\DoxyCodeLine{251             signal\_ihm\_orientation\_ecran(b);}
\DoxyCodeLine{252             QSqlQuery query(config\_db);}
\DoxyCodeLine{253             query.prepare(\textcolor{stringliteral}{"UPDATE divers SET ecran=:ecran"});}
\DoxyCodeLine{254             \textcolor{keywordflow}{if} (a.size() >1)}
\DoxyCodeLine{255             \{}
\DoxyCodeLine{256                 a.clear();}
\DoxyCodeLine{257                 a.append(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{258                 opacity=0;}
\DoxyCodeLine{259             \}}
\DoxyCodeLine{260             engine.rootContext()-\/>setContextProperty(\textcolor{stringliteral}{"badge\_text\_opacity"},opacity);}
\DoxyCodeLine{261             a.append(QString(\textcolor{stringliteral}{"\%1"}).arg(b));}
\DoxyCodeLine{262             query.bindValue(\textcolor{stringliteral}{":ecran"},a);}
\DoxyCodeLine{263             query.exec();}
\DoxyCodeLine{264             query.finish();}
\DoxyCodeLine{265             config\_db.commit();}
\DoxyCodeLine{266             config\_db.close();}
\DoxyCodeLine{267         \}}
\DoxyCodeLine{268         model.clear();}
\DoxyCodeLine{269         model.deleteLater();}
\DoxyCodeLine{270         \textcolor{comment}{/* get blue background image */}}
\DoxyCodeLine{271         QString background\_url;}
\DoxyCodeLine{272         \textcolor{keywordflow}{if} ((b \%2)==0)}
\DoxyCodeLine{273         \{}
\DoxyCodeLine{274             \textcolor{keywordflow}{if} (QFile(\textcolor{stringliteral}{"/var/x7/contents/images/background\_horizontal.img"}).exists()) background\_url=\textcolor{stringliteral}{"file:/var/x7/contents/images/background\_horizontal.img"};}
\DoxyCodeLine{275             \textcolor{keywordflow}{else} background\_url=\textcolor{stringliteral}{"qrc:/qml/content/background\_horizontal.jpg"};}
\DoxyCodeLine{276         \}}
\DoxyCodeLine{277         \textcolor{keywordflow}{else}}
\DoxyCodeLine{278         \{}
\DoxyCodeLine{279             \textcolor{keywordflow}{if} (QFile(\textcolor{stringliteral}{"/var/x7/contents/images/background\_vertical.img"}).exists()) background\_url=\textcolor{stringliteral}{"file:/var/x7/contents/images/background\_vertical.img"};}
\DoxyCodeLine{280             \textcolor{keywordflow}{else} background\_url=\textcolor{stringliteral}{"qrc:/qml/content/background\_vertical.jpg"};}
\DoxyCodeLine{281         \}}
\DoxyCodeLine{282         engine.rootContext()-\/>setContextProperty(\textcolor{stringliteral}{"background\_file"},background\_url);}
\DoxyCodeLine{283     \}}
\DoxyCodeLine{284 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_main_window_a0836be93796c9c7122383f08b9f3ac6f}\label{class_main_window_a0836be93796c9c7122383f08b9f3ac6f}} 
\index{MainWindow@{MainWindow}!window\_set\_proxy\_web@{window\_set\_proxy\_web}}
\index{window\_set\_proxy\_web@{window\_set\_proxy\_web}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{window\_set\_proxy\_web}{window\_set\_proxy\_web}}
{\footnotesize\ttfamily void Main\+Window\+::window\+\_\+set\+\_\+proxy\+\_\+web (\begin{DoxyParamCaption}\item[{Q\+String}]{proxy\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_main_window_a0836be93796c9c7122383f08b9f3ac6f}{Main\+Window\+::window\+\_\+set\+\_\+proxy\+\_\+web}}. 


\begin{DoxyItemize}
\item set proxy 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{147 \{}
\DoxyCodeLine{148     \mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Debug}}(\textcolor{stringliteral}{"MainWindow::window\_set\_proxy\_web"});}
\DoxyCodeLine{149     QNetworkProxy proxy;}
\DoxyCodeLine{150     QString name, port;}
\DoxyCodeLine{151     name = proxy\_id.section(\textcolor{charliteral}{':'}, 0, 0);}
\DoxyCodeLine{152     port = proxy\_id.section(\textcolor{charliteral}{':'}, 1, 1);}
\DoxyCodeLine{153     \textcolor{keywordflow}{if} (name.isEmpty()) \{}
\DoxyCodeLine{154         proxy=QNetworkProxy::NoProxy;}
\DoxyCodeLine{155         \mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Debug}}(\textcolor{stringliteral}{"MainWindow::window\_set\_proxy\_web no proxy"});}
\DoxyCodeLine{156     \}}
\DoxyCodeLine{157     \textcolor{keywordflow}{else}}
\DoxyCodeLine{158     \{}
\DoxyCodeLine{159         proxy=QNetworkProxy::HttpProxy;}
\DoxyCodeLine{160         proxy.setHostName(name);}
\DoxyCodeLine{161         proxy.setPort(port.toInt());}
\DoxyCodeLine{162     \}}
\DoxyCodeLine{163     this-\/>myNetworkAccessManagerFactory-\/>m\_networkManager-\/>setProxy(proxy);}
\DoxyCodeLine{164     \textcolor{comment}{//   this-\/>myNetworkAccessManagerFactory-\/>m\_networkManager-\/>cache()-\/>clear();}}
\DoxyCodeLine{165     QString a=QString(\textcolor{stringliteral}{"MainWindow::window\_set\_proxy\_web name : \%1 port :\%2"}).arg(name).arg(port);}
\DoxyCodeLine{166     \mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Debug}}(a);}
\DoxyCodeLine{167 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_main_window_a30f75ceedca2e1a0d0c738161e150640}\label{class_main_window_a30f75ceedca2e1a0d0c738161e150640}} 
\index{MainWindow@{MainWindow}!window\_set\_touchesfonction@{window\_set\_touchesfonction}}
\index{window\_set\_touchesfonction@{window\_set\_touchesfonction}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{window\_set\_touchesfonction}{window\_set\_touchesfonction}}
{\footnotesize\ttfamily void Main\+Window\+::window\+\_\+set\+\_\+touchesfonction (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_main_window_a30f75ceedca2e1a0d0c738161e150640}{Main\+Window\+::window\+\_\+set\+\_\+touchesfonction}}. 


\begin{DoxyItemize}
\item read database\+\_\+setup.\+db file and create touchesfonction buttons 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{106 \{}
\DoxyCodeLine{107     \mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Debug}}(\textcolor{stringliteral}{"MainWindow::window\_set\_touchesfonction"});}
\DoxyCodeLine{108     \textcolor{comment}{//FIXME factoriser l'accés à la BDD}}
\DoxyCodeLine{109     QSqlDatabase config\_db;}
\DoxyCodeLine{110     config\_db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"touchesfonction\_setup"});}
\DoxyCodeLine{111     config\_db.setDatabaseName(\textcolor{stringliteral}{"/var/x7/etc/database\_setup.db"});}
\DoxyCodeLine{112 }
\DoxyCodeLine{113     \textcolor{comment}{/* Open database\_setub.db */}}
\DoxyCodeLine{114     \textcolor{keywordflow}{if} (config\_db.open())}
\DoxyCodeLine{115     \{}
\DoxyCodeLine{116         \mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Debug}}(\textcolor{stringliteral}{"Lecture table touchesfonction"});}
\DoxyCodeLine{117         QSqlQueryModel model;}
\DoxyCodeLine{118         model.setQuery(\textcolor{stringliteral}{"SELECT * FROM touchesfonction"},config\_db);}
\DoxyCodeLine{119         \textcolor{keywordflow}{if} (!model.record(0).contains(\textcolor{stringliteral}{"tempo"}))}
\DoxyCodeLine{120         \{}
\DoxyCodeLine{121             \mbox{\hyperlink{class_main_window_a501691b6e11c81d4d6accbe6fa85f447}{Debug}}(\textcolor{stringliteral}{"AlterTable touches fonctions"});}
\DoxyCodeLine{122             model.setQuery(\textcolor{stringliteral}{"ALTER TABLE touchesfonction ADD tempo VARCHAR(5)"},config\_db);}
\DoxyCodeLine{123             config\_db.commit();}
\DoxyCodeLine{124         \}}
\DoxyCodeLine{125 }
\DoxyCodeLine{126         \mbox{\hyperlink{class_touchesfonction_sql_model}{TouchesfonctionSqlModel}} *touchesfonctionSqlModel = \textcolor{keyword}{new} \mbox{\hyperlink{class_touchesfonction_sql_model}{TouchesfonctionSqlModel}}(\&engine,config\_db);}
\DoxyCodeLine{127         touchesfonctionSqlModel-\/>\mbox{\hyperlink{class_touchesfonction_sql_model_aa6882ed3f5192ad96dce1df6e4454cb2}{setQuery}}(\textcolor{stringliteral}{"SELECT * FROM touchesfonction"},config\_db);}
\DoxyCodeLine{128         \textcolor{comment}{/* creation of model used in TouchesFonction.qml*/}}
\DoxyCodeLine{129         engine.rootContext()-\/>setContextProperty(\textcolor{stringliteral}{"touchesfonctionmodel"}, touchesfonctionSqlModel);}
\DoxyCodeLine{130         model.setQuery(\textcolor{stringliteral}{"SELECT * FROM touchesfonction"},config\_db);}
\DoxyCodeLine{131         engine.rootContext()-\/>setContextProperty(\textcolor{stringliteral}{"nbtouchesfonction"},model.rowCount());}
\DoxyCodeLine{132 }
\DoxyCodeLine{133         \textcolor{comment}{/* Close database\_detup.db */}}
\DoxyCodeLine{134         config\_db.close();}
\DoxyCodeLine{135         model.clear();}
\DoxyCodeLine{136         model.deleteLater();}
\DoxyCodeLine{137         \textcolor{comment}{/*call SLOT mainview.qml reset\_touche() */}}
\DoxyCodeLine{138         signal\_reset\_touche();}
\DoxyCodeLine{139     \}}
\DoxyCodeLine{140 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{mainwindow_8h}{mainwindow.\+h}}\item 
\mbox{\hyperlink{mainwindow_8cpp}{mainwindow.\+cpp}}\end{DoxyCompactItemize}
