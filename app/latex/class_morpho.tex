\hypertarget{class_morpho}{}\doxysection{Morpho Class Reference}
\label{class_morpho}\index{Morpho@{Morpho}}
Inheritance diagram for Morpho\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_morpho}
\end{center}
\end{figure}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_morpho_adb887c34a9c4a2becf3656cf654c08cb}\label{class_morpho_adb887c34a9c4a2becf3656cf654c08cb}} 
I {\bfseries M\+O\+R\+P\+H\+O\+\_\+\+Convert\+Error} (UC i\+\_\+uc\+\_\+\+Status)
\item 
\mbox{\Hypertarget{class_morpho_a2ae6224921f298168ec9452ea9e01363}\label{class_morpho_a2ae6224921f298168ec9452ea9e01363}} 
I {\bfseries M\+O\+R\+P\+H\+O\+\_\+\+Convert\+Error\+\_\+ihm} (UC i\+\_\+uc\+\_\+\+Status)
\item 
\mbox{\Hypertarget{class_morpho_aa4caabc7453dcf1bacca89688a73c029}\label{class_morpho_aa4caabc7453dcf1bacca89688a73c029}} 
void {\bfseries M\+O\+R\+P\+H\+O\+\_\+\+Identify} (void)
\item 
\mbox{\Hypertarget{class_morpho_a3de4b6060474e493a3859c9edaa7de81}\label{class_morpho_a3de4b6060474e493a3859c9edaa7de81}} 
void {\bfseries M\+O\+R\+P\+H\+O\+\_\+\+Fill\+Data\+Base} (void)
\item 
\mbox{\Hypertarget{class_morpho_a529b773526f93dc5a8d1fc7d8e0edffe}\label{class_morpho_a529b773526f93dc5a8d1fc7d8e0edffe}} 
I {\bfseries M\+O\+R\+P\+H\+O\+\_\+\+Add\+Base\+Record} (P\+T\+\_\+\+B\+UF l\+\_\+x\+\_\+\+User\+ID, P\+T\+\_\+\+B\+U\+F\+\_\+\+PK i\+\_\+px\+\_\+\+Buf\+\_\+\+Pk, UC i\+\_\+uc\+\_\+\+Nb\+Pk)
\item 
void \mbox{\hyperlink{class_morpho_a2b5219c6a0c6de38f4a32ea62b61a91b}{M\+O\+R\+P\+H\+O\+\_\+\+Enroll\+User}} (void)
\item 
void \mbox{\hyperlink{class_morpho_a5cb07611ea5e870b1900e42c205a619a}{M\+O\+R\+P\+H\+O\+\_\+\+Delete\+User\+Index}} (void)
\item 
\mbox{\Hypertarget{class_morpho_aac597daea1bbade4c0a688247c15fd3d}\label{class_morpho_aac597daea1bbade4c0a688247c15fd3d}} 
void {\bfseries M\+O\+R\+P\+H\+O\+\_\+\+Delete\+All\+User} (void)
\item 
void \mbox{\hyperlink{class_morpho_a2e14b30fc6feeda2f34930cf8113a9de}{M\+O\+R\+P\+H\+O\+\_\+\+Destroy\+Data\+Base}} (void)
\item 
void \mbox{\hyperlink{class_morpho_a840733c459f286feeaf08feccf7b8deb}{M\+O\+R\+P\+H\+O\+\_\+\+Create\+Data\+Base}} (void)
\item 
void \mbox{\hyperlink{class_morpho_a22acda49506502cfddcd293f861e85dc}{M\+O\+R\+P\+H\+O\+\_\+\+Get\+Base\+Config}} (void)
\item 
\mbox{\Hypertarget{class_morpho_a5291dcbd332d5afcd444eb1953bcee32}\label{class_morpho_a5291dcbd332d5afcd444eb1953bcee32}} 
void {\bfseries M\+O\+R\+P\+H\+O\+\_\+\+List\+Data\+Base\+User} (void)
\item 
\mbox{\Hypertarget{class_morpho_aaa5eb9e28c0efc26acf712e09bb55d6f}\label{class_morpho_aaa5eb9e28c0efc26acf712e09bb55d6f}} 
void {\bfseries M\+O\+R\+P\+H\+O\+\_\+\+Get\+Descriptor} (void)
\item 
\mbox{\Hypertarget{class_morpho_a23204a8d577a0de9aceb19b2d5a9aa71}\label{class_morpho_a23204a8d577a0de9aceb19b2d5a9aa71}} 
I {\bfseries Save\+Minutiae} (P\+T\+\_\+\+B\+UF, P\+T\+\_\+\+B\+UF, P\+T\+\_\+\+B\+UF)
\end{DoxyCompactItemize}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_morpho_adc3d9fd3d7fc6f09c17487c2c57f10c2}\label{class_morpho_adc3d9fd3d7fc6f09c17487c2c57f10c2}} 
void {\bfseries signal\+\_\+morpho\+\_\+badge} (Q\+String)
\item 
\mbox{\Hypertarget{class_morpho_a05d2386faeab26e3ea88cba13c9ce423}\label{class_morpho_a05d2386faeab26e3ea88cba13c9ce423}} 
void {\bfseries signal\+\_\+morpho\+\_\+message} (Q\+String)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_morpho_af57a4c716a148c3e17d7cd08d07a7de5}\label{class_morpho_af57a4c716a148c3e17d7cd08d07a7de5}} 
M\+O\+R\+P\+H\+O\+\_\+\+H\+A\+N\+D\+LE {\bfseries i\+\_\+h\+\_\+\+Mso100\+Handle}
\item 
\mbox{\Hypertarget{class_morpho_adc963132a33b064085615463540cc9d0}\label{class_morpho_adc963132a33b064085615463540cc9d0}} 
UC {\bfseries identifiant} \mbox{[}25\mbox{]}
\item 
\mbox{\Hypertarget{class_morpho_a4963251742a5571d7612917561debb24}\label{class_morpho_a4963251742a5571d7612917561debb24}} 
UL {\bfseries index}
\item 
\mbox{\Hypertarget{class_morpho_a9c25cd5d1b78282c7a849ed8acbb7436}\label{class_morpho_a9c25cd5d1b78282c7a849ed8acbb7436}} 
unsigned char $\ast$ {\bfseries blob}
\item 
\mbox{\Hypertarget{class_morpho_a9239dfd033fde478ff9dc89fa2826ea8}\label{class_morpho_a9239dfd033fde478ff9dc89fa2826ea8}} 
Q\+Mutex {\bfseries mutex}
\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_morpho_a840733c459f286feeaf08feccf7b8deb}\label{class_morpho_a840733c459f286feeaf08feccf7b8deb}} 
\index{Morpho@{Morpho}!MORPHO\_CreateDataBase@{MORPHO\_CreateDataBase}}
\index{MORPHO\_CreateDataBase@{MORPHO\_CreateDataBase}!Morpho@{Morpho}}
\doxysubsubsection{\texorpdfstring{MORPHO\_CreateDataBase}{MORPHO\_CreateDataBase}}
{\footnotesize\ttfamily void Morpho\+::\+M\+O\+R\+P\+H\+O\+\_\+\+Create\+Data\+Base (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}

Create database of index 0
\begin{DoxyItemize}
\item 3 Additionnal fields
\item Max User 100
\item 2 fingers per user
\item Standard PK 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{206 \{}
\DoxyCodeLine{207     I       l\_i\_Ret;}
\DoxyCodeLine{208     UC      l\_uc\_Status;}
\DoxyCodeLine{209     T\_FIELD     l\_x\_BaseAddField[3];}
\DoxyCodeLine{210 }
\DoxyCodeLine{211     memset((PC)\&l\_x\_BaseAddField, 0, \textcolor{keyword}{sizeof}(l\_x\_BaseAddField));}
\DoxyCodeLine{212     \textcolor{comment}{// Add Field 1}}
\DoxyCodeLine{213     l\_x\_BaseAddField[0].m\_us\_FieldMaxSize = 25;}
\DoxyCodeLine{214     sprintf((PC)l\_x\_BaseAddField[0].m\_auc\_FieldName, \textcolor{stringliteral}{"\%s"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{215     l\_x\_BaseAddField[0].m\_uc\_Right = PUBLIC;}
\DoxyCodeLine{216 }
\DoxyCodeLine{217     \textcolor{comment}{// Add Field 2}}
\DoxyCodeLine{218     l\_x\_BaseAddField[1].m\_us\_FieldMaxSize = 25;}
\DoxyCodeLine{219     sprintf((PC)l\_x\_BaseAddField[1].m\_auc\_FieldName, \textcolor{stringliteral}{"\%s"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{220     l\_x\_BaseAddField[1].m\_uc\_Right = PUBLIC;}
\DoxyCodeLine{221     \textcolor{comment}{// Add Field 3}}
\DoxyCodeLine{222     l\_x\_BaseAddField[2].m\_us\_FieldMaxSize = 25;}
\DoxyCodeLine{223     sprintf((PC)l\_x\_BaseAddField[2].m\_auc\_FieldName, \textcolor{stringliteral}{"\%s"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{224     l\_x\_BaseAddField[2].m\_uc\_Right = PUBLIC;}
\DoxyCodeLine{225 }
\DoxyCodeLine{226     l\_i\_Ret = MSO\_BioDB\_CreateDb( i\_h\_Mso100Handle,}
\DoxyCodeLine{227                                   0,                             \textcolor{comment}{//UC       i\_uc\_IndexDB,}}
\DoxyCodeLine{228                                   500,                           \textcolor{comment}{//US       i\_us\_UserMax,}}
\DoxyCodeLine{229                                   2,                             \textcolor{comment}{//UC       i\_uc\_NbFinger,}}
\DoxyCodeLine{230                                   ID\_BIO\_ALGO\_PARAM\_PKCOMP,                             \textcolor{comment}{//UC       i\_uc\_NormalizedPK\_Type,}}
\DoxyCodeLine{231                                   2,                             \textcolor{comment}{//UC       i\_uc\_NbAddField,}}
\DoxyCodeLine{232                                   0,                             \textcolor{comment}{//UC       i\_uc\_encryptedDB,}}
\DoxyCodeLine{233                                   (PT\_FIELD)\&l\_x\_BaseAddField,   \textcolor{comment}{//PT\_FIELD i\_px\_AddField,}}
\DoxyCodeLine{234                                   \&l\_uc\_Status                   \textcolor{comment}{//PUC      o\_puc\_ILV\_Status}}
\DoxyCodeLine{235                                   );}
\DoxyCodeLine{236     \textcolor{keywordflow}{if}(l\_i\_Ret == 0 \&\& l\_uc\_Status==0)}
\DoxyCodeLine{237     \{}
\DoxyCodeLine{238         badgelog-\/>debug(\textcolor{stringliteral}{"Create Base index 0 -\/-\/-\/-\/-\/> OK"});}
\DoxyCodeLine{239         signal\_morpho\_message(\textcolor{stringliteral}{"Base CrÃ©ee"});}
\DoxyCodeLine{240     \}}
\DoxyCodeLine{241     \textcolor{keywordflow}{else}}
\DoxyCodeLine{242     \{}
\DoxyCodeLine{243         \textcolor{keywordflow}{if} (badgelog-\/>isDebugEnabled())}
\DoxyCodeLine{244         \{}
\DoxyCodeLine{245             badgelog-\/>debug(\textcolor{stringliteral}{"MSO\_BioDB\_CreateDb ret=\%d status=0x\%02X"}, l\_i\_Ret, l\_uc\_Status);}
\DoxyCodeLine{246             \textcolor{keywordflow}{if}(l\_uc\_Status != 0) MORPHO\_ConvertError(l\_uc\_Status);}
\DoxyCodeLine{247         \}}
\DoxyCodeLine{248         l\_i\_Ret = -\/1;}
\DoxyCodeLine{249     \}}
\DoxyCodeLine{250 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_morpho_a5cb07611ea5e870b1900e42c205a619a}\label{class_morpho_a5cb07611ea5e870b1900e42c205a619a}} 
\index{Morpho@{Morpho}!MORPHO\_DeleteUserIndex@{MORPHO\_DeleteUserIndex}}
\index{MORPHO\_DeleteUserIndex@{MORPHO\_DeleteUserIndex}!Morpho@{Morpho}}
\doxysubsubsection{\texorpdfstring{MORPHO\_DeleteUserIndex}{MORPHO\_DeleteUserIndex}}
{\footnotesize\ttfamily void Morpho\+::\+M\+O\+R\+P\+H\+O\+\_\+\+Delete\+User\+Index (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}

Delete user of index i\+\_\+ul\+\_\+\+Index\+User in database of index 0 
\begin{DoxyCode}{0}
\DoxyCodeLine{811 \{}
\DoxyCodeLine{812     I   l\_i\_Ret;}
\DoxyCodeLine{813     UC  l\_uc\_Status;}
\DoxyCodeLine{814     UL  l\_ul\_EmbeddedError;}
\DoxyCodeLine{815     UL  l\_ul\_IndexUser;}
\DoxyCodeLine{816 }
\DoxyCodeLine{817     \textcolor{comment}{//    C l\_ac\_String[32];}}
\DoxyCodeLine{818 }
\DoxyCodeLine{819     \textcolor{comment}{//   fprintf(stdout, "Enter Index of User to delete:\(\backslash\)n-\/>");}}
\DoxyCodeLine{820     \textcolor{comment}{//   fgets(l\_ac\_String, 32, stdin);}}
\DoxyCodeLine{821     \textcolor{comment}{//    sscanf(l\_ac\_String, "\%ld", \&l\_ul\_IndexUser);}}
\DoxyCodeLine{822 }
\DoxyCodeLine{823     l\_ul\_IndexUser=index;}
\DoxyCodeLine{824     l\_i\_Ret = MSO\_BioDB\_DeleteUser( i\_h\_Mso100Handle,}
\DoxyCodeLine{825                                     0,                   \textcolor{comment}{//UC              i\_uc\_IndexDB,}}
\DoxyCodeLine{826                                     l\_ul\_IndexUser,      \textcolor{comment}{//UL              i\_ul\_IndexUser,}}
\DoxyCodeLine{827                                     \&l\_uc\_Status,        \textcolor{comment}{//PUC             o\_puc\_ILV\_Status,}}
\DoxyCodeLine{828                                     \&l\_ul\_EmbeddedError  \textcolor{comment}{//PUL             o\_pul\_EmbeddedError}}
\DoxyCodeLine{829                                     );}
\DoxyCodeLine{830     \textcolor{keywordflow}{if}(l\_i\_Ret==0 \&\& l\_uc\_Status==0 \&\& l\_ul\_EmbeddedError==0)}
\DoxyCodeLine{831     \{}
\DoxyCodeLine{832         badgelog-\/>debug(\textcolor{stringliteral}{"Delete user with index \%ld in Base index 0 -\/-\/-\/-\/-\/> OK"}, l\_ul\_IndexUser);}
\DoxyCodeLine{833         l\_i\_Ret = 0;}
\DoxyCodeLine{834         QString b;}
\DoxyCodeLine{835         b.setNum(l\_ul\_IndexUser,10);}
\DoxyCodeLine{836         QString a=QString(\textcolor{stringliteral}{"Index: \%1 EffacÃ©"}).arg(b);}
\DoxyCodeLine{837         signal\_morpho\_message(a);}
\DoxyCodeLine{838     \}}
\DoxyCodeLine{839     \textcolor{keywordflow}{else}}
\DoxyCodeLine{840     \{}
\DoxyCodeLine{841         \textcolor{keywordflow}{if} (badgelog-\/>isDebugEnabled())}
\DoxyCodeLine{842         \{}
\DoxyCodeLine{843             badgelog-\/>debug(\textcolor{stringliteral}{"MSO\_BioDB\_DeleteUser ret=\%d status=0x\%02X EmbeddedError=\%ld"},l\_i\_Ret, l\_uc\_Status, l\_ul\_EmbeddedError);}
\DoxyCodeLine{844             \textcolor{keywordflow}{if}(l\_uc\_Status != 0) MORPHO\_ConvertError(l\_uc\_Status);}
\DoxyCodeLine{845         \}}
\DoxyCodeLine{846         \textcolor{keywordflow}{if}(l\_uc\_Status != 0) MORPHO\_ConvertError\_ihm(l\_uc\_Status);}
\DoxyCodeLine{847         l\_i\_Ret = -\/1;}
\DoxyCodeLine{848     \}}
\DoxyCodeLine{849 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_morpho_a2e14b30fc6feeda2f34930cf8113a9de}\label{class_morpho_a2e14b30fc6feeda2f34930cf8113a9de}} 
\index{Morpho@{Morpho}!MORPHO\_DestroyDataBase@{MORPHO\_DestroyDataBase}}
\index{MORPHO\_DestroyDataBase@{MORPHO\_DestroyDataBase}!Morpho@{Morpho}}
\doxysubsubsection{\texorpdfstring{MORPHO\_DestroyDataBase}{MORPHO\_DestroyDataBase}}
{\footnotesize\ttfamily void Morpho\+::\+M\+O\+R\+P\+H\+O\+\_\+\+Destroy\+Data\+Base (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}

Destroy database of index 0 
\begin{DoxyCode}{0}
\DoxyCodeLine{893 \{}
\DoxyCodeLine{894     I   l\_i\_Ret;}
\DoxyCodeLine{895     UC  l\_uc\_Status;}
\DoxyCodeLine{896     UL  l\_ul\_EmbeddedError;}
\DoxyCodeLine{897 }
\DoxyCodeLine{898     l\_i\_Ret = MSO\_BioDB\_DestroyDb( i\_h\_Mso100Handle,}
\DoxyCodeLine{899                                    0,}
\DoxyCodeLine{900                                    \&l\_uc\_Status,              \textcolor{comment}{//PUC  o\_puc\_ILV\_Status,}}
\DoxyCodeLine{901                                    \&l\_ul\_EmbeddedError        \textcolor{comment}{//PUL  o\_pul\_EmbeddedError}}
\DoxyCodeLine{902                                    );}
\DoxyCodeLine{903     \textcolor{keywordflow}{if}(l\_i\_Ret == 0 \&\& l\_uc\_Status==0 \&\& l\_ul\_EmbeddedError ==0)}
\DoxyCodeLine{904     \{}
\DoxyCodeLine{905         badgelog-\/>debug(\textcolor{stringliteral}{"Destroy Base index 0 -\/-\/-\/-\/-\/> OK"});}
\DoxyCodeLine{906         l\_i\_Ret = 0;}
\DoxyCodeLine{907         signal\_morpho\_message(\textcolor{stringliteral}{"Base DÃ©truite"});}
\DoxyCodeLine{908     \}}
\DoxyCodeLine{909     \textcolor{keywordflow}{else}}
\DoxyCodeLine{910     \{}
\DoxyCodeLine{911         \textcolor{keywordflow}{if} (badgelog-\/>isDebugEnabled())}
\DoxyCodeLine{912         \{}
\DoxyCodeLine{913             badgelog-\/>debug(\textcolor{stringliteral}{"MSO\_BioDB\_DestroyDb ret=\%d status=0x\%02X EmbeddedError=\%ld"},l\_i\_Ret, l\_uc\_Status, l\_ul\_EmbeddedError);}
\DoxyCodeLine{914             \textcolor{keywordflow}{if}(l\_uc\_Status != 0) MORPHO\_ConvertError(l\_uc\_Status);}
\DoxyCodeLine{915         \}}
\DoxyCodeLine{916         \textcolor{keywordflow}{if}(l\_uc\_Status != 0) MORPHO\_ConvertError\_ihm(l\_uc\_Status);}
\DoxyCodeLine{917         l\_i\_Ret = -\/1;}
\DoxyCodeLine{918     \}}
\DoxyCodeLine{919 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_morpho_a2b5219c6a0c6de38f4a32ea62b61a91b}\label{class_morpho_a2b5219c6a0c6de38f4a32ea62b61a91b}} 
\index{Morpho@{Morpho}!MORPHO\_EnrollUser@{MORPHO\_EnrollUser}}
\index{MORPHO\_EnrollUser@{MORPHO\_EnrollUser}!Morpho@{Morpho}}
\doxysubsubsection{\texorpdfstring{MORPHO\_EnrollUser}{MORPHO\_EnrollUser}}
{\footnotesize\ttfamily void Morpho\+::\+M\+O\+R\+P\+H\+O\+\_\+\+Enroll\+User (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}

Enroll User. Captures and enrolls live fingers
\begin{DoxyItemize}
\item 1 User ID and 2 additionnal fields
\item 2 fingers per user
\item 3 acquisitions per finger
\item Standard PK 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{557 \{}
\DoxyCodeLine{558     I       l\_i\_Ret;}
\DoxyCodeLine{559     UC      l\_uc\_Status;}
\DoxyCodeLine{560     T\_BIO\_PARAM\_PC l\_x\_BioParamPC;}
\DoxyCodeLine{561     T\_BUF   l\_x\_addField[3];}
\DoxyCodeLine{562     UC      l\_uc\_EnrollStatus;}
\DoxyCodeLine{563     UL      l\_ul\_UserDBIndex;}
\DoxyCodeLine{564     UC      l\_auc\_AddField1[25];}
\DoxyCodeLine{565     UC      l\_auc\_AddField2[25];}
\DoxyCodeLine{566     T\_BUF   minutiae\_t\_buf;}
\DoxyCodeLine{567     T\_BUF   minutiae1\_t\_buf;}
\DoxyCodeLine{568     UC minutiae[260];}
\DoxyCodeLine{569     UC minutiae1[260];}
\DoxyCodeLine{570     QString a,b,id;}
\DoxyCodeLine{571 }
\DoxyCodeLine{572     \textcolor{comment}{//    UC        l\_auc\_UserID[25];}}
\DoxyCodeLine{573 }
\DoxyCodeLine{574     \textcolor{comment}{/*        typedef struct}}
\DoxyCodeLine{575 \textcolor{comment}{            \{}}
\DoxyCodeLine{576 \textcolor{comment}{                typedef struct}}
\DoxyCodeLine{577 \textcolor{comment}{                \{}}
\DoxyCodeLine{578 \textcolor{comment}{                    UL          m\_ul\_Size;}}
\DoxyCodeLine{579 \textcolor{comment}{                    PUC         m\_puc\_Buf;}}
\DoxyCodeLine{580 \textcolor{comment}{                \}T\_BUF, *PT\_BUF;}}
\DoxyCodeLine{581 \textcolor{comment}{                PT\_BUF      io\_px\_BiometricData;}}
\DoxyCodeLine{582 \textcolor{comment}{                UC          i\_uc\_ExportMinutiae;}}
\DoxyCodeLine{583 \textcolor{comment}{                UC          pad[3];}}
\DoxyCodeLine{584 \textcolor{comment}{            \}T\_EXPORT\_PK, *PT\_EXPORT\_PK;}}
\DoxyCodeLine{585 \textcolor{comment}{    */}}
\DoxyCodeLine{586 }
\DoxyCodeLine{587 }
\DoxyCodeLine{588 }
\DoxyCodeLine{589 }
\DoxyCodeLine{590     PT\_EXPORT\_IMAGE l\_px\_ExportImage;}
\DoxyCodeLine{591     l\_px\_ExportImage = NULL;}
\DoxyCodeLine{592 }
\DoxyCodeLine{593     T\_EXPORT\_PK        l\_x\_ExportPK;}
\DoxyCodeLine{594     PT\_EXPORT\_PK        l\_px\_ExportPK;}
\DoxyCodeLine{595     l\_px\_ExportPK = NULL;}
\DoxyCodeLine{596     l\_px\_ExportPK = \&l\_x\_ExportPK;}
\DoxyCodeLine{597 }
\DoxyCodeLine{598     \textcolor{keywordflow}{if} (l\_px\_ExportPK != NULL)}
\DoxyCodeLine{599     \{}
\DoxyCodeLine{600         l\_x\_ExportPK.i\_uc\_ExportMinutiae=1;}
\DoxyCodeLine{601         l\_x\_ExportPK.io\_px\_BiometricData=\&minutiae\_t\_buf;}
\DoxyCodeLine{602 }
\DoxyCodeLine{603         l\_x\_ExportPK.io\_px\_BiometricData-\/>m\_ul\_Size = 256;}
\DoxyCodeLine{604         l\_x\_ExportPK.io\_px\_BiometricData-\/>m\_puc\_Buf =minutiae;}
\DoxyCodeLine{605         memset ( l\_x\_ExportPK.io\_px\_BiometricData-\/>m\_puc\_Buf, 0, 256);}
\DoxyCodeLine{606     \}}
\DoxyCodeLine{607 }
\DoxyCodeLine{608     T\_EXPORT\_PK        l\_x\_ExportPK1;}
\DoxyCodeLine{609     PT\_EXPORT\_PK        l\_px\_ExportPK1;}
\DoxyCodeLine{610     l\_px\_ExportPK1 = NULL;}
\DoxyCodeLine{611     l\_px\_ExportPK1 = \&l\_x\_ExportPK1;}
\DoxyCodeLine{612 }
\DoxyCodeLine{613     \textcolor{keywordflow}{if} (l\_px\_ExportPK1 != NULL)}
\DoxyCodeLine{614     \{}
\DoxyCodeLine{615         l\_x\_ExportPK1.i\_uc\_ExportMinutiae=1;}
\DoxyCodeLine{616         l\_x\_ExportPK1.io\_px\_BiometricData=\&minutiae1\_t\_buf;}
\DoxyCodeLine{617 }
\DoxyCodeLine{618         l\_x\_ExportPK1.io\_px\_BiometricData-\/>m\_ul\_Size = 256;}
\DoxyCodeLine{619         l\_x\_ExportPK1.io\_px\_BiometricData-\/>m\_puc\_Buf = minutiae1;}
\DoxyCodeLine{620         memset ( l\_x\_ExportPK1.io\_px\_BiometricData-\/>m\_puc\_Buf, 0, 256);}
\DoxyCodeLine{621     \}}
\DoxyCodeLine{622 }
\DoxyCodeLine{623 }
\DoxyCodeLine{624     badgelog-\/>debug(\textcolor{stringliteral}{"-\/-\/-\/Captures and enrolls live fingers-\/-\/-\/"});}
\DoxyCodeLine{625     badgelog-\/>debug(\textcolor{stringliteral}{"identifiant \%s"},identifiant);}
\DoxyCodeLine{626 }
\DoxyCodeLine{627     l\_auc\_AddField1[0] = 0; \textcolor{comment}{// Suppress '\(\backslash\)n'}}
\DoxyCodeLine{628     l\_auc\_AddField2[0] = 0; \textcolor{comment}{// Suppress '\(\backslash\)n'}}
\DoxyCodeLine{629 }
\DoxyCodeLine{630     l\_x\_addField[0].m\_ul\_Size =  strlen((PC)identifiant);}
\DoxyCodeLine{631     l\_x\_addField[0].m\_puc\_Buf = identifiant;}
\DoxyCodeLine{632 }
\DoxyCodeLine{633     l\_x\_addField[1].m\_ul\_Size = strlen((PC)l\_auc\_AddField1)+1;}
\DoxyCodeLine{634     l\_x\_addField[1].m\_puc\_Buf = l\_auc\_AddField1;}
\DoxyCodeLine{635 }
\DoxyCodeLine{636     l\_x\_addField[2].m\_ul\_Size = strlen((PC)l\_auc\_AddField2)+1;}
\DoxyCodeLine{637     l\_x\_addField[2].m\_puc\_Buf = l\_auc\_AddField2;}
\DoxyCodeLine{638 }
\DoxyCodeLine{639     memset(\&l\_x\_BioParamPC, 0, \textcolor{keyword}{sizeof}(T\_BIO\_PARAM\_PC));}
\DoxyCodeLine{640 }
\DoxyCodeLine{641     l\_x\_BioParamPC.m\_i\_ffd\_security\_level   = 5;   \textcolor{comment}{// i\_i\_SecurityLevel;}}
\DoxyCodeLine{642     l\_x\_BioParamPC.m\_i\_Algo                 = MORPHO\_DEFAULT\_CODER;}
\DoxyCodeLine{643     l\_x\_BioParamPC.m\_ul\_DetectModeChoice    = MORPHO\_ENROLL\_DETECT\_MODE;}
\DoxyCodeLine{644     l\_x\_BioParamPC.m\_ul\_MatcherMode         = MORPHO\_STANDARD\_MATCHING\_STRATEGY;}
\DoxyCodeLine{645 }
\DoxyCodeLine{646     l\_x\_BioParamPC.m\_ul\_asynchronous\_evt    =  MORPHO\_CALLBACK\_DETECTQUALITY | MORPHO\_CALLBACK\_CODEQUALITY | MORPHO\_CALLBACK\_IMAGE\_CMD |}
\DoxyCodeLine{647             MORPHO\_CALLBACK\_COMMAND\_CMD | MORPHO\_CALLBACK\_ENROLLMENT\_CMD; \textcolor{comment}{// i\_ul\_AsynchronousEvnt;}}
\DoxyCodeLine{648     l\_x\_BioParamPC.m\_pul\_score              = NULL;}
\DoxyCodeLine{649     l\_x\_BioParamPC.m\_px\_Timers              = NULL;}
\DoxyCodeLine{650     l\_x\_BioParamPC.m\_uc\_LatentDetection     = 0;}
\DoxyCodeLine{651 }
\DoxyCodeLine{652     \textcolor{comment}{//  typedef I (*T\_pFuncILV\_Buffer)(PVOID,I,PVOID)=CommandCallback();}}
\DoxyCodeLine{653     badge\_thread.badge.message1=\textcolor{stringliteral}{""};}
\DoxyCodeLine{654     badge\_thread.badge.message2=\textcolor{stringliteral}{""};}
\DoxyCodeLine{655 }
\DoxyCodeLine{656     MSO\_RegisterAsyncILV(i\_h\_Mso100Handle,}
\DoxyCodeLine{657                          (I)l\_x\_BioParamPC.m\_ul\_asynchronous\_evt,}
\DoxyCodeLine{658                          (T\_pFuncILV\_Buffer) \&BiometricCallback,}
\DoxyCodeLine{659                          (PVOID) NULL);}
\DoxyCodeLine{660     \textcolor{comment}{//    MSO\_RegisterAsyncILV(i\_h\_Mso100Handle,l\_x\_BioParamPC.m\_ul\_asynchronous\_evt,(T\_MORPHO\_CALLBACK\_FUNCTION) \&badge\_thread.badge.morpho.BiometricCallback,NULL);}}
\DoxyCodeLine{661     l\_i\_Ret = MSO\_Bio\_Enroll\_FingerVein (}
\DoxyCodeLine{662                 i\_h\_Mso100Handle,   \textcolor{comment}{//MORPHO\_HANDLE             i\_h\_Mso100Handle,}}
\DoxyCodeLine{663                 (UC) 0,                 \textcolor{comment}{//UC                        i\_uc\_IndexDB,}}
\DoxyCodeLine{664                 (US) 0,                 \textcolor{comment}{//US                        i\_us\_Timeout,}}
\DoxyCodeLine{665                 (US) 0,                 \textcolor{comment}{//US                        i\_us\_Acquisition\_Threshold,}}
\DoxyCodeLine{666                 (UC) 0,                 \textcolor{comment}{//UC                        i\_uc\_EnrollmentType,}}
\DoxyCodeLine{667                 (UC) 2,                 \textcolor{comment}{//UC                        i\_uc\_NbFinger,}}
\DoxyCodeLine{668                 (UC) 1,                 \textcolor{comment}{//UC                        i\_uc\_SaveRecord,}}
\DoxyCodeLine{669                 (UC) MORPHO\_PK\_COMP,    \textcolor{comment}{//UC                i\_uc\_NormalizedPK\_Type,}}
\DoxyCodeLine{670                 (UC) ID\_PK\_FVP, \textcolor{comment}{//UC                                i\_uc\_NormalizedFVP\_Type,}}
\DoxyCodeLine{671                 (UC) 3,                 \textcolor{comment}{//UC                        i\_uc\_NbAddField,}}
\DoxyCodeLine{672                 (PT\_BUF) \&l\_x\_addField, \textcolor{comment}{//PT\_BUF                i\_px\_AddField,}}
\DoxyCodeLine{673                 (UL) 0,                 \textcolor{comment}{//UL                        i\_ul\_pkUpdateMask,}}
\DoxyCodeLine{674                 (PT\_EXPORT\_PK) l\_px\_ExportPK,   \textcolor{comment}{//    PT\_EXPORT\_PK          io\_px\_ExportPk;}}
\DoxyCodeLine{675                 (PT\_EXPORT\_PK) l\_px\_ExportPK1,              \textcolor{comment}{//PT\_EXPORT\_PK              io\_px\_ExportFVP,}}
\DoxyCodeLine{676                 (PT\_EXPORT\_IMAGE) l\_px\_ExportImage,             \textcolor{comment}{//PT\_EXPORT\_IMAGE           io\_px\_ExportImage,}}
\DoxyCodeLine{677                 (PUC) \&l\_uc\_EnrollStatus,   \textcolor{comment}{//PUC                       o\_puc\_EnrollStatus,}}
\DoxyCodeLine{678                 (PUL) \&l\_ul\_UserDBIndex,    \textcolor{comment}{//PUL                       o\_pul\_UserDBIndex,}}
\DoxyCodeLine{679                 (PUC) \&l\_uc\_Status,     \textcolor{comment}{//PUC                       o\_puc\_ILV\_Status,}}
\DoxyCodeLine{680                 (T\_MORPHO\_TEMPLATE\_ENVELOP) MORPHO\_RAW\_TEMPLATE, \textcolor{comment}{//T\_MORPHO\_TEMPLATE\_ENVELOP i\_x\_typEnvelop,}}
\DoxyCodeLine{681                 (I) 0,                  \textcolor{comment}{//I                         i\_i\_ApplicationDataLen,}}
\DoxyCodeLine{682                 (PUC) NULL,             \textcolor{comment}{//PUC                       i\_puc\_ApplicationData,}}
\DoxyCodeLine{683                 (UC) 0,                 \textcolor{comment}{//UC                        i\_uc\_ExportCoderResult,}}
\DoxyCodeLine{684                 (PT\_BUF) NULL,              \textcolor{comment}{//PT\_BUF                    io\_px\_ExportResultCoder,}}
\DoxyCodeLine{685                 (PT\_BUF)NULL,               \textcolor{comment}{//PT\_BUF                    io\_px\_ExportMatrixDirections,}}
\DoxyCodeLine{686                 (PT\_BUF)NULL,               \textcolor{comment}{//PT\_BUF                    o\_px\_ExportMatrixQualities,}}
\DoxyCodeLine{687                 (PT\_BIO\_PARAM\_PC) \&l\_x\_BioParamPC,  \textcolor{comment}{//PT\_BIO\_PARAM\_PC           io\_px\_BioParamPC,}}
\DoxyCodeLine{688                 (UC) 0,                 \textcolor{comment}{//UC                        i\_uc\_SaveImageIndex,}}
\DoxyCodeLine{689                 (PT\_MORPHO\_MOC\_PARAMETERS) NULL,                \textcolor{comment}{//PT\_MORPHO\_MOC\_PARAMETERS  i\_px\_MocParameters}}
\DoxyCodeLine{690                 (PUC) NULL,             \textcolor{comment}{//PUC                       io\_puc\_PkFpQuality,}}
\DoxyCodeLine{691                 (PUC) NULL,             \textcolor{comment}{//PUC                       io\_puc\_AdvancedSecurityLevelCompatibility}}
\DoxyCodeLine{692                 (PT\_BIO\_DATA\_ENCRYPTION) NULL,}
\DoxyCodeLine{693                 (PT\_EXPORT\_IMAGE\_FFD) NULL}
\DoxyCodeLine{694                 );}
\DoxyCodeLine{695 }
\DoxyCodeLine{696     \textcolor{keywordflow}{if}(l\_i\_Ret==0 \&\& l\_uc\_Status==0)}
\DoxyCodeLine{697     \{}
\DoxyCodeLine{698         badgelog-\/>debug(\textcolor{stringliteral}{"Enroll -\/-\/-\/-\/-\/> OK"});}
\DoxyCodeLine{699         badgelog-\/>debug(\textcolor{stringliteral}{"Enroll Status: \%d"}, l\_uc\_EnrollStatus);}
\DoxyCodeLine{700         badgelog-\/>debug(\textcolor{stringliteral}{"User Database Index: \%ld"}, l\_ul\_UserDBIndex);}
\DoxyCodeLine{701         badgelog-\/>debug(\textcolor{stringliteral}{"longueur minutiae: \%ld"},l\_x\_ExportPK.io\_px\_BiometricData-\/>m\_ul\_Size);}
\DoxyCodeLine{702         badgelog-\/>debug(\textcolor{stringliteral}{"longueur minutiae1: \%ld"},l\_x\_ExportPK1.io\_px\_BiometricData-\/>m\_ul\_Size);}
\DoxyCodeLine{703         \textcolor{keywordtype}{id}=(QString) (C*)identifiant;}
\DoxyCodeLine{704         SaveMinutiae(\&l\_x\_addField[0],l\_x\_ExportPK.io\_px\_BiometricData,l\_x\_ExportPK1.io\_px\_BiometricData);}
\DoxyCodeLine{705         b.setNum(l\_ul\_UserDBIndex,10);}
\DoxyCodeLine{706         a=QString(\textcolor{stringliteral}{"\%1\(\backslash\)nIndex: \%2\(\backslash\)nEnregistrement terminÃ©"}).arg(\textcolor{keywordtype}{id}).arg(b);}
\DoxyCodeLine{707         signal\_morpho\_message(a);}
\DoxyCodeLine{708     \}}
\DoxyCodeLine{709     \textcolor{keywordflow}{else}}
\DoxyCodeLine{710     \{}
\DoxyCodeLine{711         \textcolor{keywordflow}{if} (badgelog-\/>isDebugEnabled())}
\DoxyCodeLine{712         \{}
\DoxyCodeLine{713             badgelog-\/>debug(\textcolor{stringliteral}{"MSO\_Bio\_Enroll ret=\%d status=0x\%02X EnrollStatus=\%d"},l\_i\_Ret, l\_uc\_Status, l\_uc\_EnrollStatus);}
\DoxyCodeLine{714             \textcolor{keywordflow}{if}(l\_uc\_Status != 0) MORPHO\_ConvertError(l\_uc\_Status);}
\DoxyCodeLine{715         \}}
\DoxyCodeLine{716         \textcolor{keywordflow}{if}(l\_uc\_Status != 0) MORPHO\_ConvertError\_ihm(l\_uc\_Status);}
\DoxyCodeLine{717         l\_i\_Ret = -\/1;}
\DoxyCodeLine{718     \}}
\DoxyCodeLine{719 }
\DoxyCodeLine{720 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_morpho_a22acda49506502cfddcd293f861e85dc}\label{class_morpho_a22acda49506502cfddcd293f861e85dc}} 
\index{Morpho@{Morpho}!MORPHO\_GetBaseConfig@{MORPHO\_GetBaseConfig}}
\index{MORPHO\_GetBaseConfig@{MORPHO\_GetBaseConfig}!Morpho@{Morpho}}
\doxysubsubsection{\texorpdfstring{MORPHO\_GetBaseConfig}{MORPHO\_GetBaseConfig}}
{\footnotesize\ttfamily void Morpho\+::\+M\+O\+R\+P\+H\+O\+\_\+\+Get\+Base\+Config (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}

Get Base Configuration 
\begin{DoxyCode}{0}
\DoxyCodeLine{927 \{}
\DoxyCodeLine{928     I       l\_i\_Ret;}
\DoxyCodeLine{929     UC      l\_uc\_Status;}
\DoxyCodeLine{930     UL      l\_ul\_EmbeddedError;}
\DoxyCodeLine{931     I       l\_i\_i;}
\DoxyCodeLine{932     T\_FIELD     l\_x\_BaseAddField[2];}
\DoxyCodeLine{933     UL      l\_ul\_AddFieldNb;}
\DoxyCodeLine{934     UC      l\_uc\_FingerNb;}
\DoxyCodeLine{935     UL      l\_ul\_CurrentRecord;}
\DoxyCodeLine{936     UC      l\_uc\_NormalizedPK\_Type;}
\DoxyCodeLine{937     UL      l\_ul\_MaxRecord;}
\DoxyCodeLine{938     UC      l\_uc\_EncrytedDB;}
\DoxyCodeLine{939 }
\DoxyCodeLine{940     memset((PC)\&l\_x\_BaseAddField, 0, \textcolor{keyword}{sizeof}(l\_x\_BaseAddField));}
\DoxyCodeLine{941     l\_ul\_AddFieldNb = 2;}
\DoxyCodeLine{942     l\_uc\_FingerNb = 0;}
\DoxyCodeLine{943     l\_ul\_CurrentRecord = 0;}
\DoxyCodeLine{944     l\_i\_Ret = MSO\_BioDB\_GetBaseConfig( i\_h\_Mso100Handle,}
\DoxyCodeLine{945                                        0,                           \textcolor{comment}{//UC              i\_uc\_IndexDB,}}
\DoxyCodeLine{946                                        \&l\_uc\_FingerNb,              \textcolor{comment}{//PUC             o\_puc\_FingerNb,}}
\DoxyCodeLine{947                                        \&l\_ul\_MaxRecord,             \textcolor{comment}{//PUL             o\_pul\_MaxRecord,}}
\DoxyCodeLine{948                                        \&l\_ul\_CurrentRecord,         \textcolor{comment}{//PUL             o\_pul\_CurrentRecord,}}
\DoxyCodeLine{949                                        \&l\_uc\_EncrytedDB,            \textcolor{comment}{//PUC             o\_puc\_EncrytedDB,}}
\DoxyCodeLine{950                                        \&l\_ul\_AddFieldNb,            \textcolor{comment}{//PUL             io\_pul\_AddFieldNb,}}
\DoxyCodeLine{951                                        (PT\_FIELD)\&l\_x\_BaseAddField, \textcolor{comment}{//PT\_FIELD        o\_px\_AddField,}}
\DoxyCodeLine{952                                        \&l\_uc\_NormalizedPK\_Type,     \textcolor{comment}{//PUC             o\_puc\_NormalizedPK\_Type,}}
\DoxyCodeLine{953                                        \&l\_uc\_Status,                \textcolor{comment}{//PUC             o\_puc\_ILV\_Status,}}
\DoxyCodeLine{954                                        \&l\_ul\_EmbeddedError          \textcolor{comment}{//PUL             o\_pul\_EmbeddedError}}
\DoxyCodeLine{955                                        );}
\DoxyCodeLine{956     \textcolor{keywordflow}{if}(l\_i\_Ret==0 \&\& l\_uc\_Status==0 \&\& l\_ul\_EmbeddedError==0)}
\DoxyCodeLine{957     \{}
\DoxyCodeLine{958         \textcolor{keywordflow}{if} (badgelog-\/>isDebugEnabled())}
\DoxyCodeLine{959         \{}
\DoxyCodeLine{960             badgelog-\/>debug(\textcolor{stringliteral}{"Get Base Config -\/-\/-\/-\/-\/> OK"});}
\DoxyCodeLine{961             badgelog-\/>debug(\textcolor{stringliteral}{"\(\backslash\)tNormalized PK:         \%d"}, l\_uc\_NormalizedPK\_Type);}
\DoxyCodeLine{962             badgelog-\/>debug(\textcolor{stringliteral}{"\(\backslash\)tFinger Number:         \%d"}, l\_uc\_FingerNb);}
\DoxyCodeLine{963             badgelog-\/>debug(\textcolor{stringliteral}{"\(\backslash\)tMax record number:     \%ld"}, l\_ul\_MaxRecord);}
\DoxyCodeLine{964             badgelog-\/>debug(\textcolor{stringliteral}{"\(\backslash\)tCurrent Record number: \%ld"}, l\_ul\_CurrentRecord);}
\DoxyCodeLine{965             badgelog-\/>debug(\textcolor{stringliteral}{"\(\backslash\)tEncrypted database ?   \%s"}, ((l\_uc\_EncrytedDB == 0) ? \textcolor{stringliteral}{"No"} : \textcolor{stringliteral}{"Yes"}));}
\DoxyCodeLine{966             badgelog-\/>debug(\textcolor{stringliteral}{"\(\backslash\)tAdd field Number:      \%ld"}, l\_ul\_AddFieldNb);}
\DoxyCodeLine{967             \textcolor{keywordflow}{for}(l\_i\_i=0; (UL)l\_i\_i<l\_ul\_AddFieldNb; l\_i\_i++)}
\DoxyCodeLine{968                 badgelog-\/>debug(\textcolor{stringliteral}{"\(\backslash\)t-\/-\/>\%s"}, l\_x\_BaseAddField[l\_i\_i].m\_auc\_FieldName);}
\DoxyCodeLine{969         \}}
\DoxyCodeLine{970         QString a=QString(\textcolor{stringliteral}{"Nb Empreintes/Nb Max: \%1/\%2"}).arg(l\_ul\_CurrentRecord).arg(l\_ul\_MaxRecord);}
\DoxyCodeLine{971         signal\_morpho\_message(a);}
\DoxyCodeLine{972     \}}
\DoxyCodeLine{973     \textcolor{keywordflow}{else}}
\DoxyCodeLine{974     \{}
\DoxyCodeLine{975         \textcolor{keywordflow}{if} (badgelog-\/>isDebugEnabled())}
\DoxyCodeLine{976         \{}
\DoxyCodeLine{977             badgelog-\/>debug(\textcolor{stringliteral}{"MSO\_BioDB\_GetBaseConfig ret=\%d status=0x\%02X EmbeddedError=\%ld"},l\_i\_Ret, l\_uc\_Status, l\_ul\_EmbeddedError);}
\DoxyCodeLine{978             \textcolor{keywordflow}{if}(l\_uc\_Status != 0) MORPHO\_ConvertError(l\_uc\_Status);}
\DoxyCodeLine{979         \}}
\DoxyCodeLine{980         \textcolor{keywordflow}{if}(l\_uc\_Status != 0) MORPHO\_ConvertError\_ihm(l\_uc\_Status);}
\DoxyCodeLine{981         l\_i\_Ret = -\/1;}
\DoxyCodeLine{982     \}}
\DoxyCodeLine{983 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
morpho.\+h\item 
morpho.\+cpp\end{DoxyCompactItemize}
