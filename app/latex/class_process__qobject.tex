\hypertarget{class_process__qobject}{}\doxysection{Process\+\_\+qobject Class Reference}
\label{class_process__qobject}\index{Process\_qobject@{Process\_qobject}}


The \mbox{\hyperlink{class_process__qobject}{Process\+\_\+qobject}} class.  




{\ttfamily \#include $<$process.\+h$>$}

Inheritance diagram for Process\+\_\+qobject\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_process__qobject}
\end{center}
\end{figure}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_process__qobject_a29fc3053ce53a9410a8267fa181b94e2}{process\+\_\+init0}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a29fc3053ce53a9410a8267fa181b94e2}{Process\+\_\+qobject\+::process\+\_\+init0}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_acc2d4a2d7cf0ef9f3cea0bd5a23d63b5}{wake\+\_\+up}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_acc2d4a2d7cf0ef9f3cea0bd5a23d63b5}{Process\+\_\+qobject\+::wake\+\_\+up}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a8049239a751c19a33e1646d7a8cc427b}{time2bii\+\_\+tests}} (int a)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a8049239a751c19a33e1646d7a8cc427b}{Process\+\_\+qobject\+::time2bii\+\_\+tests}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a3551f5d82fb1b35fb04cf6ed924709a9}{test\+\_\+uart}} (Q\+String port, int a)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a3551f5d82fb1b35fb04cf6ed924709a9}{Process\+\_\+qobject\+::test\+\_\+uart}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a0bf0f73a3c4b4d25745f87aafbc9f086}{test\+\_\+usb}} (Q\+String port, int a)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a0bf0f73a3c4b4d25745f87aafbc9f086}{Process\+\_\+qobject\+::test\+\_\+usb}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_aecc3d77d60372b73a0154a2526305337}{test\+\_\+ethernet}} (int a)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_aecc3d77d60372b73a0154a2526305337}{Process\+\_\+qobject\+::test\+\_\+ethernet}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a254b0b7a588758a16a0b05f14e7b66dc}{test\+\_\+io}} (Q\+String test, int a)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a254b0b7a588758a16a0b05f14e7b66dc}{Process\+\_\+qobject\+::test\+\_\+io}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a96ccce1632d08624a6ad05a4a9909643}{test\+\_\+audio}} (int a)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a96ccce1632d08624a6ad05a4a9909643}{Process\+\_\+qobject\+::test\+\_\+audio}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a6a39e62f8ade77c0467884c5a90ca069}{test\+\_\+backlight}} (int a)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a6a39e62f8ade77c0467884c5a90ca069}{Process\+\_\+qobject\+::test\+\_\+backlight}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a776fb67a605806a27b290fb5de0a7dfd}{test\+\_\+sleep\+\_\+mode}} (int a)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a776fb67a605806a27b290fb5de0a7dfd}{Process\+\_\+qobject\+::test\+\_\+sleep\+\_\+mode}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_ac6e1e24f591ebccbc4886c122983e44d}{process\+\_\+set\+\_\+nom}} (Q\+String nom)
\begin{DoxyCompactList}\small\item\em (N\+O\+T\+\_\+\+U\+S\+ED) \mbox{\hyperlink{class_process__qobject_ac6e1e24f591ebccbc4886c122983e44d}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+nom}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a81a5a71a52930dd74be30ced7b34e08e}{process\+\_\+set\+\_\+network}} (Q\+String interface, Q\+String ip, Q\+String netmask, Q\+String gateway)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a81a5a71a52930dd74be30ced7b34e08e}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+network}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a78f97513cf8f753e78658547bf52266a}{process\+\_\+set\+\_\+mode\+\_\+network}} (int mode, Q\+String nom, Q\+String ip, Q\+String netmask, Q\+String gateway, Q\+String dns1, Q\+String dns2)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a78f97513cf8f753e78658547bf52266a}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+mode\+\_\+network}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a70a9f0f9e96a1252c26d4b25846dec00}{process\+\_\+set\+\_\+lecteur\+\_\+badge}} (Q\+String lecteur, Q\+String option, Q\+String masque, Q\+String format)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a70a9f0f9e96a1252c26d4b25846dec00}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+lecteur\+\_\+badge}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_aa0a543e9cfafcbf30b4d28bec92fa2af}{process\+\_\+set\+\_\+http}} (Q\+String serveur, Q\+String https, Q\+String http, Q\+String service, Q\+String user, Q\+String password, Q\+String timeout)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_aa0a543e9cfafcbf30b4d28bec92fa2af}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+http}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a25b892e48ab9c60a3fb62f0621913d5d}{process\+\_\+set\+\_\+ntp}} (Q\+String serveur, Q\+String cadence, Q\+String timezone, Q\+String langue)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a25b892e48ab9c60a3fb62f0621913d5d}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+ntp}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_aab97cd7b91c93d38b7120b2ebd6e01f9}{process\+\_\+set\+\_\+divers}} (Q\+String ecran, Q\+String bl1, Q\+String delai, Q\+String bl2, Q\+String delai\+\_\+off, Q\+String sleep\+\_\+mode)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_aab97cd7b91c93d38b7120b2ebd6e01f9}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+divers}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_acf0dc30762c4587ea3d1dd7ef71083c5}{process\+\_\+set\+\_\+wifi}} (Q\+String ssid, Q\+String psk)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_acf0dc30762c4587ea3d1dd7ef71083c5}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+wifi}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a7b4aa465d15b69649e3b166eff9e2902}{process\+\_\+set\+\_\+3G}} (Q\+String apn, Q\+String pin, Q\+String phone, Q\+String user, Q\+String password)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a7b4aa465d15b69649e3b166eff9e2902}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+3G}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_ace6bc86616ebce6fcc266803c3e6e39e}{process\+\_\+set\+\_\+\+S\+SH}} (Q\+String start\+\_\+stop)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_ace6bc86616ebce6fcc266803c3e6e39e}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+\+S\+SH}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a247fd0c56dc2a0d36e2ace19eb1869b6}{process\+\_\+set\+\_\+\+Sw\+Update}} (Q\+String start\+\_\+stop)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a247fd0c56dc2a0d36e2ace19eb1869b6}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+\+Sw\+Update}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a6e60257b1c0ace39f301ea1e306f83d9}{set\+\_\+touches\+\_\+fonction}} (Q\+String libelle, Q\+String activite, Q\+String url, Q\+String proxy, Q\+String tempo)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a6e60257b1c0ace39f301ea1e306f83d9}{Process\+\_\+qobject\+::set\+\_\+touches\+\_\+fonction}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a3a2da1cb4ae0e2ec1daf37c40e305081}{qml\+\_\+message}} (Q\+String s)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a3a2da1cb4ae0e2ec1daf37c40e305081}{Process\+\_\+qobject\+::qml\+\_\+message}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_adcc28e8336fe794abfe34132be8b2a7f}{process\+\_\+browser}} (Q\+String url, Q\+String proxy, Q\+String audio, Q\+String tempo)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_adcc28e8336fe794abfe34132be8b2a7f}{Process\+\_\+qobject\+::process\+\_\+browser}}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_process__qobject_ae8e9f6ca421c82e48b30c2bda38b98cf}\label{class_process__qobject_ae8e9f6ca421c82e48b30c2bda38b98cf}} 
void \mbox{\hyperlink{class_process__qobject_ae8e9f6ca421c82e48b30c2bda38b98cf}{display\+\_\+message}} (Q\+String titre1, Q\+String texte1, Q\+String titre2, Q\+String texte2, Q\+String texte2\+\_\+1, Q\+String titre3, Q\+String texte3, Q\+String texte3\+\_\+1, Q\+String c1, Q\+String c2, Q\+String c3, Q\+String c4, Q\+String badge, Q\+String audio, Q\+String tempo)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_ae8e9f6ca421c82e48b30c2bda38b98cf}{Process\+\_\+qobject\+::display\+\_\+message}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_ad37decda6a1e3af9cbaccb2022271ac3}{video}} (Q\+String nom, Q\+String tempo)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_ad37decda6a1e3af9cbaccb2022271ac3}{Process\+\_\+qobject\+::video}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a2b7806cc8e2b06f4bea2c9e4325a4381}{process\+\_\+init\+\_\+mode\+\_\+network}} ()
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a2b7806cc8e2b06f4bea2c9e4325a4381}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+mode\+\_\+network}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a2a9b4c176f242ae2504cc441e7dfea74}{process\+\_\+init\+\_\+http}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a2a9b4c176f242ae2504cc441e7dfea74}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+http}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_process__qobject_a08c69f3c514d4ea0a89790aa85d86612}\label{class_process__qobject_a08c69f3c514d4ea0a89790aa85d86612}} 
void {\bfseries signal\+\_\+ihm\+\_\+usbkey\+\_\+status} (Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_a70bcc98132ef0e0add50f6f2c5c5e5ea}\label{class_process__qobject_a70bcc98132ef0e0add50f6f2c5c5e5ea}} 
void {\bfseries signal\+\_\+ihm\+\_\+retour\+\_\+test} (Q\+Variant, Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_a45da88f05f3b5e7c03f2e8c638cbb59e}\label{class_process__qobject_a45da88f05f3b5e7c03f2e8c638cbb59e}} 
void {\bfseries signal\+\_\+badge\+\_\+sleep\+\_\+mode} ()
\item 
\mbox{\Hypertarget{class_process__qobject_a32e4b15b44d8cc54c1416785e5e873c6}\label{class_process__qobject_a32e4b15b44d8cc54c1416785e5e873c6}} 
void {\bfseries signal\+\_\+ihm\+\_\+init\+\_\+lecteur\+\_\+badge} (Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_adbc0d1bc915421c1d17d305b021b4f6c}\label{class_process__qobject_adbc0d1bc915421c1d17d305b021b4f6c}} 
void {\bfseries signal\+\_\+ihm\+\_\+init\+\_\+http} (Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_af48e6b6b03d2f600a241cca1df456c75}\label{class_process__qobject_af48e6b6b03d2f600a241cca1df456c75}} 
void {\bfseries signal\+\_\+ihm\+\_\+init\+\_\+ntp} (Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_af1672220b460be6428de439ad446dead}\label{class_process__qobject_af1672220b460be6428de439ad446dead}} 
void {\bfseries signal\+\_\+ihm\+\_\+init\+\_\+divers} (Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_abab4eddfc09350da15a1e528aca3d0d3}\label{class_process__qobject_abab4eddfc09350da15a1e528aca3d0d3}} 
void {\bfseries signal\+\_\+ihm\+\_\+init\+\_\+3G} (Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_aec5551dc00cd7b4b1a45638029267cdc}\label{class_process__qobject_aec5551dc00cd7b4b1a45638029267cdc}} 
void {\bfseries signal\+\_\+ihm\+\_\+init\+\_\+\+S\+SH} (Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_a71fe5a709ee2f20ff7a6b9726970486f}\label{class_process__qobject_a71fe5a709ee2f20ff7a6b9726970486f}} 
void {\bfseries signal\+\_\+ihm\+\_\+init\+\_\+\+Sw\+Update} (Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_ab562a97fa920afd9be83c98edecd7660}\label{class_process__qobject_ab562a97fa920afd9be83c98edecd7660}} 
void {\bfseries signal\+\_\+window\+\_\+init\+\_\+orientation\+\_\+ecran} (Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_a2816c493364898def4c95edbc67a11ea}\label{class_process__qobject_a2816c493364898def4c95edbc67a11ea}} 
void {\bfseries signal\+\_\+window\+\_\+set\+\_\+touchesfonction} (void)
\item 
\mbox{\Hypertarget{class_process__qobject_adac1e9260495ca06be4db996d75bad27}\label{class_process__qobject_adac1e9260495ca06be4db996d75bad27}} 
void {\bfseries signal\+\_\+ihm\+\_\+browser} (Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_afcd9a858f5a99ffd620bfc677be53b4a}\label{class_process__qobject_afcd9a858f5a99ffd620bfc677be53b4a}} 
void {\bfseries signal\+\_\+video} (Q\+Variant, Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_a2e463cbae7c0545b38bcbac811e4faed}\label{class_process__qobject_a2e463cbae7c0545b38bcbac811e4faed}} 
void {\bfseries signal\+\_\+display\+\_\+message} (Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant, Q\+Variant)
\item 
\mbox{\Hypertarget{class_process__qobject_a80c55d88fbfd6837fb7c56a77f8c05a5}\label{class_process__qobject_a80c55d88fbfd6837fb7c56a77f8c05a5}} 
void {\bfseries signal\+\_\+supervision\+\_\+init\+\_\+http} (void)
\item 
\mbox{\Hypertarget{class_process__qobject_a4fa5a21d9c9b67b759c5525aad56b4df}\label{class_process__qobject_a4fa5a21d9c9b67b759c5525aad56b4df}} 
void {\bfseries signal\+\_\+supervision\+\_\+http\+\_\+status} (int)
\item 
\mbox{\Hypertarget{class_process__qobject_a88b01a1988fa970601cdc2a9d327626b}\label{class_process__qobject_a88b01a1988fa970601cdc2a9d327626b}} 
void {\bfseries signal\+\_\+\+X7\+Gest\+Lecteur\+\_\+init\+Lecteur} (void)
\item 
\mbox{\Hypertarget{class_process__qobject_a9bfe9d6368bdca8f40203bdf6d580691}\label{class_process__qobject_a9bfe9d6368bdca8f40203bdf6d580691}} 
void {\bfseries signal\+\_\+window\+\_\+restart\+\_\+app} (void)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_process__qobject_af88bd49995446a0a446d0f000283dc84}{Process\+\_\+qobject}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_af88bd49995446a0a446d0f000283dc84}{Process\+\_\+qobject\+::\+Process\+\_\+qobject}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_ae04c99dad204f1f5993290d45a5ed903}{process\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_ae04c99dad204f1f5993290d45a5ed903}{Process\+\_\+qobject\+::process\+\_\+init}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a7310b33e803b2ec8f1d70e5057e25a8a}{process\+\_\+init\+\_\+lecteur\+\_\+badge}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a7310b33e803b2ec8f1d70e5057e25a8a}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+lecteur\+\_\+badge}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_abad0c73191ac1ec710c0eba8c05fd002}{process\+\_\+init\+\_\+ntp}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_abad0c73191ac1ec710c0eba8c05fd002}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+ntp}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a24c2a63cbcbe83ec687019795bec0ad1}{process\+\_\+init\+\_\+divers}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a24c2a63cbcbe83ec687019795bec0ad1}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+divers}}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_process__qobject_a8b7b3eac774283cd22fd7168e01e2189}\label{class_process__qobject_a8b7b3eac774283cd22fd7168e01e2189}} 
void \mbox{\hyperlink{class_process__qobject_a8b7b3eac774283cd22fd7168e01e2189}{process\+\_\+init\+\_\+wifi}} (void)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a8b7b3eac774283cd22fd7168e01e2189}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+wifi}} \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_process__qobject_ae7a2207e1b326aae9c39d35604388329}\label{class_process__qobject_ae7a2207e1b326aae9c39d35604388329}} 
void \mbox{\hyperlink{class_process__qobject_ae7a2207e1b326aae9c39d35604388329}{process\+\_\+init\+\_\+3G}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_ae7a2207e1b326aae9c39d35604388329}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+3G}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a8d42129f8a8255976297b32e87c7a763}{process\+\_\+init\+\_\+\+S\+SH}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a8d42129f8a8255976297b32e87c7a763}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+\+S\+SH}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a1e0adef1a539eb6653e188f0a52872db}{process\+\_\+init\+\_\+\+Sw\+Update}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a1e0adef1a539eb6653e188f0a52872db}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+\+Sw\+Update}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_process__qobject_a0a0d1c9c01fb3e4678669142ec036f0e}\label{class_process__qobject_a0a0d1c9c01fb3e4678669142ec036f0e}} 
Q\+String {\bfseries serveur\+\_\+ntp}
\item 
\mbox{\Hypertarget{class_process__qobject_a2cd10cd7016af832dc0fd6eea1c789d9}\label{class_process__qobject_a2cd10cd7016af832dc0fd6eea1c789d9}} 
Q\+String {\bfseries cadence\+\_\+ntp}
\item 
\mbox{\Hypertarget{class_process__qobject_a53934b0698b2806b73c98fea6c0ddc64}\label{class_process__qobject_a53934b0698b2806b73c98fea6c0ddc64}} 
Q\+String {\bfseries timezone}
\item 
\mbox{\Hypertarget{class_process__qobject_a58be8af37e056275943d864c43fd4ecf}\label{class_process__qobject_a58be8af37e056275943d864c43fd4ecf}} 
Q\+String {\bfseries langue}
\item 
\mbox{\Hypertarget{class_process__qobject_a2324293715b313558c6ff3ffdc14999e}\label{class_process__qobject_a2324293715b313558c6ff3ffdc14999e}} 
Q\+String {\bfseries type\+\_\+ecran}
\item 
\mbox{\Hypertarget{class_process__qobject_ab40e5ea6cc1a51021690fb47bb316eee}\label{class_process__qobject_ab40e5ea6cc1a51021690fb47bb316eee}} 
Q\+String {\bfseries backlight\+\_\+\+N1}
\item 
\mbox{\Hypertarget{class_process__qobject_a8e311873160d1f9d7c83dc4613530a4f}\label{class_process__qobject_a8e311873160d1f9d7c83dc4613530a4f}} 
Q\+String {\bfseries backlight\+\_\+\+N2}
\item 
\mbox{\Hypertarget{class_process__qobject_aa04c0c8591c447bcabce9ce3eb6917b5}\label{class_process__qobject_aa04c0c8591c447bcabce9ce3eb6917b5}} 
Q\+String {\bfseries sleep\+\_\+mode}
\item 
\mbox{\Hypertarget{class_process__qobject_a68df68731050582de87e7016258934bd}\label{class_process__qobject_a68df68731050582de87e7016258934bd}} 
Q\+String {\bfseries delai\+\_\+\+N2}
\item 
\mbox{\Hypertarget{class_process__qobject_a9be6b4e1e4c76c19e94a4a2232c55aad}\label{class_process__qobject_a9be6b4e1e4c76c19e94a4a2232c55aad}} 
Q\+String {\bfseries delai\+\_\+\+O\+FF}
\item 
\mbox{\Hypertarget{class_process__qobject_ae6a53994ae5a71f18cb582d735c01d9b}\label{class_process__qobject_ae6a53994ae5a71f18cb582d735c01d9b}} 
int {\bfseries audio\+\_\+volume}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_process__qobject_a23a90f795740a685555b19a288621c2d}\label{class_process__qobject_a23a90f795740a685555b19a288621c2d}} 
static log4cpp\+::\+Category $\ast$ {\bfseries log4cpp} = \&log4cpp\+::\+Category\+::get\+Instance(\char`\"{}Process\+\_\+qobject\char`\"{})
\end{DoxyCompactItemize}
\doxysubsection*{Private Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_process__qobject_aebe6b8e65a9bf3bcfd1d0f692daf4265}{priv\+\_\+sleep\+\_\+mode\+\_\+control}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_aebe6b8e65a9bf3bcfd1d0f692daf4265}{Process\+\_\+qobject\+::priv\+\_\+sleep\+\_\+mode\+\_\+control}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a2679af70218f8d23ec1e19f98c4d80f2}{priv\+\_\+refresh\+\_\+batterie}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a2679af70218f8d23ec1e19f98c4d80f2}{Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+batterie}}. \end{DoxyCompactList}\item 
Q\+String \mbox{\hyperlink{class_process__qobject_afb8c8353c6571a865978fdc7ce304b5a}{priv\+\_\+process\+\_\+test\+\_\+interface}} ()
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_afb8c8353c6571a865978fdc7ce304b5a}{Process\+\_\+qobject\+::priv\+\_\+process\+\_\+test\+\_\+interface}}. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_process__qobject_a21d091ab1bc19829801eb1edd84e70ce}{priv\+\_\+process\+\_\+test\+\_\+ip}} ()
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a21d091ab1bc19829801eb1edd84e70ce}{Process\+\_\+qobject\+::priv\+\_\+process\+\_\+test\+\_\+ip}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_ab93480083f2b432950306f355351386c}{priv\+\_\+test\+\_\+lecteur}} (int a)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_ab93480083f2b432950306f355351386c}{Process\+\_\+qobject\+::priv\+\_\+test\+\_\+lecteur}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_aa45048c243179da064c35c831e319d66}{priv\+\_\+test\+\_\+relay}} (int a)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_aa45048c243179da064c35c831e319d66}{Process\+\_\+qobject\+::priv\+\_\+test\+\_\+relay}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_ac657218861eeb6c9a4a30f94b90e25fa}{priv\+\_\+set\+\_\+date\+\_\+heure}} (Q\+String an, Q\+String mois, Q\+String jour, Q\+String heure, Q\+String minute, Q\+String seconde)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_ac657218861eeb6c9a4a30f94b90e25fa}{Process\+\_\+qobject\+::priv\+\_\+set\+\_\+date\+\_\+heure}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a6541b86edebb5277bf105a719790b409}{priv\+\_\+set\+\_\+timezone\+\_\+langue}} (int mode, Q\+String timezone, Q\+String langue)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a6541b86edebb5277bf105a719790b409}{Process\+\_\+qobject\+::priv\+\_\+set\+\_\+timezone\+\_\+langue}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a45dc2cac992e46149a0e91633ef7ab05}{priv\+\_\+ts\+\_\+calibrate\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a45dc2cac992e46149a0e91633ef7ab05}{Process\+\_\+qobject\+::priv\+\_\+ts\+\_\+calibrate\+\_\+init}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a3763bfea9a3cc0a3d6051587d770da26}{priv\+\_\+ts\+\_\+calibrate}} (void)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a3763bfea9a3cc0a3d6051587d770da26}{Process\+\_\+qobject\+::priv\+\_\+ts\+\_\+calibrate}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a37b3a752526da4b0334c440b031fbb0e}{priv\+\_\+transmit\+Msg}} (\mbox{\hyperlink{class_q_serial_port}{Q\+Serial\+Port}} $\ast$p)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a37b3a752526da4b0334c440b031fbb0e}{Process\+\_\+qobject\+::priv\+\_\+transmit\+Msg}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_ac8298c716a6efdb384ecfe32c1c206b8}{priv\+\_\+receive\+Msg}} (\mbox{\hyperlink{class_q_serial_port}{Q\+Serial\+Port}} $\ast$p)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_ac8298c716a6efdb384ecfe32c1c206b8}{Process\+\_\+qobject\+::priv\+\_\+receive\+Msg}}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_process__qobject_ad68c4ab3404ed0fa8115239c9757d910}\label{class_process__qobject_ad68c4ab3404ed0fa8115239c9757d910}} 
void \mbox{\hyperlink{class_process__qobject_ad68c4ab3404ed0fa8115239c9757d910}{priv\+\_\+init\+\_\+process}} (void)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_ad68c4ab3404ed0fa8115239c9757d910}{Process\+\_\+qobject\+::priv\+\_\+init\+\_\+process}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_af531d1d27ff3ca5525cd868be0eeca62}{priv\+\_\+refresh\+\_\+ntp}} (void)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_af531d1d27ff3ca5525cd868be0eeca62}{Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+ntp}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_aba808b518cfb8005c3d5c93bdb859430}{priv\+\_\+refresh\+\_\+reboot}} (void)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_aba808b518cfb8005c3d5c93bdb859430}{Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+reboot}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a3300978f305e34fa17a589db871c8bad}{priv\+\_\+refresh\+\_\+rebootauto}} (void)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a3300978f305e34fa17a589db871c8bad}{Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+rebootauto}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a233333cc54d81e0f784d0c47607d8f56}{priv\+\_\+refresh\+\_\+restartauto}} (void)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a233333cc54d81e0f784d0c47607d8f56}{Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+restartauto}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a51d9b1c0368979c31ca75ef1d35b3db4}{priv\+\_\+refresh\+\_\+usbkey}} (void)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a51d9b1c0368979c31ca75ef1d35b3db4}{Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+usbkey}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_process__qobject_a43744d12e48220a1a9a8425949ca8e83}{priv\+\_\+audio\+\_\+set\+\_\+volume}} (Q\+String a)
\begin{DoxyCompactList}\small\item\em (N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a43744d12e48220a1a9a8425949ca8e83}{Process\+\_\+qobject\+::priv\+\_\+audio\+\_\+set\+\_\+volume}} \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delay\+Back\+Light}} ()
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{Process\+\_\+qobject\+::delay\+Back\+Light}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_process__qobject_a0233dd901a4e355f9c2bebb4ff8deafc}\label{class_process__qobject_a0233dd901a4e355f9c2bebb4ff8deafc}} 
Q\+Sql\+Database {\bfseries process\+\_\+badge\+\_\+db}
\item 
\mbox{\Hypertarget{class_process__qobject_a1da3cfd16e057a7da9c6830b027f048e}\label{class_process__qobject_a1da3cfd16e057a7da9c6830b027f048e}} 
int {\bfseries usbkey\+\_\+mounted}
\item 
\mbox{\Hypertarget{class_process__qobject_ae39bb85d360da075bb9d4398085fa2a9}\label{class_process__qobject_ae39bb85d360da075bb9d4398085fa2a9}} 
Q\+Timer $\ast$ {\bfseries timer\+\_\+init}
\item 
\mbox{\Hypertarget{class_process__qobject_af305ad986f1bdb546fe9dfef2821f0a0}\label{class_process__qobject_af305ad986f1bdb546fe9dfef2821f0a0}} 
Q\+Timer $\ast$ {\bfseries timer\+\_\+orientation}
\item 
\mbox{\Hypertarget{class_process__qobject_a8850fc212ec9e28537718d19e0383f48}\label{class_process__qobject_a8850fc212ec9e28537718d19e0383f48}} 
Q\+Timer $\ast$ {\bfseries timer\+\_\+ntp}
\item 
\mbox{\Hypertarget{class_process__qobject_aaf16a8ada686d022a6d828b68e20faf5}\label{class_process__qobject_aaf16a8ada686d022a6d828b68e20faf5}} 
Q\+Timer $\ast$ {\bfseries timer\+\_\+reboot}
\item 
\mbox{\Hypertarget{class_process__qobject_a14356bb9704a0a6f9fc09d67f0a9629f}\label{class_process__qobject_a14356bb9704a0a6f9fc09d67f0a9629f}} 
Q\+Timer $\ast$ {\bfseries timer\+\_\+rebootauto}
\item 
\mbox{\Hypertarget{class_process__qobject_aac42a197425ae5647afc06c748a73cae}\label{class_process__qobject_aac42a197425ae5647afc06c748a73cae}} 
Q\+Timer $\ast$ {\bfseries timer\+\_\+restartauto}
\item 
\mbox{\Hypertarget{class_process__qobject_a4aae75ae039e6c934508d55a68346204}\label{class_process__qobject_a4aae75ae039e6c934508d55a68346204}} 
Q\+Timer $\ast$ {\bfseries timer\+\_\+usbkey}
\item 
\mbox{\Hypertarget{class_process__qobject_ab1ecaba0e82bfce0606c7008e9defec5}\label{class_process__qobject_ab1ecaba0e82bfce0606c7008e9defec5}} 
Q\+Timer $\ast$ {\bfseries timer\+\_\+initprocess}
\item 
\mbox{\Hypertarget{class_process__qobject_abfdd98fb662c4adca5dfaa2a5f44aef4}\label{class_process__qobject_abfdd98fb662c4adca5dfaa2a5f44aef4}} 
Q\+Timer $\ast$ {\bfseries timer\+\_\+tar}
\item 
\mbox{\Hypertarget{class_process__qobject_a547d6d6a34ed64719102fc190cecb748}\label{class_process__qobject_a547d6d6a34ed64719102fc190cecb748}} 
Q\+Process {\bfseries q\+Procntp}
\item 
\mbox{\Hypertarget{class_process__qobject_a43a0b47c2f183401e9522ecf002a5bd3}\label{class_process__qobject_a43a0b47c2f183401e9522ecf002a5bd3}} 
int {\bfseries batterie}
\item 
\mbox{\Hypertarget{class_process__qobject_a80de67d50ffe2935539d5ccabff8bddc}\label{class_process__qobject_a80de67d50ffe2935539d5ccabff8bddc}} 
int {\bfseries sleep\+\_\+mode\+\_\+etat}
\item 
\mbox{\Hypertarget{class_process__qobject_aa786eb5d2c8917a1146d36c65e9d78be}\label{class_process__qobject_aa786eb5d2c8917a1146d36c65e9d78be}} 
Q\+Timer $\ast$ {\bfseries timer\+\_\+batterie}
\item 
\mbox{\Hypertarget{class_process__qobject_a2d6305e1792a04e2ca9da2bbf69abcdb}\label{class_process__qobject_a2d6305e1792a04e2ca9da2bbf69abcdb}} 
Q\+Timer $\ast$ {\bfseries timer\+\_\+sleep\+\_\+mode\+\_\+control}
\item 
\mbox{\Hypertarget{class_process__qobject_acbb04fac1e716b9809a7be61811b4863}\label{class_process__qobject_acbb04fac1e716b9809a7be61811b4863}} 
Q\+String {\bfseries received\+\_\+msg}
\item 
\mbox{\Hypertarget{class_process__qobject_ad5179393b4a2b2ee0ef726a4fe53a3a4}\label{class_process__qobject_ad5179393b4a2b2ee0ef726a4fe53a3a4}} 
Q\+String {\bfseries message}
\item 
\mbox{\Hypertarget{class_process__qobject_ad8a2fee6ac2b1d72addb055a0b96f94d}\label{class_process__qobject_ad8a2fee6ac2b1d72addb055a0b96f94d}} 
\mbox{\hyperlink{class_q_serial_port}{Q\+Serial\+Port}} $\ast$ {\bfseries port}
\item 
\mbox{\Hypertarget{class_process__qobject_a8cc3826226c5a26081fbc3aaf6859c26}\label{class_process__qobject_a8cc3826226c5a26081fbc3aaf6859c26}} 
\mbox{\hyperlink{class_q_serial_port}{Q\+Serial\+Port}} $\ast$ {\bfseries port\+\_\+test}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The \mbox{\hyperlink{class_process__qobject}{Process\+\_\+qobject}} class. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_process__qobject_af88bd49995446a0a446d0f000283dc84}\label{class_process__qobject_af88bd49995446a0a446d0f000283dc84}} 
\index{Process\_qobject@{Process\_qobject}!Process\_qobject@{Process\_qobject}}
\index{Process\_qobject@{Process\_qobject}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{Process\_qobject()}{Process\_qobject()}}
{\footnotesize\ttfamily Process\+\_\+qobject\+::\+Process\+\_\+qobject (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_process__qobject_af88bd49995446a0a446d0f000283dc84}{Process\+\_\+qobject\+::\+Process\+\_\+qobject}}. 


\begin{DoxyItemize}
\item Constructeur par defaut. 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{30 \{}
\DoxyCodeLine{31     log4cpp-\/>debug(\textcolor{stringliteral}{"constructeur"});}
\DoxyCodeLine{32 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}\label{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}} 
\index{Process\_qobject@{Process\_qobject}!delayBackLight@{delayBackLight}}
\index{delayBackLight@{delayBackLight}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{delayBackLight()}{delayBackLight()}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::delay\+Back\+Light (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



\mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{Process\+\_\+qobject\+::delay\+Back\+Light}}. 


\begin{DoxyItemize}
\item Méthode pour activer le rétroéclairage
\item appelé dans les fonctions de test de time2bii\+\_\+tests 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1726 \{}
\DoxyCodeLine{1727     QTime dieTime= QTime::currentTime().addSecs(1);}
\DoxyCodeLine{1728     \textcolor{keywordflow}{while} (QTime::currentTime() < dieTime)}
\DoxyCodeLine{1729         QCoreApplication::processEvents(QEventLoop::AllEvents, 100);}
\DoxyCodeLine{1730 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a43744d12e48220a1a9a8425949ca8e83}\label{class_process__qobject_a43744d12e48220a1a9a8425949ca8e83}} 
\index{Process\_qobject@{Process\_qobject}!priv\_audio\_set\_volume@{priv\_audio\_set\_volume}}
\index{priv\_audio\_set\_volume@{priv\_audio\_set\_volume}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_audio\_set\_volume}{priv\_audio\_set\_volume}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+audio\+\_\+set\+\_\+volume (\begin{DoxyParamCaption}\item[{Q\+String}]{a }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a43744d12e48220a1a9a8425949ca8e83}{Process\+\_\+qobject\+::priv\+\_\+audio\+\_\+set\+\_\+volume}} 


\begin{DoxyItemize}
\item Permet de changer le volume de l\textquotesingle{}application 
\begin{DoxyParams}{Parameters}
{\em a} & si 0 muet si 1 incrément de 1 entre les valeurs 110 à 126.♠ \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{2437 \{}
\DoxyCodeLine{2438         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2439 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_afb8c8353c6571a865978fdc7ce304b5a}\label{class_process__qobject_afb8c8353c6571a865978fdc7ce304b5a}} 
\index{Process\_qobject@{Process\_qobject}!priv\_process\_test\_interface@{priv\_process\_test\_interface}}
\index{priv\_process\_test\_interface@{priv\_process\_test\_interface}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_process\_test\_interface}{priv\_process\_test\_interface}}
{\footnotesize\ttfamily Q\+String Process\+\_\+qobject\+::priv\+\_\+process\+\_\+test\+\_\+interface (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_afb8c8353c6571a865978fdc7ce304b5a}{Process\+\_\+qobject\+::priv\+\_\+process\+\_\+test\+\_\+interface}}. 


\begin{DoxyItemize}
\item utilisé dans \mbox{\hyperlink{class_process__qobject_a21d091ab1bc19829801eb1edd84e70ce}{priv\+\_\+process\+\_\+test\+\_\+ip()}} (N\+OT U\+S\+ED) pour rechercher les interfaces réseaux 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1859 \{}
\DoxyCodeLine{1860     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_process\_test\_interface"});}
\DoxyCodeLine{1861     \textcolor{comment}{// test interface OK}}
\DoxyCodeLine{1862     QList<QNetworkInterface> interfaces ;}
\DoxyCodeLine{1863     QString interface\_name;}
\DoxyCodeLine{1864     interface\_name.clear();}
\DoxyCodeLine{1865     interfaces = QNetworkInterface::allInterfaces();}
\DoxyCodeLine{1866     \textcolor{keywordflow}{foreach}(\textcolor{keyword}{const} QNetworkInterface \& interface, interfaces)}
\DoxyCodeLine{1867     \{}
\DoxyCodeLine{1868         \textcolor{keywordflow}{if} (interface.name().contains(\textcolor{stringliteral}{"eth"}) || interface.name().contains(\textcolor{stringliteral}{"wlan"}) || interface.name().contains(\textcolor{stringliteral}{"ppp"}))}
\DoxyCodeLine{1869         \{}
\DoxyCodeLine{1870             \textcolor{keywordflow}{if} (interface.flags() \& QNetworkInterface::IsUp)}
\DoxyCodeLine{1871             \{}
\DoxyCodeLine{1872                 \textcolor{keywordflow}{if} (interface.flags()  \& QNetworkInterface::IsRunning)}
\DoxyCodeLine{1873                 \{}
\DoxyCodeLine{1874                     interface\_name=interface.name();}
\DoxyCodeLine{1875                 \}}
\DoxyCodeLine{1876             \}}
\DoxyCodeLine{1877         \}}
\DoxyCodeLine{1878     \}}
\DoxyCodeLine{1879     \textcolor{keywordflow}{return}(interface\_name);}
\DoxyCodeLine{1880 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a21d091ab1bc19829801eb1edd84e70ce}\label{class_process__qobject_a21d091ab1bc19829801eb1edd84e70ce}} 
\index{Process\_qobject@{Process\_qobject}!priv\_process\_test\_ip@{priv\_process\_test\_ip}}
\index{priv\_process\_test\_ip@{priv\_process\_test\_ip}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_process\_test\_ip}{priv\_process\_test\_ip}}
{\footnotesize\ttfamily bool Process\+\_\+qobject\+::priv\+\_\+process\+\_\+test\+\_\+ip (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a21d091ab1bc19829801eb1edd84e70ce}{Process\+\_\+qobject\+::priv\+\_\+process\+\_\+test\+\_\+ip}} 


\begin{DoxyItemize}
\item recherche la premiere interface réseau valable et retourne son adresse Ipv4 \begin{DoxyReturn}{Returns}
bool \+: L\textquotesingle{}IP existe 
\end{DoxyReturn}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1888 \{}
\DoxyCodeLine{1889     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_process\_test\_ip"});}
\DoxyCodeLine{1890     \textcolor{comment}{//TODO BG Factoriser: cette fonction existe aussi dans supervision}}
\DoxyCodeLine{1891     \textcolor{comment}{// test adresse ip OK}}
\DoxyCodeLine{1892     QList<QNetworkInterface> interfaces ;}
\DoxyCodeLine{1893     QHostAddress ip;}
\DoxyCodeLine{1894     QString interface\_name=\mbox{\hyperlink{class_process__qobject_afb8c8353c6571a865978fdc7ce304b5a}{priv\_process\_test\_interface}}();}
\DoxyCodeLine{1895     \textcolor{keywordflow}{if} (!interface\_name.isNull())}
\DoxyCodeLine{1896     \{}
\DoxyCodeLine{1897         interfaces = QNetworkInterface::allInterfaces();}
\DoxyCodeLine{1898         \textcolor{keywordflow}{foreach}(\textcolor{keyword}{const} QNetworkInterface \& interface, interfaces)}
\DoxyCodeLine{1899         \{}
\DoxyCodeLine{1900             \textcolor{keywordflow}{if} (interface.name()==interface\_name)}
\DoxyCodeLine{1901             \{}
\DoxyCodeLine{1902                 QList<QNetworkAddressEntry> entries = interface.addressEntries();}
\DoxyCodeLine{1903                 \textcolor{keywordflow}{if} (!entries.isEmpty())}
\DoxyCodeLine{1904                 \{}
\DoxyCodeLine{1905                     QNetworkAddressEntry entry = entries.first();}
\DoxyCodeLine{1906                     ip = entry.ip();}
\DoxyCodeLine{1907                 \}}
\DoxyCodeLine{1908             \}}
\DoxyCodeLine{1909         \}}
\DoxyCodeLine{1910     \}}
\DoxyCodeLine{1911     \textcolor{keywordflow}{return}(! ip.isNull());}
\DoxyCodeLine{1912 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_ac8298c716a6efdb384ecfe32c1c206b8}\label{class_process__qobject_ac8298c716a6efdb384ecfe32c1c206b8}} 
\index{Process\_qobject@{Process\_qobject}!priv\_receiveMsg@{priv\_receiveMsg}}
\index{priv\_receiveMsg@{priv\_receiveMsg}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_receiveMsg}{priv\_receiveMsg}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+receive\+Msg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_q_serial_port}{Q\+Serial\+Port}} $\ast$}]{serial\+\_\+port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_ac8298c716a6efdb384ecfe32c1c206b8}{Process\+\_\+qobject\+::priv\+\_\+receive\+Msg}}. 


\begin{DoxyParams}{Parameters}
{\em serial\+\_\+port} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{2070 \{}
\DoxyCodeLine{2071     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_receiveMsg"});}
\DoxyCodeLine{2072     \textcolor{keywordtype}{char} buff[1024];}
\DoxyCodeLine{2073     \textcolor{keywordtype}{int} numBytes;}
\DoxyCodeLine{2074 }
\DoxyCodeLine{2075     \textcolor{keywordflow}{while} (serial\_port-\/>\mbox{\hyperlink{class_q_serial_port_a5a274fca3c9315fb5536cc8e716e4d9a}{waitForReadyRead}}(100));}
\DoxyCodeLine{2076     numBytes = serial\_port-\/>\mbox{\hyperlink{class_q_serial_port_af8b1a4876916f4773bf13bae1fd05fb4}{bytesAvailable}}();}
\DoxyCodeLine{2077 }
\DoxyCodeLine{2078     \textcolor{keywordflow}{if}(numBytes > 1024) numBytes = 1024;}
\DoxyCodeLine{2079 }
\DoxyCodeLine{2080     \textcolor{keywordtype}{int} i =serial\_port-\/>read(buff, numBytes);}
\DoxyCodeLine{2081     buff[i] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{2082     QString msg = buff;}
\DoxyCodeLine{2083 }
\DoxyCodeLine{2084     received\_msg.append(msg);}
\DoxyCodeLine{2085     serial\_port-\/>\mbox{\hyperlink{class_q_serial_port_a6bbab6615bcd8bcc3a838e2c182b5e5c}{clear}}();}
\DoxyCodeLine{2086 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a2679af70218f8d23ec1e19f98c4d80f2}\label{class_process__qobject_a2679af70218f8d23ec1e19f98c4d80f2}} 
\index{Process\_qobject@{Process\_qobject}!priv\_refresh\_batterie@{priv\_refresh\_batterie}}
\index{priv\_refresh\_batterie@{priv\_refresh\_batterie}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_refresh\_batterie}{priv\_refresh\_batterie}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+batterie (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a2679af70218f8d23ec1e19f98c4d80f2}{Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+batterie}}. 


\begin{DoxyItemize}
\item Methode qui teste la présence de la batterie et applique la stratégie de sauvegarde d\textquotesingle{}énergie.
\item Appel priv\+\_\+sleep\+\_\+mode\+\_\+control 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1796 \{}
\DoxyCodeLine{1797     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_refresh\_batterie"});}
\DoxyCodeLine{1798     X7CarteIO::getInstance()-\/>getPowerLevel(2);}
\DoxyCodeLine{1799     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1800     \textcolor{comment}{//  while (port-\/>waitForReadyRead(100));}}
\DoxyCodeLine{1801     batterie=0;}
\DoxyCodeLine{1802     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_refresh\_batterie "} + X7CarteIO::getInstance()-\/>getPowerLevelResult().toStdString());}
\DoxyCodeLine{1803     \textcolor{keywordflow}{if} (!sleep\_mode.isEmpty() \&\& !sleep\_mode.compare(\textcolor{stringliteral}{"1"}))}
\DoxyCodeLine{1804     \{}
\DoxyCodeLine{1805         log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_refresh\_batterie 1"});}
\DoxyCodeLine{1806         batterie=1;}
\DoxyCodeLine{1807     \}\textcolor{keywordflow}{else}}
\DoxyCodeLine{1808     \{}
\DoxyCodeLine{1809         log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_refresh\_batterie 2"});}
\DoxyCodeLine{1810        \textcolor{comment}{// message="ceci est un message ";}}
\DoxyCodeLine{1811        \textcolor{comment}{// received\_msg.clear();}}
\DoxyCodeLine{1812        \textcolor{comment}{// transmitMsg(port);}}
\DoxyCodeLine{1813        \textcolor{comment}{// receiveMsg(port);}}
\DoxyCodeLine{1814        \textcolor{comment}{// port-\/>close();}}
\DoxyCodeLine{1815        \textcolor{comment}{// if (!received\_msg.compare(message))}}
\DoxyCodeLine{1816             batterie=1;}
\DoxyCodeLine{1817     \}}
\DoxyCodeLine{1818     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_refresh\_batterie 3"});}
\DoxyCodeLine{1819     QString a;}
\DoxyCodeLine{1820     \textcolor{keywordflow}{if} (batterie \&\& (delai\_OFF.toInt()))}
\DoxyCodeLine{1821     \{}
\DoxyCodeLine{1822         log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_refresh\_batterie 4"});}
\DoxyCodeLine{1823         \textcolor{keywordflow}{if} (sleep\_mode\_etat<=0)}
\DoxyCodeLine{1824         \{}
\DoxyCodeLine{1825             log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_refresh\_batterie 5"});}
\DoxyCodeLine{1826             X7CarteIO::getInstance()-\/>setBrightness(backlight\_N1.toInt());}
\DoxyCodeLine{1827 \textcolor{comment}{//            a=QString("./backlight\_pwm \%1").arg(backlight\_N1);}}
\DoxyCodeLine{1828             timer\_sleep\_mode\_control-\/>start((delai\_N2.toInt())*1000);}
\DoxyCodeLine{1829             sleep\_mode\_etat=1;}
\DoxyCodeLine{1830         \}}
\DoxyCodeLine{1831     \}}
\DoxyCodeLine{1832     \textcolor{keywordflow}{else} \textcolor{comment}{/*ecran ok backlight max, alim USB */}}
\DoxyCodeLine{1833     \{}
\DoxyCodeLine{1834         log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_refresh\_batterie 6"});}
\DoxyCodeLine{1835         timer\_sleep\_mode\_control-\/>stop();}
\DoxyCodeLine{1836         \textcolor{keywordflow}{if} (sleep\_mode\_etat !=0)}
\DoxyCodeLine{1837         \{}
\DoxyCodeLine{1838             log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_refresh\_batterie 7"});}
\DoxyCodeLine{1839             \textcolor{comment}{//            a=QString("i2cset -\/y 1 0x20 0x0F 0x00");}}
\DoxyCodeLine{1840             X7CarteIO::getInstance()-\/>setBrightness(25);}
\DoxyCodeLine{1841             \textcolor{comment}{//a=QString("./backlight\_pwm 100");}}
\DoxyCodeLine{1842             sleep\_mode\_etat=0;}
\DoxyCodeLine{1843         \}}
\DoxyCodeLine{1844     \}}
\DoxyCodeLine{1845 \textcolor{comment}{//    if (!a.isEmpty())}}
\DoxyCodeLine{1846 \textcolor{comment}{//    \{}}
\DoxyCodeLine{1847 \textcolor{comment}{//        QProcess *qProc = new QProcess(this);}}
\DoxyCodeLine{1848 \textcolor{comment}{//        qProc-\/>startDetached(a);}}
\DoxyCodeLine{1849 \textcolor{comment}{//    \}}}
\DoxyCodeLine{1850     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_refresh\_batterie 8"});}
\DoxyCodeLine{1851     timer\_batterie-\/>start(3000);}
\DoxyCodeLine{1852 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_af531d1d27ff3ca5525cd868be0eeca62}\label{class_process__qobject_af531d1d27ff3ca5525cd868be0eeca62}} 
\index{Process\_qobject@{Process\_qobject}!priv\_refresh\_ntp@{priv\_refresh\_ntp}}
\index{priv\_refresh\_ntp@{priv\_refresh\_ntp}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_refresh\_ntp}{priv\_refresh\_ntp}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+ntp (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_af531d1d27ff3ca5525cd868be0eeca62}{Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+ntp}} 


\begin{DoxyItemize}
\item Mise à jour de l\textquotesingle{}heure sytème par serveur ntp
\item appel \mbox{\hyperlink{class_process__qobject_a21d091ab1bc19829801eb1edd84e70ce}{priv\+\_\+process\+\_\+test\+\_\+ip()}} 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{2106 \{}
\DoxyCodeLine{2107     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_refresh\_ntp"});}
\DoxyCodeLine{2108     \textcolor{keywordtype}{int} x;}
\DoxyCodeLine{2109     QChar type;}
\DoxyCodeLine{2110     QString b;}
\DoxyCodeLine{2111 }
\DoxyCodeLine{2112     \textcolor{keywordflow}{if} (!serveur\_ntp.isEmpty() \&\& !serveur\_ntp.contains(\textcolor{charliteral}{' '}) )}
\DoxyCodeLine{2113     \{}
\DoxyCodeLine{2114         \textcolor{comment}{//log4cpp-\/>debug("ntp not empty");}}
\DoxyCodeLine{2115         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_process__qobject_a21d091ab1bc19829801eb1edd84e70ce}{priv\_process\_test\_ip}}())}
\DoxyCodeLine{2116         \{}
\DoxyCodeLine{2117             \textcolor{comment}{//log4cpp-\/>debug("ip not empty");}}
\DoxyCodeLine{2118             \textcolor{keywordflow}{if} (!cadence\_ntp.isEmpty() \&\& !cadence\_ntp.contains(\textcolor{charliteral}{' '}))}
\DoxyCodeLine{2119             \{}
\DoxyCodeLine{2120                 \textcolor{comment}{//log4cpp-\/>debug("cadence not empty");}}
\DoxyCodeLine{2121                 \textcolor{keywordflow}{if} (cadence\_ntp.contains(\textcolor{charliteral}{'s'},Qt::CaseInsensitive)) type=\textcolor{charliteral}{'s'};}
\DoxyCodeLine{2122                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cadence\_ntp.contains(\textcolor{charliteral}{'m'},Qt::CaseInsensitive)) type=\textcolor{charliteral}{'m'};}
\DoxyCodeLine{2123                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cadence\_ntp.contains(\textcolor{charliteral}{'h'},Qt::CaseInsensitive)) type=\textcolor{charliteral}{'h'};}
\DoxyCodeLine{2124                 \textcolor{keywordflow}{else} type=\textcolor{charliteral}{'j'};}
\DoxyCodeLine{2125 }
\DoxyCodeLine{2126                 b=cadence\_ntp;}
\DoxyCodeLine{2127                 b.replace(type,\textcolor{charliteral}{' '},Qt::CaseInsensitive);}
\DoxyCodeLine{2128                 x=b.section(\textcolor{charliteral}{' '},0,0).toInt();}
\DoxyCodeLine{2129                 \textcolor{keywordflow}{if} (x<=0) x=1;}
\DoxyCodeLine{2130                 \textcolor{keywordflow}{switch}(type.toLatin1())}
\DoxyCodeLine{2131                 \{}
\DoxyCodeLine{2132                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'s'}:}
\DoxyCodeLine{2133                     \textcolor{keywordflow}{if} (x<=15) x=15;}
\DoxyCodeLine{2134                     timer\_ntp-\/>start(x*1000);     \textcolor{comment}{// mise à l'heure tt les x * secondes}}
\DoxyCodeLine{2135                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{2136                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'m'}:}
\DoxyCodeLine{2137                     timer\_ntp-\/>start(x*60*1000);     \textcolor{comment}{//  mise à l'heure tt les x * minute}}
\DoxyCodeLine{2138                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{2139                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'h'}:}
\DoxyCodeLine{2140                     timer\_ntp-\/>start(x*3600*1000);       \textcolor{comment}{//  mise à l'heure tt les x * heure}}
\DoxyCodeLine{2141                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{2142                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'j'}:}
\DoxyCodeLine{2143                     timer\_ntp-\/>start(24*3600*1000);     \textcolor{comment}{// mise à l'heure tt les jour)}}
\DoxyCodeLine{2144                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{2145                 \}}
\DoxyCodeLine{2146                 \textcolor{comment}{//ntp\_hwclock\_w script qui fait  "ntpd -\/qnN -\/p \$1" puis "hwclock -\/w -\/u"}}
\DoxyCodeLine{2147                 \textcolor{comment}{//mise à jour datetime par serveur ntp puis sauvegarde dans l'horloge interne t2b.}}
\DoxyCodeLine{2148                 QString a=QString(\textcolor{stringliteral}{"./ntp\_hwclock\_w \%1"}).arg(serveur\_ntp);}
\DoxyCodeLine{2149                 log4cpp-\/>debug(a.toStdString());}
\DoxyCodeLine{2150                 QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{2151                 qProc-\/>startDetached(a);}
\DoxyCodeLine{2152             \}}
\DoxyCodeLine{2153             \textcolor{keywordflow}{else}}
\DoxyCodeLine{2154             \{}
\DoxyCodeLine{2155                 timer\_ntp-\/>start(24*3600*1000); \textcolor{comment}{// tous les jour}}
\DoxyCodeLine{2156             \}}
\DoxyCodeLine{2157         \}}
\DoxyCodeLine{2158         \textcolor{keywordflow}{else}}
\DoxyCodeLine{2159         \{}
\DoxyCodeLine{2160             timer\_ntp-\/>start(5000);\textcolor{comment}{// reessai toutes les 5 secondes}}
\DoxyCodeLine{2161         \}}
\DoxyCodeLine{2162     \}}
\DoxyCodeLine{2163 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_aba808b518cfb8005c3d5c93bdb859430}\label{class_process__qobject_aba808b518cfb8005c3d5c93bdb859430}} 
\index{Process\_qobject@{Process\_qobject}!priv\_refresh\_reboot@{priv\_refresh\_reboot}}
\index{priv\_refresh\_reboot@{priv\_refresh\_reboot}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_refresh\_reboot}{priv\_refresh\_reboot}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+reboot (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_aba808b518cfb8005c3d5c93bdb859430}{Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+reboot}} 


\begin{DoxyItemize}
\item Methode qui si le fichier \textquotesingle{}reboot\textquotesingle{} existe reboot le sytème. Et si le fichier \textquotesingle{}restart\textquotesingle{} existe restart juste l\textquotesingle{}application via le script \textquotesingle{}restart\+\_\+shell\textquotesingle{} 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{2171 \{}
\DoxyCodeLine{2172     log4cpp-\/>debug(\textcolor{stringliteral}{"refresh\_reboot"});}
\DoxyCodeLine{2173     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2174     \textcolor{comment}{//TODO supprimer cette methode}}
\DoxyCodeLine{2175     QFile file(\textcolor{stringliteral}{"reboot"});}
\DoxyCodeLine{2176     QFile file1(\textcolor{stringliteral}{"restart"});}
\DoxyCodeLine{2177     QString a;}
\DoxyCodeLine{2178     \textcolor{keywordtype}{int} i=0;}
\DoxyCodeLine{2179     \textcolor{keywordflow}{if} (file.exists())  \{file.remove();i=1;a.append(\textcolor{stringliteral}{"reboot"});\}  \textcolor{comment}{//reboot complet}}
\DoxyCodeLine{2180     \textcolor{keywordflow}{if} (file1.exists())  \{file1.remove();i=1;a.append(\textcolor{stringliteral}{"art\_shell"});\}  \textcolor{comment}{//restart application}}
\DoxyCodeLine{2181     \textcolor{keywordflow}{if} (i)}
\DoxyCodeLine{2182     \{}
\DoxyCodeLine{2183         QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{2184         qProc-\/>startDetached(a);}
\DoxyCodeLine{2185     \}}
\DoxyCodeLine{2186     timer\_reboot-\/>start(1500);\textcolor{comment}{// reessai toutes les 1500 millisecondes}}
\DoxyCodeLine{2187 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a3300978f305e34fa17a589db871c8bad}\label{class_process__qobject_a3300978f305e34fa17a589db871c8bad}} 
\index{Process\_qobject@{Process\_qobject}!priv\_refresh\_rebootauto@{priv\_refresh\_rebootauto}}
\index{priv\_refresh\_rebootauto@{priv\_refresh\_rebootauto}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_refresh\_rebootauto}{priv\_refresh\_rebootauto}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+rebootauto (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a3300978f305e34fa17a589db871c8bad}{Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+rebootauto}} 


\begin{DoxyItemize}
\item Methode qui si le fichier \textquotesingle{}rebootauto\textquotesingle{} existe rebot le système a l\textquotesingle{}heure indiquée dans le fichier Ex \+: 03\+:30 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{2194 \{}
\DoxyCodeLine{2195     log4cpp-\/>debug(\textcolor{stringliteral}{"refresh\_rebootauto"});}
\DoxyCodeLine{2196     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2197     \textcolor{comment}{//TODO supprimer cette methode}}
\DoxyCodeLine{2198     QFile file(\textcolor{stringliteral}{"../etc/rebootauto"});}
\DoxyCodeLine{2199     \textcolor{keywordtype}{int} i=0;}
\DoxyCodeLine{2200     \textcolor{keywordtype}{bool} ok;}
\DoxyCodeLine{2201     \textcolor{keywordflow}{if} (file.exists()) \textcolor{comment}{// reboot total}}
\DoxyCodeLine{2202     \{}
\DoxyCodeLine{2203         \textcolor{keywordflow}{if}(file.open(QFile::ReadOnly))}
\DoxyCodeLine{2204         \{}
\DoxyCodeLine{2205             QTime t=QTime::currentTime();}
\DoxyCodeLine{2206             QTextStream stream\_in(\&file);}
\DoxyCodeLine{2207             QString s = stream\_in.readLine();}
\DoxyCodeLine{2208             \textcolor{comment}{//                     log4cpp-\/>debug("rebootauto:"+ s);}}
\DoxyCodeLine{2209             \textcolor{keywordflow}{if} (s.contains(\textcolor{stringliteral}{":"}))}
\DoxyCodeLine{2210             \{}
\DoxyCodeLine{2211                 \textcolor{keywordtype}{int} h=s.section(\textcolor{charliteral}{':'},0,0).toInt(\&ok,10);}
\DoxyCodeLine{2212                 \textcolor{keywordtype}{int} m=s.section(\textcolor{charliteral}{':'},1,1).toInt(\&ok,10);;}
\DoxyCodeLine{2213                 \textcolor{keywordflow}{if} (t.hour()==h \&\& t.minute()==m \&\& t.second() >=0 \&\& t.second() <=5) i=1;}
\DoxyCodeLine{2214                 \textcolor{keywordflow}{else} timer\_rebootauto-\/>start(1000);\textcolor{comment}{// reessai toutes les  secondes}}
\DoxyCodeLine{2215             \}}
\DoxyCodeLine{2216             \textcolor{keywordflow}{else}}
\DoxyCodeLine{2217             \{}
\DoxyCodeLine{2218                 QString a=QString(\textcolor{stringliteral}{"cat /proc/meminfo"});}
\DoxyCodeLine{2219                 \textcolor{keywordtype}{int} k=0;}
\DoxyCodeLine{2220                 QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{2221                 qProc-\/>start(a);}
\DoxyCodeLine{2222                 qProc-\/>waitForReadyRead();}
\DoxyCodeLine{2223                 QString tmp = qProc-\/>readAll();}
\DoxyCodeLine{2224                 tmp.replace(QString(\textcolor{stringliteral}{"kB"}),QString(\textcolor{stringliteral}{":"}));}
\DoxyCodeLine{2225                 tmp.replace(QString(\textcolor{stringliteral}{" "}),QString(\textcolor{stringliteral}{""}));}
\DoxyCodeLine{2226                 qProc-\/>close();}
\DoxyCodeLine{2227                 qProc-\/>deleteLater();}
\DoxyCodeLine{2228                 \textcolor{keywordflow}{if} (s.length() >0) k=s.toInt(\&ok,10);}
\DoxyCodeLine{2229                 \textcolor{keywordflow}{if} (k<20000) k=20000;}
\DoxyCodeLine{2230                 \textcolor{keywordflow}{if} (k> 100000) k=100000;}
\DoxyCodeLine{2231                 QString freemem=tmp.section(\textcolor{charliteral}{':'},3,3);}
\DoxyCodeLine{2232                 \textcolor{comment}{//                         log4cpp-\/>debug("Freemem"+freemem + "int:" + freemem.toInt());}}
\DoxyCodeLine{2233                 \textcolor{comment}{//                         log4cpp-\/>debug("k:\%d", k);}}
\DoxyCodeLine{2234                 \textcolor{keywordflow}{if} (freemem.toInt(\&ok,10) < k) i=1;}
\DoxyCodeLine{2235                 \textcolor{keywordflow}{else} timer\_rebootauto-\/>start(60000);\textcolor{comment}{// reessai toutes les 60 secondes}}
\DoxyCodeLine{2236             \}}
\DoxyCodeLine{2237             file.close();}
\DoxyCodeLine{2238         \}}
\DoxyCodeLine{2239     \}}
\DoxyCodeLine{2240     \textcolor{keywordflow}{else}}
\DoxyCodeLine{2241     \{}
\DoxyCodeLine{2242         QString a=QString(\textcolor{stringliteral}{"cat /proc/meminfo"});}
\DoxyCodeLine{2243         QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{2244         qProc-\/>start(a);}
\DoxyCodeLine{2245         qProc-\/>waitForReadyRead();}
\DoxyCodeLine{2246         QString tmp = qProc-\/>readAll();}
\DoxyCodeLine{2247         tmp.replace(QString(\textcolor{stringliteral}{"kB"}),QString(\textcolor{stringliteral}{":"}));}
\DoxyCodeLine{2248         tmp.replace(QString(\textcolor{stringliteral}{" "}),QString(\textcolor{stringliteral}{""}));}
\DoxyCodeLine{2249         qProc-\/>close();}
\DoxyCodeLine{2250         qProc-\/>deleteLater();}
\DoxyCodeLine{2251         QString freemem=tmp.section(\textcolor{charliteral}{':'},3,3);}
\DoxyCodeLine{2252         \textcolor{comment}{//log4cpp-\/>debug(freemem << "int : "<< freemem.toInt());}}
\DoxyCodeLine{2253         \textcolor{keywordflow}{if} (freemem.toInt(\&ok,10) < 20000) i=1;}
\DoxyCodeLine{2254         \textcolor{keywordflow}{else} timer\_rebootauto-\/>start(60000);\textcolor{comment}{// reessai toutes les 60 secondes}}
\DoxyCodeLine{2255     \}}
\DoxyCodeLine{2256 }
\DoxyCodeLine{2257     \textcolor{keywordflow}{if} (i)}
\DoxyCodeLine{2258     \{}
\DoxyCodeLine{2259         QFile file1(\textcolor{stringliteral}{"../log/rebootauto\_log"});}
\DoxyCodeLine{2260         QString b=QString(\textcolor{stringliteral}{"cat /proc/meminfo"});}
\DoxyCodeLine{2261         QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{2262         qProc-\/>start(b);}
\DoxyCodeLine{2263         qProc-\/>waitForReadyRead();}
\DoxyCodeLine{2264         QString tmp = qProc-\/>readAll();}
\DoxyCodeLine{2265         \textcolor{keywordflow}{if} (file1.open(QFile::ReadWrite | QIODevice::Text))}
\DoxyCodeLine{2266         \{}
\DoxyCodeLine{2267             file1.write(tmp.toLatin1().data());}
\DoxyCodeLine{2268             file1.flush();}
\DoxyCodeLine{2269             file1.close();}
\DoxyCodeLine{2270         \}}
\DoxyCodeLine{2271         sleep(2);}
\DoxyCodeLine{2272         qProc-\/>startDetached(\textcolor{stringliteral}{"reboot"});}
\DoxyCodeLine{2273     \}}
\DoxyCodeLine{2274 }
\DoxyCodeLine{2275 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a233333cc54d81e0f784d0c47607d8f56}\label{class_process__qobject_a233333cc54d81e0f784d0c47607d8f56}} 
\index{Process\_qobject@{Process\_qobject}!priv\_refresh\_restartauto@{priv\_refresh\_restartauto}}
\index{priv\_refresh\_restartauto@{priv\_refresh\_restartauto}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_refresh\_restartauto}{priv\_refresh\_restartauto}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+restartauto (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a233333cc54d81e0f784d0c47607d8f56}{Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+restartauto}} 


\begin{DoxyItemize}
\item Methode qui si le fichier \textquotesingle{}restartauto\textquotesingle{} existe restart l\textquotesingle{}application a l\textquotesingle{}heure indiquée dans le fichier Ex \+: 03\+:30 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{2282 \{}
\DoxyCodeLine{2283     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_refresh\_restartauto"});}
\DoxyCodeLine{2284     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2285     \textcolor{comment}{//TODO supprimer cette methode}}
\DoxyCodeLine{2286     QFile file(\textcolor{stringliteral}{"../etc/restartauto"});}
\DoxyCodeLine{2287     \textcolor{keywordtype}{int} i=0;}
\DoxyCodeLine{2288     \textcolor{keywordtype}{bool} ok;}
\DoxyCodeLine{2289     \textcolor{keywordflow}{if} (file.exists()) \textcolor{comment}{// restart application}}
\DoxyCodeLine{2290     \{}
\DoxyCodeLine{2291         \textcolor{keywordflow}{if}(file.open(QFile::ReadOnly))}
\DoxyCodeLine{2292         \{}
\DoxyCodeLine{2293             QTime t=QTime::currentTime();}
\DoxyCodeLine{2294             QTextStream stream\_in(\&file);}
\DoxyCodeLine{2295             QString s = stream\_in.readLine();}
\DoxyCodeLine{2296             \textcolor{comment}{//                     log4cpp-\/>debug("restartauto: "+ s.toStdStrng());}}
\DoxyCodeLine{2297             \textcolor{keywordflow}{if} (s.contains(\textcolor{stringliteral}{":"}))}
\DoxyCodeLine{2298             \{}
\DoxyCodeLine{2299                 \textcolor{comment}{//                         log4cpp-\/>debug(s);}}
\DoxyCodeLine{2300                 \textcolor{keywordtype}{int} h=s.section(\textcolor{charliteral}{':'},0,0).toInt(\&ok,10);}
\DoxyCodeLine{2301                 \textcolor{keywordtype}{int} m=s.section(\textcolor{charliteral}{':'},1,1).toInt(\&ok,10);;}
\DoxyCodeLine{2302                 \textcolor{keywordflow}{if} (t.hour()==h \&\& t.minute()==m \&\& t.second() >=0 \&\& t.second() <=5) i=1;}
\DoxyCodeLine{2303                 \textcolor{keywordflow}{else} timer\_restartauto-\/>start(1000);\textcolor{comment}{// reessai toutes les  secondes}}
\DoxyCodeLine{2304             \}}
\DoxyCodeLine{2305             \textcolor{keywordflow}{else}}
\DoxyCodeLine{2306             \{}
\DoxyCodeLine{2307                 QString a=QString(\textcolor{stringliteral}{"cat /proc/meminfo"});}
\DoxyCodeLine{2308                 \textcolor{keywordtype}{int} k=0;}
\DoxyCodeLine{2309                 QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{2310                 qProc-\/>start(a);}
\DoxyCodeLine{2311                 qProc-\/>waitForReadyRead();}
\DoxyCodeLine{2312                 QString tmp = qProc-\/>readAll();}
\DoxyCodeLine{2313                 tmp.replace(QString(\textcolor{stringliteral}{"kB"}),QString(\textcolor{stringliteral}{":"}));}
\DoxyCodeLine{2314                 tmp.replace(QString(\textcolor{stringliteral}{" "}),QString(\textcolor{stringliteral}{""}));}
\DoxyCodeLine{2315                 qProc-\/>close();}
\DoxyCodeLine{2316                 qProc-\/>deleteLater();}
\DoxyCodeLine{2317                 \textcolor{keywordflow}{if} (s.length() >0) k=s.toInt(\&ok,10);}
\DoxyCodeLine{2318                 \textcolor{keywordflow}{if} (k<20000) k=20000;}
\DoxyCodeLine{2319                 \textcolor{keywordflow}{if} (k> 100000) k=100000;}
\DoxyCodeLine{2320                 QString freemem=tmp.section(\textcolor{charliteral}{':'},3,3);}
\DoxyCodeLine{2321                 \textcolor{comment}{//                         log4cpp-\/>debug("Freemem=" +freemem + " int : " + freemem.toInt());}}
\DoxyCodeLine{2322                 \textcolor{comment}{//                         log4cpp-\/>debug("k:\%d", k);}}
\DoxyCodeLine{2323                 \textcolor{keywordflow}{if} (freemem.toInt(\&ok,10) < k) i=1;}
\DoxyCodeLine{2324                 \textcolor{keywordflow}{else} timer\_restartauto-\/>start(60000);\textcolor{comment}{// reessai toutes les 60 secondes}}
\DoxyCodeLine{2325             \}}
\DoxyCodeLine{2326             file.close();}
\DoxyCodeLine{2327         \}}
\DoxyCodeLine{2328     \}}
\DoxyCodeLine{2329     \textcolor{keywordflow}{else} timer\_restartauto-\/>start(60000);\textcolor{comment}{// reessai toutes les 60 secondes}}
\DoxyCodeLine{2330 }
\DoxyCodeLine{2331     \textcolor{keywordflow}{if} (i)}
\DoxyCodeLine{2332     \{}
\DoxyCodeLine{2333         file.setFileName(\textcolor{stringliteral}{"../log/restartauto\_log"});}
\DoxyCodeLine{2334         QString b=QString(\textcolor{stringliteral}{"cat /proc/meminfo"});}
\DoxyCodeLine{2335         QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{2336         qProc-\/>start(b);}
\DoxyCodeLine{2337         qProc-\/>waitForReadyRead();}
\DoxyCodeLine{2338         QString tmp = qProc-\/>readAll();}
\DoxyCodeLine{2339         \textcolor{keywordflow}{if} (file.open(QFile::ReadWrite | QIODevice::Text))}
\DoxyCodeLine{2340         \{}
\DoxyCodeLine{2341             file.write(tmp.toLatin1().data());}
\DoxyCodeLine{2342             file.flush();}
\DoxyCodeLine{2343             file.close();}
\DoxyCodeLine{2344         \}}
\DoxyCodeLine{2345         qProc-\/>startDetached(\textcolor{stringliteral}{"art\_shell"});}
\DoxyCodeLine{2346     \}}
\DoxyCodeLine{2347 }
\DoxyCodeLine{2348 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a51d9b1c0368979c31ca75ef1d35b3db4}\label{class_process__qobject_a51d9b1c0368979c31ca75ef1d35b3db4}} 
\index{Process\_qobject@{Process\_qobject}!priv\_refresh\_usbkey@{priv\_refresh\_usbkey}}
\index{priv\_refresh\_usbkey@{priv\_refresh\_usbkey}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_refresh\_usbkey}{priv\_refresh\_usbkey}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+usbkey (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a51d9b1c0368979c31ca75ef1d35b3db4}{Process\+\_\+qobject\+::priv\+\_\+refresh\+\_\+usbkey}} 


\begin{DoxyItemize}
\item Gestion d\textquotesingle{}une clé usb (montage démontage) et copie de la B\+DD de badgeage dessus.
\item le fichier de base de donnée est copié sour la forme nom\+Time2bii\+\_\+jour\+\_\+heure.\+db 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{2356 \{}
\DoxyCodeLine{2357     log4cpp-\/>debug(\textcolor{stringliteral}{"refresh\_usbkey"});}
\DoxyCodeLine{2358     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_supervision__qobject_aa72329b1b5f3e30906561ea49224dcaa}{Supervision\_qobject::getInstance}}()-\/>http\_server.isEmpty())}
\DoxyCodeLine{2359     \{}
\DoxyCodeLine{2360         \textcolor{keywordflow}{if} (usbkey\_mounted==0)}
\DoxyCodeLine{2361         \{}
\DoxyCodeLine{2362             QFile file (\textcolor{stringliteral}{"/dev/sda1"});}
\DoxyCodeLine{2363             \textcolor{keywordflow}{if} (file.exists())}
\DoxyCodeLine{2364             \{}
\DoxyCodeLine{2365                 QString a= QString(\textcolor{stringliteral}{"mount /media/usbkey"});}
\DoxyCodeLine{2366                 QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{2367                 qProc-\/>start(a);}
\DoxyCodeLine{2368                 qProc-\/>waitForReadyRead();}
\DoxyCodeLine{2369                 QString tmp = qProc-\/>readAll();}
\DoxyCodeLine{2370                 \textcolor{keywordflow}{if} (tmp.isEmpty())}
\DoxyCodeLine{2371                 \{}
\DoxyCodeLine{2372                     usbkey\_mounted=1;}
\DoxyCodeLine{2373                     emit signal\_ihm\_usbkey\_status(1);}
\DoxyCodeLine{2374                 \}}
\DoxyCodeLine{2375                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{2376                 \{}
\DoxyCodeLine{2377                     a= QString(\textcolor{stringliteral}{"umount /media/usbkey"});}
\DoxyCodeLine{2378                     qProc-\/>start(a);}
\DoxyCodeLine{2379                     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{2380                     usbkey\_mounted=0;}
\DoxyCodeLine{2381                     emit signal\_ihm\_usbkey\_status(0);}
\DoxyCodeLine{2382                 \}}
\DoxyCodeLine{2383                 qProc-\/>close();}
\DoxyCodeLine{2384                 qProc-\/>deleteLater();}
\DoxyCodeLine{2385             \}}
\DoxyCodeLine{2386         \}}
\DoxyCodeLine{2387         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (usbkey\_mounted==1)}
\DoxyCodeLine{2388         \{}
\DoxyCodeLine{2389             QString nom=supervision\_thread.supervision.time2bii\_name;}
\DoxyCodeLine{2390             nom=nom.simplified();}
\DoxyCodeLine{2391             QString j=QDate::currentDate().toString(Qt::ISODate);}
\DoxyCodeLine{2392             QString h=QTime::currentTime().toString(Qt::ISODate);}
\DoxyCodeLine{2393             h.replace(\textcolor{stringliteral}{":"},\textcolor{stringliteral}{"-\/"});}
\DoxyCodeLine{2394 }
\DoxyCodeLine{2395             QString a=QString(\textcolor{stringliteral}{"/media/usbkey/\%1\_\%2\_\%3.db"}).arg(nom).arg(j).arg(h);}
\DoxyCodeLine{2396             \textcolor{keywordtype}{bool} x=QFile::copy(\textcolor{stringliteral}{"/var/x7/contents/database\_badge.db"},a);}
\DoxyCodeLine{2397             \textcolor{keywordflow}{if}(x)}
\DoxyCodeLine{2398             \{}
\DoxyCodeLine{2399                 a= QString(\textcolor{stringliteral}{"umount /media/usbkey"});}
\DoxyCodeLine{2400                 QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{2401                 qProc-\/>start(a);}
\DoxyCodeLine{2402                 qProc-\/>waitForReadyRead();}
\DoxyCodeLine{2403                 qProc-\/>readAll();}
\DoxyCodeLine{2404                 \textcolor{keywordflow}{if} (process\_badge\_db.open())}
\DoxyCodeLine{2405                 \{}
\DoxyCodeLine{2406                     QSqlQuery query(process\_badge\_db);}
\DoxyCodeLine{2407                     query.exec(QString(\textcolor{stringliteral}{"DELETE FROM badge"}));}
\DoxyCodeLine{2408                     query.exec(QString(\textcolor{stringliteral}{"UPDATE SQLITE\_SEQUENCE SET SEQ=0 WHERE NAME='badge'"}));}
\DoxyCodeLine{2409                     query.exec(QString(\textcolor{stringliteral}{"VACUUM"}));}
\DoxyCodeLine{2410                     process\_badge\_db.close();}
\DoxyCodeLine{2411                 \}}
\DoxyCodeLine{2412                 usbkey\_mounted=2;}
\DoxyCodeLine{2413                 emit signal\_ihm\_usbkey\_status(2);}
\DoxyCodeLine{2414                 qProc-\/>close();}
\DoxyCodeLine{2415                 qProc-\/>deleteLater();}
\DoxyCodeLine{2416             \}}
\DoxyCodeLine{2417         \}}
\DoxyCodeLine{2418         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (usbkey\_mounted==2)}
\DoxyCodeLine{2419         \{}
\DoxyCodeLine{2420             QFile file (\textcolor{stringliteral}{"/dev/sda1"});}
\DoxyCodeLine{2421             \textcolor{keywordflow}{if} (!file.exists())}
\DoxyCodeLine{2422             \{}
\DoxyCodeLine{2423                 emit signal\_ihm\_usbkey\_status(0);}
\DoxyCodeLine{2424                 usbkey\_mounted=0;}
\DoxyCodeLine{2425             \}}
\DoxyCodeLine{2426         \}}
\DoxyCodeLine{2427         timer\_usbkey-\/>start(1111);}
\DoxyCodeLine{2428     \}}
\DoxyCodeLine{2429 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_ac657218861eeb6c9a4a30f94b90e25fa}\label{class_process__qobject_ac657218861eeb6c9a4a30f94b90e25fa}} 
\index{Process\_qobject@{Process\_qobject}!priv\_set\_date\_heure@{priv\_set\_date\_heure}}
\index{priv\_set\_date\_heure@{priv\_set\_date\_heure}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_set\_date\_heure}{priv\_set\_date\_heure}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+set\+\_\+date\+\_\+heure (\begin{DoxyParamCaption}\item[{Q\+String}]{an,  }\item[{Q\+String}]{mois,  }\item[{Q\+String}]{jour,  }\item[{Q\+String}]{heure,  }\item[{Q\+String}]{minute,  }\item[{Q\+String}]{seconde }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_ac657218861eeb6c9a4a30f94b90e25fa}{Process\+\_\+qobject\+::priv\+\_\+set\+\_\+date\+\_\+heure}}. 


\begin{DoxyItemize}
\item Methode pour metre à jour la date et l\textquotesingle{}heure système.
\item Utilisé dans les WS et l\textquotesingle{}ecran de configuration 
\begin{DoxyParams}{Parameters}
{\em an} & \\
\hline
{\em mois} & \\
\hline
{\em jour} & \\
\hline
{\em heure} & \\
\hline
{\em minute} & \\
\hline
{\em seconde} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1960 \{}
\DoxyCodeLine{1961     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_set\_date\_heure"});}
\DoxyCodeLine{1962     \textcolor{comment}{//TODO BG reduir le nombre de paramètre.}}
\DoxyCodeLine{1963     QString a= QString(\textcolor{stringliteral}{"date \%1\%2\%3\%4\%5.\%6"}).arg(mois).arg(jour).arg(heure).arg(minute).arg(an).arg(seconde);}
\DoxyCodeLine{1964     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{1965     qProc-\/>start(a);}
\DoxyCodeLine{1966     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{1967     QString tmp = qProc-\/>readAll();}
\DoxyCodeLine{1968     qProc-\/>close();}
\DoxyCodeLine{1969     qProc-\/>deleteLater();}
\DoxyCodeLine{1970     a= QString(\textcolor{stringliteral}{"hwclock -\/w -\/u"});}
\DoxyCodeLine{1971     QProcess *qProc1 = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{1972     qProc1-\/>start(a);}
\DoxyCodeLine{1973     qProc1-\/>waitForReadyRead();}
\DoxyCodeLine{1974     tmp = qProc1-\/>readAll();}
\DoxyCodeLine{1975     qProc1-\/>close();}
\DoxyCodeLine{1976     qProc1-\/>deleteLater();}
\DoxyCodeLine{1977 }
\DoxyCodeLine{1978 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a6541b86edebb5277bf105a719790b409}\label{class_process__qobject_a6541b86edebb5277bf105a719790b409}} 
\index{Process\_qobject@{Process\_qobject}!priv\_set\_timezone\_langue@{priv\_set\_timezone\_langue}}
\index{priv\_set\_timezone\_langue@{priv\_set\_timezone\_langue}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_set\_timezone\_langue}{priv\_set\_timezone\_langue}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+set\+\_\+timezone\+\_\+langue (\begin{DoxyParamCaption}\item[{int}]{mode,  }\item[{Q\+String}]{timezone,  }\item[{Q\+String}]{langue }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a6541b86edebb5277bf105a719790b409}{Process\+\_\+qobject\+::priv\+\_\+set\+\_\+timezone\+\_\+langue}}. 


\begin{DoxyItemize}
\item Methode pour metre à jour la timezone. 
\begin{DoxyParams}{Parameters}
{\em mode} & \\
\hline
{\em timezone} & \\
\hline
{\em langue} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1989 \{}
\DoxyCodeLine{1990     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_set\_timezone\_langue"});}
\DoxyCodeLine{1991     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{1992     QString a;}
\DoxyCodeLine{1993 }
\DoxyCodeLine{1994     QFile in(\textcolor{stringliteral}{"../etc/timezone\_langue.cfg"});}
\DoxyCodeLine{1995     QFile out(\textcolor{stringliteral}{"/etc/profile.d/timezone\_langue.sh"});}
\DoxyCodeLine{1996     \textcolor{keywordflow}{if} (in.open( QFile::ReadOnly))}
\DoxyCodeLine{1997     \{}
\DoxyCodeLine{1998         QTextStream stream\_in(\&in);}
\DoxyCodeLine{1999         QTextStream stream\_out(\&out);}
\DoxyCodeLine{2000         QString s=stream\_in.readAll();}
\DoxyCodeLine{2001         a=QString(\textcolor{stringliteral}{"TZ=\%1"}).arg(\textcolor{charliteral}{'"'}+timezone+\textcolor{charliteral}{'"'});}
\DoxyCodeLine{2002         s.replace(\textcolor{stringliteral}{"TZ="},a);}
\DoxyCodeLine{2003         a=QString(\textcolor{stringliteral}{"LC\_TIME=\%1"}).arg(langue);}
\DoxyCodeLine{2004         s.replace(\textcolor{stringliteral}{"LC\_TIME="},a);}
\DoxyCodeLine{2005         out.open( QFile::WriteOnly);}
\DoxyCodeLine{2006         stream\_out << s;}
\DoxyCodeLine{2007         stream\_out.flush();}
\DoxyCodeLine{2008         in.close();}
\DoxyCodeLine{2009         out.close();}
\DoxyCodeLine{2010     \}}
\DoxyCodeLine{2011 }
\DoxyCodeLine{2012     \textcolor{keywordflow}{if} (mode) sleep(5);}
\DoxyCodeLine{2013     \textcolor{keywordflow}{else} QTest::qWait(5000);}
\DoxyCodeLine{2014 }
\DoxyCodeLine{2015     qProc-\/>startDetached(\textcolor{stringliteral}{"./restart\_shell"});}
\DoxyCodeLine{2016 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_aebe6b8e65a9bf3bcfd1d0f692daf4265}\label{class_process__qobject_aebe6b8e65a9bf3bcfd1d0f692daf4265}} 
\index{Process\_qobject@{Process\_qobject}!priv\_sleep\_mode\_control@{priv\_sleep\_mode\_control}}
\index{priv\_sleep\_mode\_control@{priv\_sleep\_mode\_control}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_sleep\_mode\_control}{priv\_sleep\_mode\_control}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+sleep\+\_\+mode\+\_\+control (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_aebe6b8e65a9bf3bcfd1d0f692daf4265}{Process\+\_\+qobject\+::priv\+\_\+sleep\+\_\+mode\+\_\+control}}. 


\begin{DoxyItemize}
\item Methode gestion du rétroéclairage.
\item mode veille est non fonctionnel. 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1742 \{}
\DoxyCodeLine{1743     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_sleep\_mode\_control"});}
\DoxyCodeLine{1744     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1745     \textcolor{comment}{//TODO supprimer cette methode}}
\DoxyCodeLine{1746     QString a;}
\DoxyCodeLine{1747 }
\DoxyCodeLine{1748     \textcolor{keywordflow}{if} (sleep\_mode\_etat==1)}
\DoxyCodeLine{1749     \{}
\DoxyCodeLine{1750         X7CarteIO::getInstance()-\/>setBrightness(backlight\_N2.toInt());}
\DoxyCodeLine{1751         \textcolor{comment}{//a=QString("./backlight\_pwm \%1").arg(backlight\_N2);}}
\DoxyCodeLine{1752         \textcolor{comment}{//int x=((100-\/backlight\_N2.toInt())*255)/100;}}
\DoxyCodeLine{1753         sleep\_mode\_etat=2;}
\DoxyCodeLine{1754         timer\_sleep\_mode\_control-\/>start((delai\_OFF.toInt())*1000);}
\DoxyCodeLine{1755     \}}
\DoxyCodeLine{1756     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (sleep\_mode\_etat==2)}
\DoxyCodeLine{1757     \{}
\DoxyCodeLine{1758         \textcolor{comment}{/* modif version 1.6}}
\DoxyCodeLine{1759 \textcolor{comment}{         //if (!sleep\_mode.isEmpty() \&\& sleep\_mode.compare("0"))}}
\DoxyCodeLine{1760 \textcolor{comment}{         if (!sleep\_mode.isEmpty() \&\& sleep\_mode.compare("0"))}}
\DoxyCodeLine{1761 \textcolor{comment}{             \{}}
\DoxyCodeLine{1762 \textcolor{comment}{             emit badge\_sleep\_mode();}}
\DoxyCodeLine{1763 \textcolor{comment}{             a=QString("./sleep\_mode");}}
\DoxyCodeLine{1764 \textcolor{comment}{             b=QString("i2cset -\/y 1 0x60 0x02 0xFF");}}
\DoxyCodeLine{1765 \textcolor{comment}{//             a=QString("i2cset -\/y 1 0x20 0x0F 0x88");}}
\DoxyCodeLine{1766 \textcolor{comment}{            \}}}
\DoxyCodeLine{1767 \textcolor{comment}{         else}}
\DoxyCodeLine{1768 \textcolor{comment}{             \{}}
\DoxyCodeLine{1769 \textcolor{comment}{             a=QString("./backlight\_pwm 0");}}
\DoxyCodeLine{1770 \textcolor{comment}{             b=QString("i2cset -\/y 1 0x60 0x02 0xFF");}}
\DoxyCodeLine{1771 \textcolor{comment}{             //            a=QString("i2cset -\/y 1 0x20 0x0F 0x88");}}
\DoxyCodeLine{1772 \textcolor{comment}{             \}}}
\DoxyCodeLine{1773 \textcolor{comment}{*/}}
\DoxyCodeLine{1774         X7CarteIO::getInstance()-\/>setBrightness(5);}
\DoxyCodeLine{1775         \textcolor{comment}{//a=QString("./backlight\_pwm 0");}}
\DoxyCodeLine{1776         sleep\_mode\_etat=3;}
\DoxyCodeLine{1777     \}}
\DoxyCodeLine{1778 }
\DoxyCodeLine{1779    \textcolor{comment}{//if (!a.isEmpty())}}
\DoxyCodeLine{1780    \textcolor{comment}{//\{}}
\DoxyCodeLine{1781    \textcolor{comment}{//     QProcess *qProc = new QProcess(this);}}
\DoxyCodeLine{1782    \textcolor{comment}{//     qProc-\/>startDetached(a);}}
\DoxyCodeLine{1783    \textcolor{comment}{// \}}}
\DoxyCodeLine{1784 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_ab93480083f2b432950306f355351386c}\label{class_process__qobject_ab93480083f2b432950306f355351386c}} 
\index{Process\_qobject@{Process\_qobject}!priv\_test\_lecteur@{priv\_test\_lecteur}}
\index{priv\_test\_lecteur@{priv\_test\_lecteur}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_test\_lecteur}{priv\_test\_lecteur}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+test\+\_\+lecteur (\begin{DoxyParamCaption}\item[{int}]{a }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_ab93480083f2b432950306f355351386c}{Process\+\_\+qobject\+::priv\+\_\+test\+\_\+lecteur}}. 


\begin{DoxyItemize}
\item On récupère le nom du lecteur pour tester la communication 
\begin{DoxyParams}{Parameters}
{\em } & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1921 \{}
\DoxyCodeLine{1922     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_test\_lecteur"});}
\DoxyCodeLine{1923     emit signal\_ihm\_retour\_test(2,a);}
\DoxyCodeLine{1924     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{1925     \textcolor{keywordtype}{int} size = X7GestLecteur::getInstance()-\/>getVersionLecteur().size();}
\DoxyCodeLine{1926     \textcolor{keywordflow}{if}(size>0)}
\DoxyCodeLine{1927         emit signal\_ihm\_retour\_test(1,a);}
\DoxyCodeLine{1928     \textcolor{keywordflow}{else}}
\DoxyCodeLine{1929         emit signal\_ihm\_retour\_test(0,a);}
\DoxyCodeLine{1930 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_aa45048c243179da064c35c831e319d66}\label{class_process__qobject_aa45048c243179da064c35c831e319d66}} 
\index{Process\_qobject@{Process\_qobject}!priv\_test\_relay@{priv\_test\_relay}}
\index{priv\_test\_relay@{priv\_test\_relay}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_test\_relay}{priv\_test\_relay}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+test\+\_\+relay (\begin{DoxyParamCaption}\item[{int}]{a }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_aa45048c243179da064c35c831e319d66}{Process\+\_\+qobject\+::priv\+\_\+test\+\_\+relay}}. 


\begin{DoxyParams}{Parameters}
{\em a} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{1937 \{}
\DoxyCodeLine{1938     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_test\_relay"});}
\DoxyCodeLine{1939     emit signal\_ihm\_retour\_test(2,a);}
\DoxyCodeLine{1940     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{1941     X7CarteIO::getInstance()-\/>setIOState(1,2,2);}
\DoxyCodeLine{1942     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{1943     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{1944     emit signal\_ihm\_retour\_test(1,a);}
\DoxyCodeLine{1945 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a37b3a752526da4b0334c440b031fbb0e}\label{class_process__qobject_a37b3a752526da4b0334c440b031fbb0e}} 
\index{Process\_qobject@{Process\_qobject}!priv\_transmitMsg@{priv\_transmitMsg}}
\index{priv\_transmitMsg@{priv\_transmitMsg}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_transmitMsg}{priv\_transmitMsg}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+transmit\+Msg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_q_serial_port}{Q\+Serial\+Port}} $\ast$}]{serial\+\_\+port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a37b3a752526da4b0334c440b031fbb0e}{Process\+\_\+qobject\+::priv\+\_\+transmit\+Msg}}. 


\begin{DoxyParams}{Parameters}
{\em serial\+\_\+port} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{2057 \{}
\DoxyCodeLine{2058     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_transmitMsg"});}
\DoxyCodeLine{2059     serial\_port-\/>\mbox{\hyperlink{class_q_serial_port_a2d6586b11209863aa05574975f79615f}{open}}(QIODevice::ReadWrite);}
\DoxyCodeLine{2060     serial\_port-\/>\mbox{\hyperlink{class_q_serial_port_a6bbab6615bcd8bcc3a838e2c182b5e5c}{clear}}();}
\DoxyCodeLine{2061     serial\_port-\/>write(message.toLatin1(),}
\DoxyCodeLine{2062                        message.length());}
\DoxyCodeLine{2063 }
\DoxyCodeLine{2064 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a3763bfea9a3cc0a3d6051587d770da26}\label{class_process__qobject_a3763bfea9a3cc0a3d6051587d770da26}} 
\index{Process\_qobject@{Process\_qobject}!priv\_ts\_calibrate@{priv\_ts\_calibrate}}
\index{priv\_ts\_calibrate@{priv\_ts\_calibrate}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_ts\_calibrate}{priv\_ts\_calibrate}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+ts\+\_\+calibrate (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a3763bfea9a3cc0a3d6051587d770da26}{Process\+\_\+qobject\+::priv\+\_\+ts\+\_\+calibrate}}. 


\begin{DoxyItemize}
\item Lancement de l\textquotesingle{}application de calibration de la dalle tactile. 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{2040 \{}
\DoxyCodeLine{2041     log4cpp-\/>debug(\textcolor{stringliteral}{"priv\_ts\_calibrate"});}
\DoxyCodeLine{2042     QString a= QString(\textcolor{stringliteral}{"./ts\_calibrate\_shell"});}
\DoxyCodeLine{2043     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{2044     qProc-\/>startDetached(a);}
\DoxyCodeLine{2045     QString b= QString(\textcolor{stringliteral}{"killall time2bii"});}
\DoxyCodeLine{2046     QProcess *qProc1 = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{2047     qProc1-\/>startDetached(b);}
\DoxyCodeLine{2048 }
\DoxyCodeLine{2049 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a45dc2cac992e46149a0e91633ef7ab05}\label{class_process__qobject_a45dc2cac992e46149a0e91633ef7ab05}} 
\index{Process\_qobject@{Process\_qobject}!priv\_ts\_calibrate\_init@{priv\_ts\_calibrate\_init}}
\index{priv\_ts\_calibrate\_init@{priv\_ts\_calibrate\_init}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{priv\_ts\_calibrate\_init}{priv\_ts\_calibrate\_init}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::priv\+\_\+ts\+\_\+calibrate\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a45dc2cac992e46149a0e91633ef7ab05}{Process\+\_\+qobject\+::priv\+\_\+ts\+\_\+calibrate\+\_\+init}}. 


\begin{DoxyItemize}
\item Supression configuration de l\textquotesingle{}ecran tactile 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{2023 \{}
\DoxyCodeLine{2024     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{2025     qProc-\/>start(\textcolor{stringliteral}{"/bin/sh"}, \{ \textcolor{stringliteral}{"-\/c"} , \textcolor{stringliteral}{" > /etc/pointercal"} \});}
\DoxyCodeLine{2026     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{2027     log4cpp-\/>debug(QString(\textcolor{stringliteral}{"priv\_ts\_calibrate\_init : \%1"}).arg(QString(qProc-\/>readAll())).toStdString());}
\DoxyCodeLine{2028     qProc-\/>waitForFinished();}
\DoxyCodeLine{2029     qProc-\/>close();}
\DoxyCodeLine{2030     qProc-\/>deleteLater();}
\DoxyCodeLine{2031     \textcolor{comment}{//QWSServer::instance()-\/>closeMouse();}}
\DoxyCodeLine{2032     \textcolor{comment}{//QWSServer::instance()-\/>openMouse();}}
\DoxyCodeLine{2033 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_adcc28e8336fe794abfe34132be8b2a7f}\label{class_process__qobject_adcc28e8336fe794abfe34132be8b2a7f}} 
\index{Process\_qobject@{Process\_qobject}!process\_browser@{process\_browser}}
\index{process\_browser@{process\_browser}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_browser}{process\_browser}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+browser (\begin{DoxyParamCaption}\item[{Q\+String}]{url,  }\item[{Q\+String}]{proxy,  }\item[{Q\+String}]{audio,  }\item[{Q\+String}]{tempo }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_adcc28e8336fe794abfe34132be8b2a7f}{Process\+\_\+qobject\+::process\+\_\+browser}}. 


\begin{DoxyItemize}
\item utilisé par Browser\+Controller\+::parse\+Xml\+\_\+browser()
\item appel signal\+\_\+ihm\+\_\+browser() pour affichage I\+HM 
\begin{DoxyParams}{Parameters}
{\em url} & \\
\hline
{\em proxy} & \\
\hline
{\em audio} & \\
\hline
{\em tempo} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1592 \{}
\DoxyCodeLine{1593     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_browser"});}
\DoxyCodeLine{1594     \textcolor{keywordflow}{if} (!audio.isEmpty())}
\DoxyCodeLine{1595     \{}
\DoxyCodeLine{1596         audio.prepend(\textcolor{stringliteral}{"/var/x7/contents/wav/"});}
\DoxyCodeLine{1597         QFile faudio(audio);}
\DoxyCodeLine{1598         \textcolor{keywordflow}{if} (!faudio.exists()) \{audio.clear();audio.append(\textcolor{stringliteral}{"/var/x7/contents/wav/bell.wav"});\}}
\DoxyCodeLine{1599     \}}
\DoxyCodeLine{1600 }
\DoxyCodeLine{1601     signal\_ihm\_browser(url,proxy,audio,tempo);}
\DoxyCodeLine{1602 }
\DoxyCodeLine{1603 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_ae04c99dad204f1f5993290d45a5ed903}\label{class_process__qobject_ae04c99dad204f1f5993290d45a5ed903}} 
\index{Process\_qobject@{Process\_qobject}!process\_init@{process\_init}}
\index{process\_init@{process\_init}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_init()}{process\_init()}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_process__qobject_ae04c99dad204f1f5993290d45a5ed903}{Process\+\_\+qobject\+::process\+\_\+init}}. 


\begin{DoxyItemize}
\item appelé par \mbox{\hyperlink{class_process__qthread_ae890946d90c4d79df498935999bccc74}{Process\+\_\+qthread\+::run()}}
\item Methode qui lance l\textquotesingle{}initialisation après 1 ms.
\item appel \mbox{\hyperlink{class_process__qobject_a29fc3053ce53a9410a8267fa181b94e2}{process\+\_\+init0()}} 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{41 \{}
\DoxyCodeLine{42     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_init"});}
\DoxyCodeLine{43     timer\_init =\textcolor{keyword}{new} QTimer();}
\DoxyCodeLine{44     timer\_init-\/>setSingleShot(\textcolor{keyword}{true});}
\DoxyCodeLine{45     connect(timer\_init,SIGNAL(timeout()),\textcolor{keyword}{this},SLOT(\mbox{\hyperlink{class_process__qobject_a29fc3053ce53a9410a8267fa181b94e2}{process\_init0}}()));}
\DoxyCodeLine{46     timer\_init-\/>start(1);}
\DoxyCodeLine{47 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a29fc3053ce53a9410a8267fa181b94e2}\label{class_process__qobject_a29fc3053ce53a9410a8267fa181b94e2}} 
\index{Process\_qobject@{Process\_qobject}!process\_init0@{process\_init0}}
\index{process\_init0@{process\_init0}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_init0}{process\_init0}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+init0 (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a29fc3053ce53a9410a8267fa181b94e2}{Process\+\_\+qobject\+::process\+\_\+init0}}. 


\begin{DoxyItemize}
\item Methode qui initialise l\textquotesingle{}objet
\item creation process\+\_\+badge\+\_\+db var/x7/contents/database\+\_\+badge.\+db
\item creation timer\+\_\+sleep\+\_\+mode\+\_\+control, timer\+\_\+batterie
\item appel \mbox{\hyperlink{class_process__qobject_a24c2a63cbcbe83ec687019795bec0ad1}{process\+\_\+init\+\_\+divers()}} 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{57 \{}
\DoxyCodeLine{58     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_init0"});}
\DoxyCodeLine{59     \textcolor{comment}{//supression de l'entrèe de la clé Usb (sda1) si elle existe}}
\DoxyCodeLine{60     QString a= QString(\textcolor{stringliteral}{"rm /dev/sda1"});}
\DoxyCodeLine{61     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{62     qProc-\/>start(a);}
\DoxyCodeLine{63     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{64     QString tmp = qProc-\/>readAll();}
\DoxyCodeLine{65     qProc-\/>close();}
\DoxyCodeLine{66     qProc-\/>deleteLater();}
\DoxyCodeLine{67 }
\DoxyCodeLine{68     \textcolor{comment}{//Initialistation des proprietes}}
\DoxyCodeLine{69     batterie=0;}
\DoxyCodeLine{70     sleep\_mode\_etat=-\/1;}
\DoxyCodeLine{71     usbkey\_mounted=0;}
\DoxyCodeLine{72 }
\DoxyCodeLine{73     \textcolor{comment}{//FIXME factoriser la gestion de la base de donnée}}
\DoxyCodeLine{74     \textcolor{comment}{//initialisation du lien avec la base de donnée des badges.}}
\DoxyCodeLine{75     process\_badge\_db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"process\_badge"});}
\DoxyCodeLine{76     process\_badge\_db.setDatabaseName(\textcolor{stringliteral}{"-\//var/x7/contents/database\_badge.db"});}
\DoxyCodeLine{77 }
\DoxyCodeLine{78 }
\DoxyCodeLine{79  \textcolor{comment}{/*   timer\_initprocess=new QTimer();}}
\DoxyCodeLine{80 \textcolor{comment}{    timer\_initprocess-\/>setSingleShot(true);}}
\DoxyCodeLine{81 \textcolor{comment}{    connect(timer\_initprocess,SIGNAL(timeout()),this,SLOT(priv\_init\_process()));}}
\DoxyCodeLine{82 \textcolor{comment}{    timer\_initprocess-\/>start(1);}}
\DoxyCodeLine{83 \textcolor{comment}{*/}}
\DoxyCodeLine{84  \textcolor{comment}{/*   timer\_ntp =new QTimer();}}
\DoxyCodeLine{85 \textcolor{comment}{    timer\_ntp-\/>setSingleShot(true);}}
\DoxyCodeLine{86 \textcolor{comment}{    connect(timer\_ntp,SIGNAL(timeout()),this,SLOT(priv\_refresh\_ntp()));}}
\DoxyCodeLine{87 \textcolor{comment}{    //timer\_ntp-\/>start(60000);}}
\DoxyCodeLine{88 \textcolor{comment}{*/}}
\DoxyCodeLine{89 }
\DoxyCodeLine{90     timer\_sleep\_mode\_control=\textcolor{keyword}{new} QTimer();}
\DoxyCodeLine{91     timer\_sleep\_mode\_control-\/>setSingleShot(\textcolor{keyword}{true});}
\DoxyCodeLine{92     connect(timer\_sleep\_mode\_control,SIGNAL(timeout()),\textcolor{keyword}{this},SLOT(\mbox{\hyperlink{class_process__qobject_aebe6b8e65a9bf3bcfd1d0f692daf4265}{priv\_sleep\_mode\_control}}()));}
\DoxyCodeLine{93 }
\DoxyCodeLine{94     timer\_batterie =\textcolor{keyword}{new} QTimer();}
\DoxyCodeLine{95     timer\_batterie-\/>setSingleShot(\textcolor{keyword}{true});}
\DoxyCodeLine{96     connect(timer\_batterie,SIGNAL(timeout()),\textcolor{keyword}{this},SLOT(\mbox{\hyperlink{class_process__qobject_a2679af70218f8d23ec1e19f98c4d80f2}{priv\_refresh\_batterie}}()));}
\DoxyCodeLine{97     timer\_batterie-\/>start(10000);}
\DoxyCodeLine{98 }
\DoxyCodeLine{99     \textcolor{comment}{/*}}
\DoxyCodeLine{100 \textcolor{comment}{    timer\_reboot=new QTimer();}}
\DoxyCodeLine{101 \textcolor{comment}{    timer\_reboot-\/>setSingleShot(true);}}
\DoxyCodeLine{102 \textcolor{comment}{    connect(timer\_reboot,SIGNAL(timeout()),this,SLOT(refresh\_reboot()));}}
\DoxyCodeLine{103 \textcolor{comment}{    //timer\_reboot-\/>start(10000);}}
\DoxyCodeLine{104 \textcolor{comment}{}}
\DoxyCodeLine{105 \textcolor{comment}{    timer\_rebootauto=new QTimer();}}
\DoxyCodeLine{106 \textcolor{comment}{    timer\_rebootauto-\/>setSingleShot(true);}}
\DoxyCodeLine{107 \textcolor{comment}{    connect(timer\_rebootauto,SIGNAL(timeout()),this,SLOT(refresh\_rebootauto()));}}
\DoxyCodeLine{108 \textcolor{comment}{    //timer\_rebootauto-\/>start(60000);}}
\DoxyCodeLine{109 \textcolor{comment}{}}
\DoxyCodeLine{110 \textcolor{comment}{    timer\_restartauto=new QTimer();}}
\DoxyCodeLine{111 \textcolor{comment}{    timer\_restartauto-\/>setSingleShot(true);}}
\DoxyCodeLine{112 \textcolor{comment}{    connect(timer\_restartauto,SIGNAL(timeout()),this,SLOT(refresh\_restartauto()));}}
\DoxyCodeLine{113 \textcolor{comment}{    //timer\_restartauto-\/>start(80000);}}
\DoxyCodeLine{114 \textcolor{comment}{}}
\DoxyCodeLine{115 \textcolor{comment}{    timer\_usbkey=new QTimer();}}
\DoxyCodeLine{116 \textcolor{comment}{    timer\_usbkey-\/>setSingleShot(true);}}
\DoxyCodeLine{117 \textcolor{comment}{    connect(timer\_usbkey,SIGNAL(timeout()),this,SLOT(refresh\_usbkey()));}}
\DoxyCodeLine{118 \textcolor{comment}{    //timer\_usbkey-\/>start(4000);}}
\DoxyCodeLine{119 \textcolor{comment}{*/}}
\DoxyCodeLine{120     \textcolor{comment}{//modify the port settings on your own}}
\DoxyCodeLine{121 \textcolor{comment}{//    port = new QSerialPort("/dev/ttyUSB1");}}
\DoxyCodeLine{122 \textcolor{comment}{//    port-\/>setBaudRate(QSerialPort::Baud115200);}}
\DoxyCodeLine{123 \textcolor{comment}{//    port-\/>setFlowControl(QSerialPort::NoFlowControl);}}
\DoxyCodeLine{124 \textcolor{comment}{//    port-\/>setParity(QSerialPort::NoParity);}}
\DoxyCodeLine{125 \textcolor{comment}{//    port-\/>setDataBits(QSerialPort::Data8);}}
\DoxyCodeLine{126 \textcolor{comment}{//    port-\/>setStopBits(QSerialPort::TwoStop);}}
\DoxyCodeLine{127     \textcolor{comment}{//port-\/>open(QIODevice::ReadWrite);}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129     \mbox{\hyperlink{class_process__qobject_a24c2a63cbcbe83ec687019795bec0ad1}{process\_init\_divers}}();}
\DoxyCodeLine{130 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a24c2a63cbcbe83ec687019795bec0ad1}\label{class_process__qobject_a24c2a63cbcbe83ec687019795bec0ad1}} 
\index{Process\_qobject@{Process\_qobject}!process\_init\_divers@{process\_init\_divers}}
\index{process\_init\_divers@{process\_init\_divers}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_init\_divers()}{process\_init\_divers()}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+init\+\_\+divers (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_process__qobject_a24c2a63cbcbe83ec687019795bec0ad1}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+divers}}. 


\begin{DoxyItemize}
\item lecture table divers
\item appel signal\+\_\+ihm\+\_\+init\+\_\+divers() pour affichage I\+HM 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1279 \{}
\DoxyCodeLine{1280     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_init\_divers"});}
\DoxyCodeLine{1281     QSqlDatabase db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"divers\_setup"});}
\DoxyCodeLine{1282     db.setDatabaseName(\textcolor{stringliteral}{"/var/x7/etc/database\_setup.db"});}
\DoxyCodeLine{1283     \textcolor{comment}{//    QString bl1;QString delai;QString bl2;QString delai\_off;QString sleep\_mode;}}
\DoxyCodeLine{1284 }
\DoxyCodeLine{1285     \textcolor{keywordflow}{if} (db.open())}
\DoxyCodeLine{1286     \{}
\DoxyCodeLine{1287         log4cpp-\/>debug(\textcolor{stringliteral}{"Lecture table divers"});}
\DoxyCodeLine{1288         QSqlQueryModel model;}
\DoxyCodeLine{1289         model.setQuery(\textcolor{stringliteral}{"SELECT * FROM divers"},db);}
\DoxyCodeLine{1290         \textcolor{keywordflow}{if} (model.rowCount())}
\DoxyCodeLine{1291         \{}
\DoxyCodeLine{1292             type\_ecran=model.record(0).value(\textcolor{stringliteral}{"ecran"}).toString();}
\DoxyCodeLine{1293             backlight\_N1=model.record(0).value(\textcolor{stringliteral}{"backlight N1"}).toString();}
\DoxyCodeLine{1294             delai\_N2=model.record(0).value(\textcolor{stringliteral}{"delai N2"}).toString();}
\DoxyCodeLine{1295             backlight\_N2=model.record(0).value(\textcolor{stringliteral}{"backlight N2"}).toString();}
\DoxyCodeLine{1296             delai\_OFF=model.record(0).value(\textcolor{stringliteral}{"delai OFF"}).toString();}
\DoxyCodeLine{1297             sleep\_mode=model.record(0).value(\textcolor{stringliteral}{"sleep mode"}).toString();}
\DoxyCodeLine{1298             \textcolor{keywordflow}{if}(backlight\_N1.toInt() < 1) backlight\_N1 = \textcolor{stringliteral}{"1"};}
\DoxyCodeLine{1299             \textcolor{keywordflow}{if}(backlight\_N1.toInt() > 25) backlight\_N1 = \textcolor{stringliteral}{"25"};}
\DoxyCodeLine{1300             \textcolor{keywordflow}{if}(backlight\_N2.toInt() < 1) backlight\_N2 = \textcolor{stringliteral}{"1"};}
\DoxyCodeLine{1301             \textcolor{keywordflow}{if}(backlight\_N2.toInt() > 25) backlight\_N2 = \textcolor{stringliteral}{"25"};}
\DoxyCodeLine{1302             X7CarteIO::getInstance()-\/>setBrightness(backlight\_N1.toInt());}
\DoxyCodeLine{1303         \}\textcolor{keywordflow}{else}\{}
\DoxyCodeLine{1304             log4cpp-\/>debug(\textcolor{stringliteral}{"process\_init\_divers recréation données"});}
\DoxyCodeLine{1305             QSqlQuery query(db);}
\DoxyCodeLine{1306             query.exec(QString(\textcolor{stringliteral}{"DELETE from divers"}));}
\DoxyCodeLine{1307             query.clear();}
\DoxyCodeLine{1308             query.finish();}
\DoxyCodeLine{1309             db.commit();}
\DoxyCodeLine{1310             query.prepare(\textcolor{stringliteral}{"INSERT INTO divers (ecran, 'backlight N1', 'delai N2', 'backlight N2', 'delai OFF', 'sleep mode')"} \textcolor{stringliteral}{"VALUES (:ecran, :bl1, :delai, :bl2, :delai\_off, :sleep\_mode);"});}
\DoxyCodeLine{1311             query.bindValue(\textcolor{stringliteral}{":ecran"}, \textcolor{stringliteral}{"0"});}
\DoxyCodeLine{1312             query.bindValue(\textcolor{stringliteral}{":bl1"}, \textcolor{stringliteral}{"10"});}
\DoxyCodeLine{1313             query.bindValue(\textcolor{stringliteral}{":delai"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{1314             query.bindValue(\textcolor{stringliteral}{":bl2"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{1315             query.bindValue(\textcolor{stringliteral}{":delai\_off"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{1316             query.bindValue(\textcolor{stringliteral}{":sleep\_mode"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{1317             query.exec();}
\DoxyCodeLine{1318             query.finish();}
\DoxyCodeLine{1319             db.commit();}
\DoxyCodeLine{1320             db.close();}
\DoxyCodeLine{1321         \}}
\DoxyCodeLine{1322         model.clear();}
\DoxyCodeLine{1323         model.deleteLater();}
\DoxyCodeLine{1324         db.close();}
\DoxyCodeLine{1325         log4cpp-\/>debug(\textcolor{stringliteral}{"Fin table divers"});}
\DoxyCodeLine{1326     \}}
\DoxyCodeLine{1327     \textcolor{comment}{/* appel mainView.qml signal\_ihm\_init\_divers() */}}
\DoxyCodeLine{1328     signal\_ihm\_init\_divers(type\_ecran,backlight\_N1,delai\_N2,backlight\_N2,delai\_OFF,sleep\_mode);}
\DoxyCodeLine{1329 }
\DoxyCodeLine{1330 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a2a9b4c176f242ae2504cc441e7dfea74}\label{class_process__qobject_a2a9b4c176f242ae2504cc441e7dfea74}} 
\index{Process\_qobject@{Process\_qobject}!process\_init\_http@{process\_init\_http}}
\index{process\_init\_http@{process\_init\_http}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_init\_http}{process\_init\_http}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+init\+\_\+http (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a2a9b4c176f242ae2504cc441e7dfea74}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+http}}. 


\begin{DoxyItemize}
\item Methode pour initialiser la connexion au serveur chronotime
\item appel signal\+\_\+ihm\+\_\+init\+\_\+http() 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1029 \{}
\DoxyCodeLine{1030     log4cpp-\/>debug(\textcolor{stringliteral}{"process init\_http"});}
\DoxyCodeLine{1031     QSqlDatabase db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"supervision\_setup"});}
\DoxyCodeLine{1032     db.setDatabaseName(\textcolor{stringliteral}{"/var/x7/etc/database\_setup.db"});}
\DoxyCodeLine{1033     QString serveur;QString https;QString http;QString service;QString user;QString password;QString timeout;}
\DoxyCodeLine{1034 }
\DoxyCodeLine{1035     \textcolor{keywordflow}{if} (db.open())}
\DoxyCodeLine{1036     \{}
\DoxyCodeLine{1037         QSqlQueryModel model;}
\DoxyCodeLine{1038 }
\DoxyCodeLine{1039         model.setQuery(\textcolor{stringliteral}{"SELECT * FROM http"},db);}
\DoxyCodeLine{1040         \textcolor{keywordflow}{if} (!model.record(0).contains(\textcolor{stringliteral}{"timeout"}))}
\DoxyCodeLine{1041         \{}
\DoxyCodeLine{1042             log4cpp-\/>debug(\textcolor{stringliteral}{"AlterTable http"});}
\DoxyCodeLine{1043             model.setQuery(\textcolor{stringliteral}{"ALTER TABLE http ADD timeout VARCHAR(5)"},db);}
\DoxyCodeLine{1044             db.commit();}
\DoxyCodeLine{1045             model.setQuery(\textcolor{stringliteral}{"UPDATE http SET timeout = '5' "},db);}
\DoxyCodeLine{1046             db.commit();}
\DoxyCodeLine{1047         \}}
\DoxyCodeLine{1048 }
\DoxyCodeLine{1049         model.setQuery(\textcolor{stringliteral}{"SELECT * FROM http"},db);}
\DoxyCodeLine{1050         \textcolor{keywordflow}{if} (model.rowCount())}
\DoxyCodeLine{1051         \{}
\DoxyCodeLine{1052             supervision\_thread.supervision.http\_server = serveur = model.record(0).value(\textcolor{stringliteral}{"serveur"}).toString();}
\DoxyCodeLine{1053             supervision\_thread.supervision.http\_port\_https = https = model.record(0).value(\textcolor{stringliteral}{"port https"}).toString();}
\DoxyCodeLine{1054             supervision\_thread.supervision.http\_port\_http = http = model.record(0).value(\textcolor{stringliteral}{"port http"}).toString();}
\DoxyCodeLine{1055             supervision\_thread.supervision.http\_service = service = model.record(0).value(\textcolor{stringliteral}{"service"}).toString();}
\DoxyCodeLine{1056             supervision\_thread.supervision.http\_user = user = model.record(0).value(\textcolor{stringliteral}{"user"}).toString();}
\DoxyCodeLine{1057             supervision\_thread.supervision.http\_password = password = model.record(0).value(\textcolor{stringliteral}{"password"}).toString();}
\DoxyCodeLine{1058             supervision\_thread.supervision.http\_timeout = timeout = model.record(0).value(\textcolor{stringliteral}{"timeout"}).toString();}
\DoxyCodeLine{1059             log4cpp-\/>debug(\textcolor{stringliteral}{"mise a jour http\_server: "}+ model.record(0).value(\textcolor{stringliteral}{"serveur"}).toString().toStdString());}
\DoxyCodeLine{1060         \}}
\DoxyCodeLine{1061 }
\DoxyCodeLine{1062         \textcolor{keywordflow}{if} (timeout.toInt() < 2)}
\DoxyCodeLine{1063         \{}
\DoxyCodeLine{1064             log4cpp-\/>debug(\textcolor{stringliteral}{"Update http"});}
\DoxyCodeLine{1065             model.setQuery(\textcolor{stringliteral}{"UPDATE http SET timeout = '2' "},db);}
\DoxyCodeLine{1066             db.commit();}
\DoxyCodeLine{1067             supervision\_thread.supervision.http\_timeout=timeout=\textcolor{charliteral}{'2'};}
\DoxyCodeLine{1068         \}}
\DoxyCodeLine{1069         model.clear();}
\DoxyCodeLine{1070         model.deleteLater();}
\DoxyCodeLine{1071         db.close();}
\DoxyCodeLine{1072     \}}
\DoxyCodeLine{1073     \textcolor{comment}{// appel mainView.qml ihm\_init\_http}}
\DoxyCodeLine{1074     emit signal\_ihm\_init\_http(serveur,https,http,service,user,password,timeout);}
\DoxyCodeLine{1075 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a7310b33e803b2ec8f1d70e5057e25a8a}\label{class_process__qobject_a7310b33e803b2ec8f1d70e5057e25a8a}} 
\index{Process\_qobject@{Process\_qobject}!process\_init\_lecteur\_badge@{process\_init\_lecteur\_badge}}
\index{process\_init\_lecteur\_badge@{process\_init\_lecteur\_badge}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_init\_lecteur\_badge()}{process\_init\_lecteur\_badge()}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+init\+\_\+lecteur\+\_\+badge (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_process__qobject_a7310b33e803b2ec8f1d70e5057e25a8a}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+lecteur\+\_\+badge}}. 


\begin{DoxyItemize}
\item Acces à database\+\_\+setup.\+db
\item appel signal\+\_\+ihm\+\_\+init\+\_\+lecteur\+\_\+badge() pour affichage des infos du lecteur dans l\textquotesingle{}I\+HM 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{511 \{}
\DoxyCodeLine{512     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_init\_lecteur\_badge"});}
\DoxyCodeLine{513     \textcolor{comment}{//FIXME factoriser acces BDD}}
\DoxyCodeLine{514     QSqlDatabase db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"badge\_setup"});}
\DoxyCodeLine{515     db.setDatabaseName(\textcolor{stringliteral}{"/var/x7/etc/database\_setup.db"});}
\DoxyCodeLine{516     QString lecteur;QString option;QString masque;QString format;}
\DoxyCodeLine{517 }
\DoxyCodeLine{518     lecteur.clear();}
\DoxyCodeLine{519     option.clear();}
\DoxyCodeLine{520     masque.clear();}
\DoxyCodeLine{521     format.clear();}
\DoxyCodeLine{522 }
\DoxyCodeLine{523     \textcolor{keywordflow}{if} (db.open())}
\DoxyCodeLine{524     \{}
\DoxyCodeLine{525         log4cpp-\/>debug(\textcolor{stringliteral}{"Lecture table badge process."});}
\DoxyCodeLine{526         QSqlQueryModel model;}
\DoxyCodeLine{527         model.setQuery(\textcolor{stringliteral}{"SELECT * FROM badge"},db);}
\DoxyCodeLine{528         \textcolor{keywordflow}{if} (model.rowCount())}
\DoxyCodeLine{529         \{}
\DoxyCodeLine{530             lecteur=model.record(0).value(\textcolor{stringliteral}{"lecteur"}).toString();}
\DoxyCodeLine{531             option=model.record(0).value(\textcolor{stringliteral}{"option"}).toString();}
\DoxyCodeLine{532             masque=model.record(0).value(\textcolor{stringliteral}{"masque"}).toString();}
\DoxyCodeLine{533             format=model.record(0).value(\textcolor{stringliteral}{"format"}).toString();}
\DoxyCodeLine{534         \}}
\DoxyCodeLine{535         model.clear();}
\DoxyCodeLine{536         model.deleteLater();}
\DoxyCodeLine{537         db.close();}
\DoxyCodeLine{538     \}}
\DoxyCodeLine{539 }
\DoxyCodeLine{540     \textcolor{keywordflow}{if} (lecteur.isEmpty()) lecteur=\textcolor{stringliteral}{"0"};}
\DoxyCodeLine{541     \textcolor{keywordflow}{if} (option.isEmpty()) option=\textcolor{stringliteral}{"0"};}
\DoxyCodeLine{542 }
\DoxyCodeLine{543     \textcolor{comment}{/* appel mainView.qml init\_lecteur\_badge pour affichage info lecteur */}}
\DoxyCodeLine{544     signal\_ihm\_init\_lecteur\_badge(lecteur,option,format,masque);}
\DoxyCodeLine{545 }
\DoxyCodeLine{546 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a2b7806cc8e2b06f4bea2c9e4325a4381}\label{class_process__qobject_a2b7806cc8e2b06f4bea2c9e4325a4381}} 
\index{Process\_qobject@{Process\_qobject}!process\_init\_mode\_network@{process\_init\_mode\_network}}
\index{process\_init\_mode\_network@{process\_init\_mode\_network}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_init\_mode\_network}{process\_init\_mode\_network}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+init\+\_\+mode\+\_\+network (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a2b7806cc8e2b06f4bea2c9e4325a4381}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+mode\+\_\+network}} 


\begin{DoxyItemize}
\item appel signal\+\_\+init\+\_\+mode\+\_\+network() (obsolete) 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{904 \{}
\DoxyCodeLine{905     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_init\_mode\_network"});}
\DoxyCodeLine{906     QHostAddress ip,netmask,gateway;}
\DoxyCodeLine{907     QString dns1,dns2;}
\DoxyCodeLine{908 }
\DoxyCodeLine{909     QString a= QString(\textcolor{stringliteral}{"ip route"});}
\DoxyCodeLine{910     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{911     qProc-\/>start(a);}
\DoxyCodeLine{912     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{913     QString tmp = qProc-\/>readAll(); \textcolor{comment}{// tmp = "default via 172.16.66.1 dev eth0 <cr><lf>172.16.66.0/23 dev eth0 proto kernel scope link src 172.16.66.33"}}
\DoxyCodeLine{914     qProc-\/>close();}
\DoxyCodeLine{915     qProc-\/>deleteLater();}
\DoxyCodeLine{916 }
\DoxyCodeLine{917     gateway=tmp.section(\textcolor{charliteral}{' '},2,2);}
\DoxyCodeLine{918 }
\DoxyCodeLine{919     QString nom=supervision\_thread.supervision.time2bii\_name;}
\DoxyCodeLine{920 }
\DoxyCodeLine{921     ip.clear();}
\DoxyCodeLine{922     QList<QNetworkInterface> interfaces = QNetworkInterface::allInterfaces();}
\DoxyCodeLine{923     \textcolor{keywordflow}{foreach}(\textcolor{keyword}{const} QNetworkInterface \& interface, interfaces)}
\DoxyCodeLine{924     \{}
\DoxyCodeLine{925         \textcolor{keywordflow}{if} (interface.name().contains(\textcolor{stringliteral}{"eth"}) || interface.name().contains(\textcolor{stringliteral}{"wlan"}) || interface.name().contains(\textcolor{stringliteral}{"ppp"}))}
\DoxyCodeLine{926         \{}
\DoxyCodeLine{927             QList<QNetworkAddressEntry> entries = interface.addressEntries();}
\DoxyCodeLine{928             \textcolor{keywordflow}{if} (!entries.isEmpty())}
\DoxyCodeLine{929             \{}
\DoxyCodeLine{930                 QNetworkAddressEntry entry = entries.first();}
\DoxyCodeLine{931                 ip = entry.ip();}
\DoxyCodeLine{932                 netmask =entry.netmask();}
\DoxyCodeLine{933             \}}
\DoxyCodeLine{934         \}}
\DoxyCodeLine{935     \}}
\DoxyCodeLine{936 }
\DoxyCodeLine{937     QFile in(\textcolor{stringliteral}{"/etc/resolv.conf"});}
\DoxyCodeLine{938     \textcolor{keywordflow}{if} (in.open( QFile::ReadOnly))}
\DoxyCodeLine{939     \{}
\DoxyCodeLine{940         QTextStream stream\_in(\&in);}
\DoxyCodeLine{941         QString s;}
\DoxyCodeLine{942         \textcolor{keywordtype}{int} i=0;}
\DoxyCodeLine{943         \textcolor{keywordflow}{do}\{}
\DoxyCodeLine{944             s = stream\_in.readLine();}
\DoxyCodeLine{945             \textcolor{keywordflow}{if} (s.contains(\textcolor{stringliteral}{"nameserver"}))}
\DoxyCodeLine{946             \{}
\DoxyCodeLine{947                 \textcolor{keywordflow}{if} (i==0) dns1=s.section(\textcolor{charliteral}{' '},1,1);}
\DoxyCodeLine{948                 \textcolor{keywordflow}{else}      dns2=s.section(\textcolor{charliteral}{' '},1,1);}
\DoxyCodeLine{949                 i++;}
\DoxyCodeLine{950             \}}
\DoxyCodeLine{951         \} \textcolor{keywordflow}{while} (!s.isNull());}
\DoxyCodeLine{952 }
\DoxyCodeLine{953         in.close();}
\DoxyCodeLine{954     \}}
\DoxyCodeLine{955     \textcolor{comment}{//obsolete}}
\DoxyCodeLine{956     \textcolor{comment}{//signal\_init\_mode\_network(nom,ip.toString(),netmask.toString(),gateway.toString(),dns1,dns2);}}
\DoxyCodeLine{957 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_abad0c73191ac1ec710c0eba8c05fd002}\label{class_process__qobject_abad0c73191ac1ec710c0eba8c05fd002}} 
\index{Process\_qobject@{Process\_qobject}!process\_init\_ntp@{process\_init\_ntp}}
\index{process\_init\_ntp@{process\_init\_ntp}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_init\_ntp()}{process\_init\_ntp()}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+init\+\_\+ntp (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_process__qobject_abad0c73191ac1ec710c0eba8c05fd002}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+ntp}}. 


\begin{DoxyItemize}
\item Methode init date heure
\item lecture database\+\_\+detup.\+db
\item mise à jour /etc/profile.d/timezone\+\_\+langue.\+sh
\item appel signal\+\_\+ihm\+\_\+init\+\_\+ntp() 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1152 \{}
\DoxyCodeLine{1153     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_init\_ntp"});}
\DoxyCodeLine{1154     QSqlDatabase db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"ntp\_setup"});}
\DoxyCodeLine{1155     db.setDatabaseName(\textcolor{stringliteral}{"/var/x7/etc/database\_setup.db"});}
\DoxyCodeLine{1156     \textcolor{comment}{//QString serveur;QString cadence;}}
\DoxyCodeLine{1157     QString timezone;QString langue;}
\DoxyCodeLine{1158 }
\DoxyCodeLine{1159     serveur\_ntp.clear();}
\DoxyCodeLine{1160     cadence\_ntp.clear();}
\DoxyCodeLine{1161     timezone.clear();}
\DoxyCodeLine{1162     langue.clear();}
\DoxyCodeLine{1163 }
\DoxyCodeLine{1164     \textcolor{keywordflow}{if} (db.open())}
\DoxyCodeLine{1165     \{}
\DoxyCodeLine{1166         log4cpp-\/>debug(\textcolor{stringliteral}{"Lecture table ntp(init)"});}
\DoxyCodeLine{1167         QSqlQueryModel model;}
\DoxyCodeLine{1168         model.setQuery(\textcolor{stringliteral}{"SELECT * FROM ntp"},db);}
\DoxyCodeLine{1169 }
\DoxyCodeLine{1170         \textcolor{keywordflow}{if} (!model.record(0).contains(\textcolor{stringliteral}{"timezone"}))}
\DoxyCodeLine{1171         \{}
\DoxyCodeLine{1172             log4cpp-\/>debug(\textcolor{stringliteral}{"AlterTable ntp"});}
\DoxyCodeLine{1173             model.setQuery(\textcolor{stringliteral}{"ALTER TABLE ntp ADD timezone VARCHAR(60)"},db);}
\DoxyCodeLine{1174             db.commit();}
\DoxyCodeLine{1175             model.setQuery(\textcolor{stringliteral}{"UPDATE ntp SET timezone = 'Europe/Paris'"},db);}
\DoxyCodeLine{1176             db.commit();}
\DoxyCodeLine{1177             model.setQuery(\textcolor{stringliteral}{"ALTER TABLE ntp ADD langue VARCHAR(10)"},db);}
\DoxyCodeLine{1178             db.commit();}
\DoxyCodeLine{1179             model.setQuery(\textcolor{stringliteral}{"UPDATE ntp SET langue = 'fr\_FR'"},db);}
\DoxyCodeLine{1180             db.commit();}
\DoxyCodeLine{1181         \}}
\DoxyCodeLine{1182 }
\DoxyCodeLine{1183         log4cpp-\/>debug(\textcolor{stringliteral}{"count :"} + model.rowCount());}
\DoxyCodeLine{1184         \textcolor{keywordflow}{if} (model.rowCount())}
\DoxyCodeLine{1185         \{}
\DoxyCodeLine{1186             log4cpp-\/>debug(\textcolor{stringliteral}{"serveur valid :"} + model.record(0).value(\textcolor{stringliteral}{"serveur"}).isValid());}
\DoxyCodeLine{1187 }
\DoxyCodeLine{1188             serveur\_ntp=model.record(0).value(\textcolor{stringliteral}{"serveur"}).toString();}
\DoxyCodeLine{1189             cadence\_ntp=model.record(0).value(\textcolor{stringliteral}{"cadence"}).toString();}
\DoxyCodeLine{1190             timezone=model.record(0).value(\textcolor{stringliteral}{"timezone"}).toString();}
\DoxyCodeLine{1191             langue=model.record(0).value(\textcolor{stringliteral}{"langue"}).toString();}
\DoxyCodeLine{1192         \}}
\DoxyCodeLine{1193         model.clear();}
\DoxyCodeLine{1194         model.deleteLater();}
\DoxyCodeLine{1195         db.close();}
\DoxyCodeLine{1196 }
\DoxyCodeLine{1197 }
\DoxyCodeLine{1198         QFile in(\textcolor{stringliteral}{"/etc/profile.d/timezone\_langue.sh"});}
\DoxyCodeLine{1199         \textcolor{keywordflow}{if} (in.open( QFile::ReadOnly))}
\DoxyCodeLine{1200         \{}
\DoxyCodeLine{1201             QTextStream stream\_in(\&in);}
\DoxyCodeLine{1202             QString s=stream\_in.readAll();}
\DoxyCodeLine{1203             in.close();}
\DoxyCodeLine{1204             QString a=QString(\textcolor{stringliteral}{"TZ=\%1"}).arg(\textcolor{charliteral}{'"'}+timezone+\textcolor{charliteral}{'"'});}
\DoxyCodeLine{1205             QString b=QString(\textcolor{stringliteral}{"LC\_TIME=\%1"}).arg(langue+\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{1206             \textcolor{keywordflow}{if} (!s.contains(a) || !s.contains(b)) \mbox{\hyperlink{class_process__qobject_a6541b86edebb5277bf105a719790b409}{priv\_set\_timezone\_langue}}(1,timezone,langue);}
\DoxyCodeLine{1207         \}}
\DoxyCodeLine{1208     \}}
\DoxyCodeLine{1209     \textcolor{comment}{//appel mainView signal\_ihm\_init\_ntp}}
\DoxyCodeLine{1210     signal\_ihm\_init\_ntp(serveur\_ntp,cadence\_ntp,timezone,langue);}
\DoxyCodeLine{1211 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a8d42129f8a8255976297b32e87c7a763}\label{class_process__qobject_a8d42129f8a8255976297b32e87c7a763}} 
\index{Process\_qobject@{Process\_qobject}!process\_init\_SSH@{process\_init\_SSH}}
\index{process\_init\_SSH@{process\_init\_SSH}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_init\_SSH()}{process\_init\_SSH()}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+init\+\_\+\+S\+SH (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_process__qobject_a8d42129f8a8255976297b32e87c7a763}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+\+S\+SH}}. 


\begin{DoxyItemize}
\item appel signal\+\_\+ihm\+\_\+init\+\_\+\+S\+S\+H() 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1523 \{}
\DoxyCodeLine{1524     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_init\_SSH"});}
\DoxyCodeLine{1525     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{1526     QString b;}
\DoxyCodeLine{1527     b= QString(\textcolor{stringliteral}{"/etc/init.d/sshd status"});}
\DoxyCodeLine{1528     qProc-\/>start(b);}
\DoxyCodeLine{1529     QTest::qWait(500);}
\DoxyCodeLine{1530     \textcolor{keywordflow}{while} ( qProc-\/>state()==QProcess::Running) QTest::qWait(100);}
\DoxyCodeLine{1531     QByteArray result = qProc-\/>readAll();}
\DoxyCodeLine{1532     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_init\_SSH "} + result);}
\DoxyCodeLine{1533     qProc-\/>close();}
\DoxyCodeLine{1534     qProc-\/>deleteLater();}
\DoxyCodeLine{1535     signal\_ihm\_init\_SSH(\textcolor{stringliteral}{""});}
\DoxyCodeLine{1536 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a1e0adef1a539eb6653e188f0a52872db}\label{class_process__qobject_a1e0adef1a539eb6653e188f0a52872db}} 
\index{Process\_qobject@{Process\_qobject}!process\_init\_SwUpdate@{process\_init\_SwUpdate}}
\index{process\_init\_SwUpdate@{process\_init\_SwUpdate}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_init\_SwUpdate()}{process\_init\_SwUpdate()}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+init\+\_\+\+Sw\+Update (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_process__qobject_a1e0adef1a539eb6653e188f0a52872db}{Process\+\_\+qobject\+::process\+\_\+init\+\_\+\+Sw\+Update}}. 


\begin{DoxyItemize}
\item appel signal\+\_\+ihm\+\_\+init\+\_\+\+Sw\+Update() 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1567 \{}
\DoxyCodeLine{1568     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_init\_SwUpdate"});}
\DoxyCodeLine{1569     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{1570     QString b;}
\DoxyCodeLine{1571     b= QString(\textcolor{stringliteral}{"/etc/init.d/swupdate status"});}
\DoxyCodeLine{1572     qProc-\/>start(b);}
\DoxyCodeLine{1573     QTest::qWait(500);}
\DoxyCodeLine{1574     \textcolor{keywordflow}{while} ( qProc-\/>state()==QProcess::Running) QTest::qWait(100);}
\DoxyCodeLine{1575     QByteArray result = qProc-\/>readAll();}
\DoxyCodeLine{1576     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_init\_SwUpdate "} + result);}
\DoxyCodeLine{1577     qProc-\/>close();}
\DoxyCodeLine{1578     qProc-\/>deleteLater();}
\DoxyCodeLine{1579     signal\_ihm\_init\_SwUpdate(\textcolor{stringliteral}{""});}
\DoxyCodeLine{1580 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a7b4aa465d15b69649e3b166eff9e2902}\label{class_process__qobject_a7b4aa465d15b69649e3b166eff9e2902}} 
\index{Process\_qobject@{Process\_qobject}!process\_set\_3G@{process\_set\_3G}}
\index{process\_set\_3G@{process\_set\_3G}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_set\_3G}{process\_set\_3G}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+set\+\_\+3G (\begin{DoxyParamCaption}\item[{Q\+String}]{apn,  }\item[{Q\+String}]{pin,  }\item[{Q\+String}]{phone,  }\item[{Q\+String}]{user,  }\item[{Q\+String}]{password }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a7b4aa465d15b69649e3b166eff9e2902}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+3G}}. 


\begin{DoxyParams}{Parameters}
{\em apn} & \\
\hline
{\em pin} & \\
\hline
{\em phone} & \\
\hline
{\em user} & \\
\hline
{\em password} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{1419 \{}
\DoxyCodeLine{1420     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_set\_3G"});}
\DoxyCodeLine{1421     Q\_UNUSED(phone);}
\DoxyCodeLine{1422     \textcolor{keywordflow}{if} (apn==\textcolor{stringliteral}{"init"}) \{\mbox{\hyperlink{class_process__qobject_ae7a2207e1b326aae9c39d35604388329}{process\_init\_3G}}();\textcolor{keywordflow}{return};\}}
\DoxyCodeLine{1423     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{1424     QString b;}
\DoxyCodeLine{1425 }
\DoxyCodeLine{1426 }
\DoxyCodeLine{1427     QFile in(\textcolor{stringliteral}{"wvdial.cfg"});}
\DoxyCodeLine{1428     QFile out(\textcolor{stringliteral}{"/etc/wvdial.conf"});}
\DoxyCodeLine{1429     \textcolor{keywordflow}{if} (in.open( QFile::ReadOnly))}
\DoxyCodeLine{1430     \{}
\DoxyCodeLine{1431         QTextStream stream\_in(\&in);}
\DoxyCodeLine{1432         QTextStream stream\_out(\&out);}
\DoxyCodeLine{1433         QString s=stream\_in.readAll();}
\DoxyCodeLine{1434         s.replace(\textcolor{stringliteral}{"root"},user);}
\DoxyCodeLine{1435         s.replace(\textcolor{stringliteral}{"time2bii"},password);}
\DoxyCodeLine{1436         s.replace(\textcolor{stringliteral}{"websfr"},apn);}
\DoxyCodeLine{1437         s.replace(\textcolor{stringliteral}{"5675"},pin);}
\DoxyCodeLine{1438 }
\DoxyCodeLine{1439         out.open( QFile::WriteOnly);}
\DoxyCodeLine{1440         stream\_out << s;}
\DoxyCodeLine{1441         stream\_out.flush();}
\DoxyCodeLine{1442         in.close();}
\DoxyCodeLine{1443         out.close();}
\DoxyCodeLine{1444     \}}
\DoxyCodeLine{1445 }
\DoxyCodeLine{1446     b= QString(\textcolor{stringliteral}{"ip route del"});}
\DoxyCodeLine{1447     qProc-\/>start(b);}
\DoxyCodeLine{1448     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{1449     qProc-\/>readAll();}
\DoxyCodeLine{1450     b= QString(\textcolor{stringliteral}{"/etc/init.d/networking restart"});}
\DoxyCodeLine{1451     qProc-\/>start(b);}
\DoxyCodeLine{1452     QTest::qWait(1000);}
\DoxyCodeLine{1453     \textcolor{keywordflow}{while} ( qProc-\/>state()==QProcess::Running) QTest::qWait(100);}
\DoxyCodeLine{1454     qProc-\/>close();}
\DoxyCodeLine{1455     qProc-\/>deleteLater();}
\DoxyCodeLine{1456 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_aab97cd7b91c93d38b7120b2ebd6e01f9}\label{class_process__qobject_aab97cd7b91c93d38b7120b2ebd6e01f9}} 
\index{Process\_qobject@{Process\_qobject}!process\_set\_divers@{process\_set\_divers}}
\index{process\_set\_divers@{process\_set\_divers}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_set\_divers}{process\_set\_divers}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+set\+\_\+divers (\begin{DoxyParamCaption}\item[{Q\+String}]{ecran,  }\item[{Q\+String}]{bl1,  }\item[{Q\+String}]{delai,  }\item[{Q\+String}]{bl2,  }\item[{Q\+String}]{delai\+\_\+off,  }\item[{Q\+String}]{sleep\+\_\+mode1 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_aab97cd7b91c93d38b7120b2ebd6e01f9}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+divers}}. 


\begin{DoxyItemize}
\item appel \mbox{\hyperlink{class_process__qobject_a24c2a63cbcbe83ec687019795bec0ad1}{process\+\_\+init\+\_\+divers()}}
\item appel signal\+\_\+window\+\_\+init\+\_\+orientation\+\_\+ecran()
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em ecran} & \\
\hline
{\em bl1} & \\
\hline
{\em delai} & \\
\hline
{\em bl2} & \\
\hline
{\em delai\+\_\+off} & \\
\hline
{\em sleep\+\_\+mode1} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{1228 \{}
\DoxyCodeLine{1229     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_set\_divers"});}
\DoxyCodeLine{1230     \textcolor{keywordflow}{if} (ecran==\textcolor{stringliteral}{"init"}) \{\mbox{\hyperlink{class_process__qobject_a24c2a63cbcbe83ec687019795bec0ad1}{process\_init\_divers}}();\textcolor{keywordflow}{return};\}}
\DoxyCodeLine{1231 }
\DoxyCodeLine{1232     QSqlDatabase db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"supervison\_setup"});}
\DoxyCodeLine{1233     db.setDatabaseName(\textcolor{stringliteral}{"/var/x7/etc/database\_setup.db"});}
\DoxyCodeLine{1234 }
\DoxyCodeLine{1235     \textcolor{keywordflow}{if}(type\_ecran.compare(ecran) || backlight\_N1.compare(bl1) || delai\_N2.compare(delai)}
\DoxyCodeLine{1236             || backlight\_N2.compare(bl2) || delai\_OFF.compare(delai\_off) || sleep\_mode.compare(sleep\_mode1))}
\DoxyCodeLine{1237     \{}
\DoxyCodeLine{1238         log4cpp-\/>debug(\textcolor{stringliteral}{"set divers initialisation"});}
\DoxyCodeLine{1239         type\_ecran=ecran;}
\DoxyCodeLine{1240         backlight\_N1=bl1;}
\DoxyCodeLine{1241         delai\_N2=delai;}
\DoxyCodeLine{1242         backlight\_N2=bl2;}
\DoxyCodeLine{1243         delai\_OFF=delai\_off;}
\DoxyCodeLine{1244         sleep\_mode=sleep\_mode1;}
\DoxyCodeLine{1245         \textcolor{keywordflow}{if}(bl1.toInt() < 1) bl1 = \textcolor{stringliteral}{"1"};}
\DoxyCodeLine{1246         \textcolor{keywordflow}{if}(bl1.toInt() > 25) bl1 = \textcolor{stringliteral}{"25"};}
\DoxyCodeLine{1247         \textcolor{keywordflow}{if}(bl2.toInt() < 1) bl2 = \textcolor{stringliteral}{"1"};}
\DoxyCodeLine{1248         \textcolor{keywordflow}{if}(bl2.toInt() > 25) bl2 = \textcolor{stringliteral}{"25"};}
\DoxyCodeLine{1249         \textcolor{keywordflow}{if} (db.open())}
\DoxyCodeLine{1250         \{}
\DoxyCodeLine{1251             QSqlQuery query(db);}
\DoxyCodeLine{1252             query.exec(QString(\textcolor{stringliteral}{"DELETE from divers"}));}
\DoxyCodeLine{1253             query.clear();}
\DoxyCodeLine{1254             query.finish();}
\DoxyCodeLine{1255             db.commit();}
\DoxyCodeLine{1256             query.prepare(\textcolor{stringliteral}{"INSERT INTO divers (ecran, 'backlight N1', 'delai N2', 'backlight N2', 'delai OFF', 'sleep mode')"} \textcolor{stringliteral}{"VALUES (:ecran, :bl1, :delai, :bl2, :delai\_off, :sleep\_mode);"});}
\DoxyCodeLine{1257             query.bindValue(\textcolor{stringliteral}{":ecran"}, type\_ecran);}
\DoxyCodeLine{1258             query.bindValue(\textcolor{stringliteral}{":bl1"}, backlight\_N1);}
\DoxyCodeLine{1259             query.bindValue(\textcolor{stringliteral}{":delai"}, delai\_N2);}
\DoxyCodeLine{1260             query.bindValue(\textcolor{stringliteral}{":bl2"}, backlight\_N2);}
\DoxyCodeLine{1261             query.bindValue(\textcolor{stringliteral}{":delai\_off"}, delai\_off);}
\DoxyCodeLine{1262             query.bindValue(\textcolor{stringliteral}{":sleep\_mode"}, sleep\_mode);}
\DoxyCodeLine{1263             query.exec();}
\DoxyCodeLine{1264             query.finish();}
\DoxyCodeLine{1265             db.commit();}
\DoxyCodeLine{1266             db.close();}
\DoxyCodeLine{1267         \}}
\DoxyCodeLine{1268     \}}
\DoxyCodeLine{1269     signal\_window\_init\_orientation\_ecran(ecran);}
\DoxyCodeLine{1270     X7CarteIO::getInstance()-\/>setBrightness(backlight\_N1.toInt());}
\DoxyCodeLine{1271 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_aa0a543e9cfafcbf30b4d28bec92fa2af}\label{class_process__qobject_aa0a543e9cfafcbf30b4d28bec92fa2af}} 
\index{Process\_qobject@{Process\_qobject}!process\_set\_http@{process\_set\_http}}
\index{process\_set\_http@{process\_set\_http}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_set\_http}{process\_set\_http}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+set\+\_\+http (\begin{DoxyParamCaption}\item[{Q\+String}]{serveur,  }\item[{Q\+String}]{https,  }\item[{Q\+String}]{http,  }\item[{Q\+String}]{service,  }\item[{Q\+String}]{user,  }\item[{Q\+String}]{password,  }\item[{Q\+String}]{timeout }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_aa0a543e9cfafcbf30b4d28bec92fa2af}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+http}}. 


\begin{DoxyItemize}
\item Methode pour verifier la connexion au serveur chronotime et l\textquotesingle{}affichage sur I\+HM
\item appel \mbox{\hyperlink{class_process__qobject_a2a9b4c176f242ae2504cc441e7dfea74}{process\+\_\+init\+\_\+http()}} et lecture database\+\_\+setub.\+db
\item appel signal\+\_\+supervision\+\_\+init\+\_\+http() 
\begin{DoxyParams}{Parameters}
{\em serveur} & \\
\hline
{\em https} & \\
\hline
{\em http} & \\
\hline
{\em service} & \\
\hline
{\em user} & \\
\hline
{\em password} & \\
\hline
{\em timeout} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{973 \{}
\DoxyCodeLine{974     log4cpp-\/>debug(\textcolor{stringliteral}{"process set\_http"});}
\DoxyCodeLine{975     \textcolor{keywordflow}{if} (serveur==\textcolor{stringliteral}{"init"}) \{\mbox{\hyperlink{class_process__qobject_a2a9b4c176f242ae2504cc441e7dfea74}{process\_init\_http}}();\textcolor{keywordflow}{return};\}}
\DoxyCodeLine{976 }
\DoxyCodeLine{977     QSqlDatabase db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"supervision\_setup"});}
\DoxyCodeLine{978     db.setDatabaseName(\textcolor{stringliteral}{"/var/x7/etc/database\_setup.db"});}
\DoxyCodeLine{979 }
\DoxyCodeLine{980     \textcolor{keywordflow}{if} (timeout.toInt() <2 ) timeout=\textcolor{stringliteral}{"2"};}
\DoxyCodeLine{981 }
\DoxyCodeLine{982     \textcolor{keywordflow}{if} (supervision\_thread.supervision.http\_server.compare(serveur) || supervision\_thread.supervision.http\_port\_https.compare(https) ||}
\DoxyCodeLine{983             supervision\_thread.supervision.http\_port\_http.compare(http) || supervision\_thread.supervision.http\_service.compare(service) ||}
\DoxyCodeLine{984             supervision\_thread.supervision.http\_user.compare(user) || supervision\_thread.supervision.http\_password.compare(password) || supervision\_thread.supervision.http\_timeout.compare(timeout))}
\DoxyCodeLine{985     \{}
\DoxyCodeLine{986         \textcolor{keywordflow}{if} (db.open())}
\DoxyCodeLine{987         \{}
\DoxyCodeLine{988             log4cpp-\/>debug(\textcolor{stringliteral}{"Recreation enregistrement http"});}
\DoxyCodeLine{989             QSqlQuery query(db);}
\DoxyCodeLine{990             query.exec(QString(\textcolor{stringliteral}{"DELETE from http"}));}
\DoxyCodeLine{991             query.clear();}
\DoxyCodeLine{992             query.finish();}
\DoxyCodeLine{993             db.commit();}
\DoxyCodeLine{994             query.prepare(\textcolor{stringliteral}{"INSERT INTO http (serveur, 'port https', 'port http', user, password, service, timeout)"} \textcolor{stringliteral}{"VALUES (:serveur, :https, :http, :user, :password, :service, :timeout);"});}
\DoxyCodeLine{995             query.bindValue(\textcolor{stringliteral}{":serveur"}, serveur);}
\DoxyCodeLine{996             query.bindValue(\textcolor{stringliteral}{":https"}, https);}
\DoxyCodeLine{997             query.bindValue(\textcolor{stringliteral}{":http"}, http);}
\DoxyCodeLine{998             query.bindValue(\textcolor{stringliteral}{":user"}, user);}
\DoxyCodeLine{999             query.bindValue(\textcolor{stringliteral}{":password"}, password);}
\DoxyCodeLine{1000             query.bindValue(\textcolor{stringliteral}{":service"}, service);}
\DoxyCodeLine{1001             query.bindValue(\textcolor{stringliteral}{":timeout"}, timeout);}
\DoxyCodeLine{1002             query.exec();}
\DoxyCodeLine{1003             query.finish();}
\DoxyCodeLine{1004             db.commit();}
\DoxyCodeLine{1005             db.close();}
\DoxyCodeLine{1006 }
\DoxyCodeLine{1007             \textcolor{comment}{//FIXME set les variables dans l'objet  supervision;}}
\DoxyCodeLine{1008             supervision\_thread.supervision.http\_server = serveur;}
\DoxyCodeLine{1009             supervision\_thread.supervision.http\_port\_https = https;}
\DoxyCodeLine{1010             supervision\_thread.supervision.http\_port\_http =http;}
\DoxyCodeLine{1011             supervision\_thread.supervision.http\_service = service;}
\DoxyCodeLine{1012             supervision\_thread.supervision.http\_user = user;}
\DoxyCodeLine{1013             supervision\_thread.supervision.http\_password = password;}
\DoxyCodeLine{1014             supervision\_thread.supervision.http\_timeout = timeout;}
\DoxyCodeLine{1015         \}}
\DoxyCodeLine{1016 }
\DoxyCodeLine{1017         \textcolor{comment}{//            log4cpp-\/>debug(" RESTART SUPERVISION");}}
\DoxyCodeLine{1018         signal\_supervision\_init\_http(); \textcolor{comment}{//Connexion serveur http/https (chronotime) et suppression logo alerte\_http si pas d'erreur}}
\DoxyCodeLine{1019         signal\_supervision\_http\_status(1);}
\DoxyCodeLine{1020     \}}
\DoxyCodeLine{1021 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a70a9f0f9e96a1252c26d4b25846dec00}\label{class_process__qobject_a70a9f0f9e96a1252c26d4b25846dec00}} 
\index{Process\_qobject@{Process\_qobject}!process\_set\_lecteur\_badge@{process\_set\_lecteur\_badge}}
\index{process\_set\_lecteur\_badge@{process\_set\_lecteur\_badge}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_set\_lecteur\_badge}{process\_set\_lecteur\_badge}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+set\+\_\+lecteur\+\_\+badge (\begin{DoxyParamCaption}\item[{Q\+String}]{lecteur,  }\item[{Q\+String}]{option,  }\item[{Q\+String}]{masque,  }\item[{Q\+String}]{format }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a70a9f0f9e96a1252c26d4b25846dec00}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+lecteur\+\_\+badge}}. 


\begin{DoxyItemize}
\item Methode qui fait l\textquotesingle{}initialisation du lecteur
\item appel \mbox{\hyperlink{class_process__qobject_a7310b33e803b2ec8f1d70e5057e25a8a}{process\+\_\+init\+\_\+lecteur\+\_\+badge()}} à l\textquotesingle{}init
\item appel signal\+\_\+\+X7\+Gest\+Lecteur\+\_\+init\+Lecteur() 
\begin{DoxyParams}{Parameters}
{\em lecteur} & \\
\hline
{\em option} & \\
\hline
{\em masque} & \\
\hline
{\em format} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{466 \{}
\DoxyCodeLine{467     log4cpp-\/>debug(\textcolor{stringliteral}{"process set\_lecteur\_badge"});}
\DoxyCodeLine{468     \textcolor{comment}{// HA HA HA je suis mort de rire la chaine "init" est envoyé par l'UI apres un timer pour s'initialiser.}}
\DoxyCodeLine{469     \textcolor{comment}{//FIXME OR DIE}}
\DoxyCodeLine{470     \textcolor{comment}{//TODO migrer cette methode dans x7gestconfig}}
\DoxyCodeLine{471     \textcolor{keywordflow}{if} (lecteur==\textcolor{stringliteral}{"init"}) \{\mbox{\hyperlink{class_process__qobject_a7310b33e803b2ec8f1d70e5057e25a8a}{process\_init\_lecteur\_badge}}();\textcolor{keywordflow}{return};\}}
\DoxyCodeLine{472 }
\DoxyCodeLine{473     \textcolor{comment}{//à l'init, valeur lecteur recupéré dans database\_setup.db (=0 par défaut)}}
\DoxyCodeLine{474     QSqlDatabase db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"badge\_setup"});}
\DoxyCodeLine{475     db.setDatabaseName(\textcolor{stringliteral}{"/var/x7/etc/database\_setup.db"});}
\DoxyCodeLine{476 }
\DoxyCodeLine{477     \textcolor{keywordflow}{if} (badge\_thread.badge.lecteur.compare(lecteur) || badge\_thread.badge.option.compare(option) ||}
\DoxyCodeLine{478             badge\_thread.badge.masque.compare(masque) || badge\_thread.badge.format.compare(format))}
\DoxyCodeLine{479     \{}
\DoxyCodeLine{480         \textcolor{keywordflow}{if} (db.open())}
\DoxyCodeLine{481         \{}
\DoxyCodeLine{482             log4cpp-\/>debug(\textcolor{stringliteral}{"Recreation enregistrement badge"});}
\DoxyCodeLine{483             QSqlQuery query(db);}
\DoxyCodeLine{484             query.exec(QString(\textcolor{stringliteral}{"DELETE from badge"}));}
\DoxyCodeLine{485             query.clear();}
\DoxyCodeLine{486             query.finish();}
\DoxyCodeLine{487             db.commit();}
\DoxyCodeLine{488             query.prepare(\textcolor{stringliteral}{"INSERT INTO badge (lecteur, option, masque, format)"} \textcolor{stringliteral}{"VALUES (:lecteur, :option, :masque, :format);"});}
\DoxyCodeLine{489             query.bindValue(\textcolor{stringliteral}{":lecteur"}, lecteur);}
\DoxyCodeLine{490             query.bindValue(\textcolor{stringliteral}{":option"}, option);}
\DoxyCodeLine{491             query.bindValue(\textcolor{stringliteral}{":masque"}, masque);}
\DoxyCodeLine{492             query.bindValue(\textcolor{stringliteral}{":format"}, format);}
\DoxyCodeLine{493             query.exec();}
\DoxyCodeLine{494             query.clear();}
\DoxyCodeLine{495             query.finish();}
\DoxyCodeLine{496             db.commit();}
\DoxyCodeLine{497             db.close();}
\DoxyCodeLine{498             \textcolor{comment}{//appel X7GestLecteur function initLecteur}}
\DoxyCodeLine{499             signal\_X7GestLecteur\_initLecteur();}
\DoxyCodeLine{500 }
\DoxyCodeLine{501         \}}
\DoxyCodeLine{502     \}}
\DoxyCodeLine{503 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a78f97513cf8f753e78658547bf52266a}\label{class_process__qobject_a78f97513cf8f753e78658547bf52266a}} 
\index{Process\_qobject@{Process\_qobject}!process\_set\_mode\_network@{process\_set\_mode\_network}}
\index{process\_set\_mode\_network@{process\_set\_mode\_network}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_set\_mode\_network}{process\_set\_mode\_network}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+set\+\_\+mode\+\_\+network (\begin{DoxyParamCaption}\item[{int}]{mode,  }\item[{Q\+String}]{nom,  }\item[{Q\+String}]{ip,  }\item[{Q\+String}]{netmask,  }\item[{Q\+String}]{gateway,  }\item[{Q\+String}]{dns1,  }\item[{Q\+String}]{dns2 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a78f97513cf8f753e78658547bf52266a}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+mode\+\_\+network}} 


\begin{DoxyItemize}
\item appel \mbox{\hyperlink{class_process__qobject_a2b7806cc8e2b06f4bea2c9e4325a4381}{process\+\_\+init\+\_\+mode\+\_\+network()}}
\item appel \mbox{\hyperlink{class_process__qobject_a24c2a63cbcbe83ec687019795bec0ad1}{process\+\_\+init\+\_\+divers()}} 
\begin{DoxyParams}{Parameters}
{\em mode} & \\
\hline
{\em nom} & \\
\hline
{\em ip} & \\
\hline
{\em netmask} & \\
\hline
{\em gateway} & \\
\hline
{\em dns1} & \\
\hline
{\em dns2} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}en statique
\begin{DoxyCode}{0}
\DoxyCodeLine{745 \{}
\DoxyCodeLine{746     log4cpp-\/>debug(\textcolor{stringliteral}{"FIXME set\_mode\_network"});}
\DoxyCodeLine{747     \textcolor{comment}{//mode -\/1 init, 0 dhcp, 1 ipfix}}
\DoxyCodeLine{748     \textcolor{keywordflow}{return};}
\DoxyCodeLine{749 }
\DoxyCodeLine{750     \textcolor{keywordflow}{if} (mode <0) \{ \mbox{\hyperlink{class_process__qobject_a2b7806cc8e2b06f4bea2c9e4325a4381}{process\_init\_mode\_network}}();\textcolor{keywordflow}{return};\}}
\DoxyCodeLine{751 }
\DoxyCodeLine{752     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{753     QString a,b;}
\DoxyCodeLine{754 }
\DoxyCodeLine{755 }
\DoxyCodeLine{756     \textcolor{keywordflow}{if} (!nom.isEmpty())}
\DoxyCodeLine{757     \{}
\DoxyCodeLine{758         \textcolor{comment}{// -\/-\/-\/ Initialisation du hostname (fichier /etc/hostname + commande)}}
\DoxyCodeLine{759         QFile out(\textcolor{stringliteral}{"/etc/hostname"});}
\DoxyCodeLine{760         \textcolor{keywordflow}{if} (out.open( QFile::WriteOnly))}
\DoxyCodeLine{761         \{}
\DoxyCodeLine{762             QTextStream stream\_out(\&out);}
\DoxyCodeLine{763             stream\_out << nom;}
\DoxyCodeLine{764             stream\_out.flush();}
\DoxyCodeLine{765             out.close();}
\DoxyCodeLine{766         \}}
\DoxyCodeLine{767         QProcess *qProc2 = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{768         qProc2-\/>start(\textcolor{stringliteral}{"hostname -\/F /etc/hostname"});}
\DoxyCodeLine{769         qProc2-\/>waitForReadyRead();}
\DoxyCodeLine{770         qProc2-\/>readAll();}
\DoxyCodeLine{771         qProc2-\/>close();}
\DoxyCodeLine{772         qProc2-\/>deleteLater();}
\DoxyCodeLine{773         \textcolor{comment}{// -\/-\/-\/ verification -\/-\/-\/}}
\DoxyCodeLine{774         QProcess *qProc3 = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{775         qProc3-\/>start(\textcolor{stringliteral}{"hostname"});}
\DoxyCodeLine{776         qProc3-\/>waitForReadyRead();}
\DoxyCodeLine{777         QByteArray x=qProc3-\/>readAll();}
\DoxyCodeLine{778         QString time2bii\_name=QString::fromLatin1(x.data());}
\DoxyCodeLine{779         supervision\_thread.supervision.time2bii\_name=time2bii\_name.rightJustified((time2bii\_name.length())-\/1,\textcolor{charliteral}{'\(\backslash\)0'},\textcolor{keyword}{true});}
\DoxyCodeLine{780         qProc3-\/>close();}
\DoxyCodeLine{781         qProc3-\/>deleteLater();}
\DoxyCodeLine{782 }
\DoxyCodeLine{783         QFile in(\textcolor{stringliteral}{"../etc/interfaces.dhcpinit"});}
\DoxyCodeLine{784         out.setFileName(\textcolor{stringliteral}{"../etc/interfaces.dhcp"});}
\DoxyCodeLine{785         \textcolor{keywordflow}{if} (in.open( QFile::ReadOnly))}
\DoxyCodeLine{786         \{}
\DoxyCodeLine{787             QTextStream stream\_in(\&in);}
\DoxyCodeLine{788             QTextStream stream\_out(\&out);}
\DoxyCodeLine{789             QString s=stream\_in.readAll();}
\DoxyCodeLine{790             a=QString(\textcolor{stringliteral}{"hostname \%1"}).arg(nom);}
\DoxyCodeLine{791             s.replace(\textcolor{stringliteral}{"hostname"},a);}
\DoxyCodeLine{792             out.open( QFile::WriteOnly);}
\DoxyCodeLine{793             stream\_out << s;}
\DoxyCodeLine{794             stream\_out.flush();}
\DoxyCodeLine{795             in.close();}
\DoxyCodeLine{796             out.close();}
\DoxyCodeLine{797         \}}
\DoxyCodeLine{798     \}}
\DoxyCodeLine{799 }
\DoxyCodeLine{800 }
\DoxyCodeLine{801     \textcolor{keywordflow}{if}(!mode)}
\DoxyCodeLine{802     \{}
\DoxyCodeLine{803         b= QString(\textcolor{stringliteral}{"chmod 666 /etc/network/if-\/up.d/udhcp"});}
\DoxyCodeLine{804         qProc-\/>start(b);}
\DoxyCodeLine{805         qProc-\/>waitForReadyRead();}
\DoxyCodeLine{806         qProc-\/>readAll();}
\DoxyCodeLine{807         b= QString(\textcolor{stringliteral}{"chmod 666 /etc/network/if-\/up.d/wnameserver"});}
\DoxyCodeLine{808         qProc-\/>start(b);}
\DoxyCodeLine{809         qProc-\/>waitForReadyRead();}
\DoxyCodeLine{810         qProc-\/>readAll();}
\DoxyCodeLine{811         b= QString(\textcolor{stringliteral}{"cp ../etc/interfaces.dhcp /etc/network/interfaces"});}
\DoxyCodeLine{812         qProc-\/>start(b);}
\DoxyCodeLine{813         qProc-\/>waitForReadyRead();}
\DoxyCodeLine{814         qProc-\/>readAll();}
\DoxyCodeLine{815         b= QString(\textcolor{stringliteral}{"sync"});}
\DoxyCodeLine{816         qProc-\/>start(b);}
\DoxyCodeLine{817         qProc-\/>waitForReadyRead();}
\DoxyCodeLine{818         qProc-\/>readAll();}
\DoxyCodeLine{819 }
\DoxyCodeLine{820         \textcolor{comment}{// a= QString("./dhcpon 1");/// en dhcp}}
\DoxyCodeLine{821     \}}
\DoxyCodeLine{822     \textcolor{keywordflow}{else} }
\DoxyCodeLine{823     \{}
\DoxyCodeLine{824         \textcolor{comment}{// -\/-\/-\/ verifier format @ IP}}
\DoxyCodeLine{825         \textcolor{keywordflow}{if} (ip.count(QRegExp(\textcolor{stringliteral}{"[0-\/9]\{1,1\}[.][0-\/9]\{1,1\}"}))!=3 || ip.section(\textcolor{charliteral}{'.'},0,0).length() >3 ||  ip.section(\textcolor{charliteral}{'.'},1,1).length() >3}
\DoxyCodeLine{826                 ||  ip.section(\textcolor{charliteral}{'.'},2,2).length() >3  || ip.section(\textcolor{charliteral}{'.'},3,3).length() >3)}
\DoxyCodeLine{827             ip=\textcolor{stringliteral}{"192.168.1.2"};}
\DoxyCodeLine{828 }
\DoxyCodeLine{829         \textcolor{keywordflow}{if} (netmask.count(QRegExp(\textcolor{stringliteral}{"[0-\/9]\{1,1\}[.][0-\/9]\{1,1\}"}))!=3 || netmask.section(\textcolor{charliteral}{'.'},0,0).length() >3 ||  netmask.section(\textcolor{charliteral}{'.'},1,1).length() >3}
\DoxyCodeLine{830                 ||  netmask.section(\textcolor{charliteral}{'.'},2,2).length() >3  || netmask.section(\textcolor{charliteral}{'.'},3,3).length() >3) netmask=\textcolor{stringliteral}{"255.255.255.0"};}
\DoxyCodeLine{831 }
\DoxyCodeLine{832         \textcolor{keywordflow}{if} (!gateway.isEmpty() \&\& (gateway.count(QRegExp(\textcolor{stringliteral}{"[0-\/9]\{1,1\}[.][0-\/9]\{1,1\}"})) !=3 || gateway.section(\textcolor{charliteral}{'.'},0,0).length() >3 ||  gateway.section(\textcolor{charliteral}{'.'},1,1).length() >3}
\DoxyCodeLine{833                                    ||  gateway.section(\textcolor{charliteral}{'.'},2,2).length() >3  || gateway.section(\textcolor{charliteral}{'.'},3,3).length() >3)) gateway.clear();}
\DoxyCodeLine{834 }
\DoxyCodeLine{835         \textcolor{keywordflow}{if} (!dns1.isEmpty() \&\& (dns1.count(QRegExp(\textcolor{stringliteral}{"[0-\/9]\{1,1\}[.][0-\/9]\{1,1\}"})) !=3 || dns1.section(\textcolor{charliteral}{'.'},0,0).length() >3 ||  dns1.section(\textcolor{charliteral}{'.'},1,1).length() >3}
\DoxyCodeLine{836                                 ||  dns1.section(\textcolor{charliteral}{'.'},2,2).length() >3  || dns1.section(\textcolor{charliteral}{'.'},3,3).length() >3)) dns1.clear();}
\DoxyCodeLine{837 }
\DoxyCodeLine{838         \textcolor{keywordflow}{if} (!dns2.isEmpty() \&\& (dns2.count(QRegExp(\textcolor{stringliteral}{"[0-\/9]\{1,1\}[.][0-\/9]\{1,1\}"})) !=3 || dns2.section(\textcolor{charliteral}{'.'},0,0).length() >3 ||  dns2.section(\textcolor{charliteral}{'.'},1,1).length() >3}
\DoxyCodeLine{839                                 ||  dns2.section(\textcolor{charliteral}{'.'},2,2).length() >3  || dns2.section(\textcolor{charliteral}{'.'},3,3).length() >3)) dns2.clear();}
\DoxyCodeLine{840 }
\DoxyCodeLine{841         QFile in(\textcolor{stringliteral}{"../etc/interfaces.cfg"});}
\DoxyCodeLine{842         QFile out(\textcolor{stringliteral}{"/etc/network/interfaces"});}
\DoxyCodeLine{843         \textcolor{keywordflow}{if} (in.open( QFile::ReadOnly))}
\DoxyCodeLine{844         \{}
\DoxyCodeLine{845             b= QString(\textcolor{stringliteral}{"chmod 666 /etc/network/if-\/up.d/udhcp"});}
\DoxyCodeLine{846             qProc-\/>start(b);}
\DoxyCodeLine{847             qProc-\/>waitForReadyRead();}
\DoxyCodeLine{848             qProc-\/>readAll();}
\DoxyCodeLine{849             b= QString(\textcolor{stringliteral}{"chmod 777 /etc/network/if-\/up.d/wnameserver"});}
\DoxyCodeLine{850             qProc-\/>start(b);}
\DoxyCodeLine{851             qProc-\/>waitForReadyRead();}
\DoxyCodeLine{852             qProc-\/>readAll();}
\DoxyCodeLine{853             QTextStream stream\_in(\&in);}
\DoxyCodeLine{854             QTextStream stream\_out(\&out);}
\DoxyCodeLine{855             QString s=stream\_in.readAll();}
\DoxyCodeLine{856             a=QString(\textcolor{stringliteral}{"address \%1"}).arg(ip);}
\DoxyCodeLine{857             s.replace(\textcolor{stringliteral}{"address"},a);}
\DoxyCodeLine{858             a=QString(\textcolor{stringliteral}{"netmask \%1"}).arg(netmask);}
\DoxyCodeLine{859             s.replace(\textcolor{stringliteral}{"netmask"},a);}
\DoxyCodeLine{860             a=QString(\textcolor{stringliteral}{"gateway \%1"}).arg(gateway);}
\DoxyCodeLine{861             \textcolor{keywordflow}{if} (gateway.isEmpty()) s.replace(\textcolor{stringliteral}{"gateway"},\textcolor{stringliteral}{""});}
\DoxyCodeLine{862             \textcolor{keywordflow}{else} s.replace(\textcolor{stringliteral}{"gateway"},a);}
\DoxyCodeLine{863             out.open( QFile::WriteOnly);}
\DoxyCodeLine{864             stream\_out << s;}
\DoxyCodeLine{865             stream\_out.flush();}
\DoxyCodeLine{866             in.close();}
\DoxyCodeLine{867             out.close();}
\DoxyCodeLine{868         \}}
\DoxyCodeLine{869 }
\DoxyCodeLine{870         \textcolor{keywordflow}{if} (!dns1.isEmpty() || !dns2.isEmpty())}
\DoxyCodeLine{871         \{    \mbox{\hyperlink{class_process__qobject_a24c2a63cbcbe83ec687019795bec0ad1}{process\_init\_divers}}();}
\DoxyCodeLine{872 }
\DoxyCodeLine{873             QFile outdns(\textcolor{stringliteral}{"/etc/resolv.conf"});}
\DoxyCodeLine{874             QTextStream stream\_out(\&outdns);}
\DoxyCodeLine{875             a.clear();}
\DoxyCodeLine{876             \textcolor{keywordflow}{if} (!dns1.isEmpty()) a.append(\textcolor{stringliteral}{"nameserver "}+dns1+\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{877             \textcolor{keywordflow}{if} (!dns2.isEmpty()) a.append(\textcolor{stringliteral}{"nameserver "}+dns2+\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{878             outdns.open( QFile::WriteOnly);}
\DoxyCodeLine{879             stream\_out << a;}
\DoxyCodeLine{880             stream\_out.flush();}
\DoxyCodeLine{881             outdns.close();}
\DoxyCodeLine{882         \}}
\DoxyCodeLine{883 }
\DoxyCodeLine{884     \}}
\DoxyCodeLine{885     b= QString(\textcolor{stringliteral}{"ip route del"});}
\DoxyCodeLine{886     qProc-\/>start(b);}
\DoxyCodeLine{887     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{888     qProc-\/>readAll();}
\DoxyCodeLine{889     b= QString(\textcolor{stringliteral}{"/etc/init.d/networking restart"});}
\DoxyCodeLine{890     qProc-\/>start(b);}
\DoxyCodeLine{891     QTest::qWait(1000);}
\DoxyCodeLine{892     \textcolor{keywordflow}{while} ( qProc-\/>state()==QProcess::Running) QTest::qWait(100);}
\DoxyCodeLine{893     qProc-\/>close();}
\DoxyCodeLine{894     qProc-\/>deleteLater();}
\DoxyCodeLine{895 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a81a5a71a52930dd74be30ced7b34e08e}\label{class_process__qobject_a81a5a71a52930dd74be30ced7b34e08e}} 
\index{Process\_qobject@{Process\_qobject}!process\_set\_network@{process\_set\_network}}
\index{process\_set\_network@{process\_set\_network}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_set\_network}{process\_set\_network}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+set\+\_\+network (\begin{DoxyParamCaption}\item[{Q\+String}]{interface,  }\item[{Q\+String}]{ip,  }\item[{Q\+String}]{netmask,  }\item[{Q\+String}]{gateway }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a81a5a71a52930dd74be30ced7b34e08e}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+network}} 


\begin{DoxyItemize}
\item appel \mbox{\hyperlink{class_process__qobject_a2b7806cc8e2b06f4bea2c9e4325a4381}{process\+\_\+init\+\_\+mode\+\_\+network()}} 
\begin{DoxyParams}{Parameters}
{\em interface} & \\
\hline
{\em ip} & \\
\hline
{\em netmask} & \\
\hline
{\em gateway} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}en statique
\begin{DoxyCode}{0}
\DoxyCodeLine{649 \{}
\DoxyCodeLine{650     log4cpp-\/>debug(\textcolor{stringliteral}{"set\_network"});}
\DoxyCodeLine{651     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{652     QString a,b;}
\DoxyCodeLine{653 }
\DoxyCodeLine{654     \textcolor{comment}{//fixme}}
\DoxyCodeLine{655     \textcolor{keywordflow}{return};}
\DoxyCodeLine{656 }
\DoxyCodeLine{657     \textcolor{keywordflow}{if}(interface.contains(\textcolor{stringliteral}{"DHCP"}) || interface.contains(\textcolor{stringliteral}{"dhcp"})}
\DoxyCodeLine{658             || ip.isEmpty() || ip.count(QRegExp(\textcolor{stringliteral}{"[0-\/9]\{1,1\}[.][0-\/9]\{1,1\}"}))!=3 || ip.section(\textcolor{charliteral}{'.'},0,0).length() >3 ||  ip.section(\textcolor{charliteral}{'.'},1,1).length() >3}
\DoxyCodeLine{659             ||  ip.section(\textcolor{charliteral}{'.'},2,2).length() >3  || ip.section(\textcolor{charliteral}{'.'},3,3).length() >3}
\DoxyCodeLine{660             || netmask.isEmpty() || netmask.count(QRegExp(\textcolor{stringliteral}{"[0-\/9]\{1,1\}[.][0-\/9]\{1,1\}"}))!=3 || netmask.section(\textcolor{charliteral}{'.'},0,0).length() >3 ||  netmask.section(\textcolor{charliteral}{'.'},1,1).length() >3}
\DoxyCodeLine{661             ||  netmask.section(\textcolor{charliteral}{'.'},2,2).length() >3  || netmask.section(\textcolor{charliteral}{'.'},3,3).length() >3}
\DoxyCodeLine{662             || (!gateway.isEmpty() \&\& (gateway.count(QRegExp(\textcolor{stringliteral}{"[0-\/9]\{1,1\}[.][0-\/9]\{1,1\}"})) !=3 || gateway.section(\textcolor{charliteral}{'.'},0,0).length() >3 ||  gateway.section(\textcolor{charliteral}{'.'},1,1).length() >3}
\DoxyCodeLine{663                                        ||  gateway.section(\textcolor{charliteral}{'.'},2,2).length() >3  || gateway.section(\textcolor{charliteral}{'.'},3,3).length() >3)))}
\DoxyCodeLine{664     \{}
\DoxyCodeLine{665         b= QString(\textcolor{stringliteral}{"chmod 666 /etc/network/if-\/up.d/udhcp"});}
\DoxyCodeLine{666         qProc-\/>start(b);}
\DoxyCodeLine{667         qProc-\/>waitForReadyRead();}
\DoxyCodeLine{668         qProc-\/>readAll();}
\DoxyCodeLine{669         b= QString(\textcolor{stringliteral}{"chmod 666 /etc/network/if-\/up.d/wnameserver"});}
\DoxyCodeLine{670         qProc-\/>start(b);}
\DoxyCodeLine{671         qProc-\/>waitForReadyRead();}
\DoxyCodeLine{672         qProc-\/>readAll();}
\DoxyCodeLine{673         b= QString(\textcolor{stringliteral}{"cp ../etc/interfaces.dhcp /etc/network/interfaces"});}
\DoxyCodeLine{674         qProc-\/>start(b);}
\DoxyCodeLine{675         qProc-\/>waitForReadyRead();}
\DoxyCodeLine{676         qProc-\/>readAll();}
\DoxyCodeLine{677         b= QString(\textcolor{stringliteral}{"sync"});}
\DoxyCodeLine{678         qProc-\/>start(b);}
\DoxyCodeLine{679         qProc-\/>waitForReadyRead();}
\DoxyCodeLine{680         qProc-\/>readAll();}
\DoxyCodeLine{681         \textcolor{comment}{// a= QString("./dhcpon 1");/// en dhcp}}
\DoxyCodeLine{682     \}}
\DoxyCodeLine{683     \textcolor{keywordflow}{else} }
\DoxyCodeLine{684     \{}
\DoxyCodeLine{685 }
\DoxyCodeLine{686         QFile in(\textcolor{stringliteral}{"../etc/interfaces.cfg"});}
\DoxyCodeLine{687         QFile out(\textcolor{stringliteral}{"/etc/network/interfaces"});}
\DoxyCodeLine{688         \textcolor{keywordflow}{if} (in.open( QFile::ReadOnly))}
\DoxyCodeLine{689         \{}
\DoxyCodeLine{690             b= QString(\textcolor{stringliteral}{"chmod 666 /etc/network/if-\/up.d/udhcp"});}
\DoxyCodeLine{691             qProc-\/>start(b);}
\DoxyCodeLine{692             qProc-\/>waitForReadyRead();}
\DoxyCodeLine{693             qProc-\/>readAll();}
\DoxyCodeLine{694             b= QString(\textcolor{stringliteral}{"chmod 777 /etc/network/if-\/up.d/wnameserver"});}
\DoxyCodeLine{695             qProc-\/>start(b);}
\DoxyCodeLine{696             qProc-\/>waitForReadyRead();}
\DoxyCodeLine{697             qProc-\/>readAll();}
\DoxyCodeLine{698             QTextStream stream\_in(\&in);}
\DoxyCodeLine{699             QTextStream stream\_out(\&out);}
\DoxyCodeLine{700             QString s=stream\_in.readAll();}
\DoxyCodeLine{701             a=QString(\textcolor{stringliteral}{"address \%1"}).arg(ip);}
\DoxyCodeLine{702             s.replace(\textcolor{stringliteral}{"address"},a);}
\DoxyCodeLine{703             a=QString(\textcolor{stringliteral}{"netmask \%1"}).arg(netmask);}
\DoxyCodeLine{704             s.replace(\textcolor{stringliteral}{"netmask"},a);}
\DoxyCodeLine{705             a=QString(\textcolor{stringliteral}{"gateway \%1"}).arg(gateway);}
\DoxyCodeLine{706             \textcolor{keywordflow}{if} (gateway.isEmpty()) s.replace(\textcolor{stringliteral}{"gateway"},\textcolor{stringliteral}{""});}
\DoxyCodeLine{707             \textcolor{keywordflow}{else} s.replace(\textcolor{stringliteral}{"gateway"},a);}
\DoxyCodeLine{708             \textcolor{comment}{//            log4cpp-\/>debug("Gateway "+ s);}}
\DoxyCodeLine{709             out.open( QFile::WriteOnly);}
\DoxyCodeLine{710             stream\_out << s;}
\DoxyCodeLine{711             stream\_out.flush();}
\DoxyCodeLine{712             in.close();}
\DoxyCodeLine{713             out.close();}
\DoxyCodeLine{714         \}}
\DoxyCodeLine{715     \}}
\DoxyCodeLine{716     b= QString(\textcolor{stringliteral}{"ip route del"});}
\DoxyCodeLine{717     qProc-\/>start(b);}
\DoxyCodeLine{718     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{719     qProc-\/>readAll();}
\DoxyCodeLine{720     b= QString(\textcolor{stringliteral}{"/etc/init.d/networking restart"});}
\DoxyCodeLine{721     qProc-\/>start(b);}
\DoxyCodeLine{722     QTest::qWait(1000);}
\DoxyCodeLine{723     \textcolor{keywordflow}{while} ( qProc-\/>state()==QProcess::Running) QTest::qWait(100);}
\DoxyCodeLine{724     qProc-\/>close();}
\DoxyCodeLine{725     qProc-\/>deleteLater();}
\DoxyCodeLine{726     \textcolor{comment}{//QTest::qWait(4000);}}
\DoxyCodeLine{727     \mbox{\hyperlink{class_process__qobject_a2b7806cc8e2b06f4bea2c9e4325a4381}{process\_init\_mode\_network}}();}
\DoxyCodeLine{728 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_ac6e1e24f591ebccbc4886c122983e44d}\label{class_process__qobject_ac6e1e24f591ebccbc4886c122983e44d}} 
\index{Process\_qobject@{Process\_qobject}!process\_set\_nom@{process\_set\_nom}}
\index{process\_set\_nom@{process\_set\_nom}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_set\_nom}{process\_set\_nom}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+set\+\_\+nom (\begin{DoxyParamCaption}\item[{Q\+String}]{nom }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



(N\+O\+T\+\_\+\+U\+S\+ED) \mbox{\hyperlink{class_process__qobject_ac6e1e24f591ebccbc4886c122983e44d}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+nom}} 


\begin{DoxyItemize}
\item appel \mbox{\hyperlink{class_process__qobject_a2b7806cc8e2b06f4bea2c9e4325a4381}{process\+\_\+init\+\_\+mode\+\_\+network()}} 
\begin{DoxyParams}{Parameters}
{\em nom} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{554 \{}
\DoxyCodeLine{555     log4cpp-\/>debug(\textcolor{stringliteral}{"set\_nom"});}
\DoxyCodeLine{556     QString image;}
\DoxyCodeLine{557     image.append(nom);}
\DoxyCodeLine{558     \textcolor{comment}{//TODO migrer cette methode dans x7gestconfig}}
\DoxyCodeLine{559     \textcolor{comment}{//fixme}}
\DoxyCodeLine{560     \textcolor{keywordflow}{return};}
\DoxyCodeLine{561     \textcolor{keywordflow}{if} (!nom.isEmpty())}
\DoxyCodeLine{562     \{}
\DoxyCodeLine{563         \textcolor{comment}{// -\/-\/-\/ Initialisation du hostname (fichier /etc/hostname + commande)}}
\DoxyCodeLine{564         \textcolor{keywordflow}{if} (!nom.contains(\textcolor{stringliteral}{"init\_nom"}))}
\DoxyCodeLine{565         \{}
\DoxyCodeLine{566             nom.append(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{567             QFile out(\textcolor{stringliteral}{"/etc/hostname"});}
\DoxyCodeLine{568             \textcolor{keywordflow}{if} (out.open( QFile::WriteOnly))}
\DoxyCodeLine{569             \{}
\DoxyCodeLine{570                 QTextStream stream\_out(\&out);}
\DoxyCodeLine{571                 stream\_out << nom;}
\DoxyCodeLine{572                 stream\_out.flush();}
\DoxyCodeLine{573                 out.close();}
\DoxyCodeLine{574             \}}
\DoxyCodeLine{575         \}}
\DoxyCodeLine{576 }
\DoxyCodeLine{577         QProcess *qProc2 = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{578         qProc2-\/>start(\textcolor{stringliteral}{"hostname -\/F /etc/hostname"});}
\DoxyCodeLine{579         qProc2-\/>waitForReadyRead();}
\DoxyCodeLine{580         qProc2-\/>readAll();}
\DoxyCodeLine{581         qProc2-\/>close();}
\DoxyCodeLine{582         qProc2-\/>deleteLater();}
\DoxyCodeLine{583         \textcolor{comment}{// -\/-\/-\/ verification -\/-\/-\/}}
\DoxyCodeLine{584         QProcess *qProc3 = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{585         qProc3-\/>start(\textcolor{stringliteral}{"hostname"});}
\DoxyCodeLine{586         qProc3-\/>waitForReadyRead();}
\DoxyCodeLine{587         QByteArray x=qProc3-\/>readAll();}
\DoxyCodeLine{588         QString time2bii\_name=QString::fromLatin1(x.data());}
\DoxyCodeLine{589         supervision\_thread.supervision.time2bii\_name=time2bii\_name.rightJustified((time2bii\_name.length())-\/1,\textcolor{charliteral}{'\(\backslash\)0'},\textcolor{keyword}{true});}
\DoxyCodeLine{590         qProc3-\/>close();}
\DoxyCodeLine{591         qProc3-\/>deleteLater();}
\DoxyCodeLine{592 }
\DoxyCodeLine{593         QFile in\_out(\textcolor{stringliteral}{"/etc/network/interfaces"});}
\DoxyCodeLine{594         QFile in(\textcolor{stringliteral}{"../etc/interfaces.dhcpinit"});}
\DoxyCodeLine{595         QFile out(\textcolor{stringliteral}{"../etc/interfaces.dhcp"});}
\DoxyCodeLine{596         \textcolor{keywordflow}{if} (in\_out.open( QFile::ReadWrite))}
\DoxyCodeLine{597         \{}
\DoxyCodeLine{598             QTextStream stream\_in\_out(\&in\_out);}
\DoxyCodeLine{599             QString s=stream\_in\_out.readAll();}
\DoxyCodeLine{600             \textcolor{keywordflow}{if} (s.contains(\textcolor{stringliteral}{"dhcp"}))}
\DoxyCodeLine{601             \{}
\DoxyCodeLine{602                 \textcolor{keywordflow}{if} (in.open( QFile::ReadOnly))}
\DoxyCodeLine{603                 \{}
\DoxyCodeLine{604                     QTextStream stream\_in(\&in);}
\DoxyCodeLine{605                     QTextStream stream\_out(\&out);}
\DoxyCodeLine{606                     s.clear();}
\DoxyCodeLine{607                     s=stream\_in.readAll();}
\DoxyCodeLine{608                     QString a=QString(\textcolor{stringliteral}{"hostname \%1"}).arg(time2bii\_name);}
\DoxyCodeLine{609                     s.replace(\textcolor{stringliteral}{"hostname"},a);}
\DoxyCodeLine{610                     out.open( QFile::WriteOnly);}
\DoxyCodeLine{611                     stream\_out << s;}
\DoxyCodeLine{612                     stream\_out.flush();}
\DoxyCodeLine{613                     stream\_in\_out.seek(0);}
\DoxyCodeLine{614                     stream\_in\_out << s;}
\DoxyCodeLine{615                     stream\_in\_out.flush();}
\DoxyCodeLine{616                     in.close();}
\DoxyCodeLine{617                     out.close();}
\DoxyCodeLine{618                 \}}
\DoxyCodeLine{619                 QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{620                 QString b= QString(\textcolor{stringliteral}{"ip route del"});}
\DoxyCodeLine{621                 qProc-\/>start(b);}
\DoxyCodeLine{622                 qProc-\/>waitForReadyRead();}
\DoxyCodeLine{623                 qProc-\/>readAll();}
\DoxyCodeLine{624                 b= QString(\textcolor{stringliteral}{"/etc/init.d/networking restart"});}
\DoxyCodeLine{625                 qProc-\/>start(b);}
\DoxyCodeLine{626                 QTest::qWait(1000);}
\DoxyCodeLine{627                 \textcolor{keywordflow}{while} ( qProc-\/>state()==QProcess::Running) QTest::qWait(100);}
\DoxyCodeLine{628                 qProc-\/>close();}
\DoxyCodeLine{629                 qProc-\/>deleteLater();}
\DoxyCodeLine{630                 \textcolor{comment}{//QTest::qWait(4000);}}
\DoxyCodeLine{631                 \textcolor{keywordflow}{if} (!image.contains(\textcolor{stringliteral}{"init\_nom"})) \mbox{\hyperlink{class_process__qobject_a2b7806cc8e2b06f4bea2c9e4325a4381}{process\_init\_mode\_network}}();}
\DoxyCodeLine{632             \}}
\DoxyCodeLine{633             in\_out.close();}
\DoxyCodeLine{634         \}}
\DoxyCodeLine{635     \}}
\DoxyCodeLine{636 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a25b892e48ab9c60a3fb62f0621913d5d}\label{class_process__qobject_a25b892e48ab9c60a3fb62f0621913d5d}} 
\index{Process\_qobject@{Process\_qobject}!process\_set\_ntp@{process\_set\_ntp}}
\index{process\_set\_ntp@{process\_set\_ntp}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_set\_ntp}{process\_set\_ntp}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+set\+\_\+ntp (\begin{DoxyParamCaption}\item[{Q\+String}]{serveur,  }\item[{Q\+String}]{cadence,  }\item[{Q\+String}]{timezone,  }\item[{Q\+String}]{langue }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a25b892e48ab9c60a3fb62f0621913d5d}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+ntp}}. 


\begin{DoxyItemize}
\item appel \mbox{\hyperlink{class_process__qobject_abad0c73191ac1ec710c0eba8c05fd002}{process\+\_\+init\+\_\+ntp()}} et lecture database\+\_\+setup.\+db
\item appel \mbox{\hyperlink{class_process__qobject_a6541b86edebb5277bf105a719790b409}{priv\+\_\+set\+\_\+timezone\+\_\+langue()}} 
\begin{DoxyParams}{Parameters}
{\em serveur} & \\
\hline
{\em cadence} & \\
\hline
{\em timezone} & \\
\hline
{\em langue} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1089 \{}
\DoxyCodeLine{1090     log4cpp-\/>debug(\textcolor{stringliteral}{"process set\_ntp"});}
\DoxyCodeLine{1091     \textcolor{keywordflow}{if} (serveur==\textcolor{stringliteral}{"init"}) \{\mbox{\hyperlink{class_process__qobject_abad0c73191ac1ec710c0eba8c05fd002}{process\_init\_ntp}}();\textcolor{keywordflow}{return};\}}
\DoxyCodeLine{1092     QString serveur\_base;QString cadence\_base;QString timezone\_base;QString langue\_base;}
\DoxyCodeLine{1093 }
\DoxyCodeLine{1094     QSqlDatabase db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"ntp\_setup"});}
\DoxyCodeLine{1095     db.setDatabaseName(\textcolor{stringliteral}{"/var/x7/etc/database\_setup.db"});}
\DoxyCodeLine{1096 }
\DoxyCodeLine{1097 }
\DoxyCodeLine{1098     \textcolor{keywordflow}{if} (db.open())}
\DoxyCodeLine{1099     \{}
\DoxyCodeLine{1100         log4cpp-\/>debug(\textcolor{stringliteral}{"Lecture table ntp(set)"});}
\DoxyCodeLine{1101         QSqlQueryModel model;}
\DoxyCodeLine{1102         model.setQuery(\textcolor{stringliteral}{"SELECT * FROM ntp"},db);}
\DoxyCodeLine{1103 }
\DoxyCodeLine{1104         \textcolor{keywordflow}{if} (model.rowCount())}
\DoxyCodeLine{1105         \{}
\DoxyCodeLine{1106             serveur\_base=model.record(0).value(\textcolor{stringliteral}{"serveur"}).toString();}
\DoxyCodeLine{1107             cadence\_base=model.record(0).value(\textcolor{stringliteral}{"cadence"}).toString();}
\DoxyCodeLine{1108             timezone\_base=model.record(0).value(\textcolor{stringliteral}{"timezone"}).toString();}
\DoxyCodeLine{1109             langue\_base=model.record(0).value(\textcolor{stringliteral}{"langue"}).toString();}
\DoxyCodeLine{1110         \}}
\DoxyCodeLine{1111         model.clear();}
\DoxyCodeLine{1112         model.deleteLater();}
\DoxyCodeLine{1113         db.close();}
\DoxyCodeLine{1114     \}}
\DoxyCodeLine{1115 }
\DoxyCodeLine{1116     \textcolor{keywordflow}{if}(serveur\_base.compare(serveur) || cadence\_base.compare(cadence) || timezone\_base.compare(timezone) || langue\_base.compare(langue))}
\DoxyCodeLine{1117     \{}
\DoxyCodeLine{1118         log4cpp-\/>debug(\textcolor{stringliteral}{"Lecture table ntp(set)"});}
\DoxyCodeLine{1119         \textcolor{keywordflow}{if} (db.open())}
\DoxyCodeLine{1120         \{}
\DoxyCodeLine{1121             log4cpp-\/>debug(\textcolor{stringliteral}{"Recreation enregistrement ntp"});}
\DoxyCodeLine{1122             QSqlQuery query(db);}
\DoxyCodeLine{1123             query.exec(QString(\textcolor{stringliteral}{"DELETE from ntp"}));}
\DoxyCodeLine{1124             query.clear();}
\DoxyCodeLine{1125             query.finish();}
\DoxyCodeLine{1126             db.commit();}
\DoxyCodeLine{1127             query.prepare(\textcolor{stringliteral}{"INSERT INTO ntp (serveur, cadence, timezone, langue)"} \textcolor{stringliteral}{"VALUES (:serveur, :cadence, :timezone, :langue);"});}
\DoxyCodeLine{1128             query.bindValue(\textcolor{stringliteral}{":serveur"}, serveur);}
\DoxyCodeLine{1129             query.bindValue(\textcolor{stringliteral}{":cadence"}, cadence);}
\DoxyCodeLine{1130             query.bindValue(\textcolor{stringliteral}{":timezone"}, timezone);}
\DoxyCodeLine{1131             query.bindValue(\textcolor{stringliteral}{":langue"}, langue);}
\DoxyCodeLine{1132             query.exec();}
\DoxyCodeLine{1133             query.finish();}
\DoxyCodeLine{1134             db.commit();}
\DoxyCodeLine{1135             db.close();}
\DoxyCodeLine{1136             \textcolor{comment}{/* appel private priv\_set\_timezone\_langue */}}
\DoxyCodeLine{1137             \mbox{\hyperlink{class_process__qobject_a6541b86edebb5277bf105a719790b409}{priv\_set\_timezone\_langue}}(0,timezone,langue);}
\DoxyCodeLine{1138         \}}
\DoxyCodeLine{1139 }
\DoxyCodeLine{1140     \}}
\DoxyCodeLine{1141 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_ace6bc86616ebce6fcc266803c3e6e39e}\label{class_process__qobject_ace6bc86616ebce6fcc266803c3e6e39e}} 
\index{Process\_qobject@{Process\_qobject}!process\_set\_SSH@{process\_set\_SSH}}
\index{process\_set\_SSH@{process\_set\_SSH}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_set\_SSH}{process\_set\_SSH}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+set\+\_\+\+S\+SH (\begin{DoxyParamCaption}\item[{Q\+String}]{start\+\_\+stop }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_ace6bc86616ebce6fcc266803c3e6e39e}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+\+S\+SH}}. 


\begin{DoxyItemize}
\item appel \mbox{\hyperlink{class_process__qobject_a8d42129f8a8255976297b32e87c7a763}{process\+\_\+init\+\_\+\+S\+S\+H()}} 
\begin{DoxyParams}{Parameters}
{\em start\+\_\+stop} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1500 \{}
\DoxyCodeLine{1501     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_set\_SSH "} + start\_stop.toStdString());}
\DoxyCodeLine{1502     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{1503     QString b;}
\DoxyCodeLine{1504     \textcolor{keywordflow}{if} (start\_stop==\textcolor{stringliteral}{"init"}) \{\mbox{\hyperlink{class_process__qobject_a8d42129f8a8255976297b32e87c7a763}{process\_init\_SSH}}();\textcolor{keywordflow}{return};\}}
\DoxyCodeLine{1505     \textcolor{keywordflow}{if} (start\_stop==\textcolor{stringliteral}{"start"})}
\DoxyCodeLine{1506         b= QString(\textcolor{stringliteral}{"/etc/init.d/sshd start"});}
\DoxyCodeLine{1507     \textcolor{keywordflow}{else}}
\DoxyCodeLine{1508         b= QString(\textcolor{stringliteral}{"/etc/init.d/sshd stop"});}
\DoxyCodeLine{1509     qProc-\/>execute(\textcolor{stringliteral}{"/bin/bash"}, \{ \textcolor{stringliteral}{"-\/c"}, b\});}
\DoxyCodeLine{1510     \textcolor{keywordflow}{if}(!qProc-\/>waitForReadyRead())}
\DoxyCodeLine{1511         log4cpp-\/>warn(QString(qProc-\/>readAllStandardError()).toStdString());}
\DoxyCodeLine{1512     qProc-\/>waitForFinished(500);}
\DoxyCodeLine{1513     \textcolor{keywordflow}{if}(qProc-\/>state() != QProcess::NotRunning)}
\DoxyCodeLine{1514         qProc-\/>kill();}
\DoxyCodeLine{1515     qProc-\/>deleteLater();}
\DoxyCodeLine{1516 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a247fd0c56dc2a0d36e2ace19eb1869b6}\label{class_process__qobject_a247fd0c56dc2a0d36e2ace19eb1869b6}} 
\index{Process\_qobject@{Process\_qobject}!process\_set\_SwUpdate@{process\_set\_SwUpdate}}
\index{process\_set\_SwUpdate@{process\_set\_SwUpdate}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_set\_SwUpdate}{process\_set\_SwUpdate}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+set\+\_\+\+Sw\+Update (\begin{DoxyParamCaption}\item[{Q\+String}]{start\+\_\+stop }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a247fd0c56dc2a0d36e2ace19eb1869b6}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+\+Sw\+Update}}. 


\begin{DoxyItemize}
\item appel \mbox{\hyperlink{class_process__qobject_a1e0adef1a539eb6653e188f0a52872db}{process\+\_\+init\+\_\+\+Sw\+Update()}} 
\begin{DoxyParams}{Parameters}
{\em start\+\_\+stop} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1544 \{}
\DoxyCodeLine{1545     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_set\_SwUpdate "} + start\_stop.toStdString());}
\DoxyCodeLine{1546     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{1547     QString b;}
\DoxyCodeLine{1548     \textcolor{keywordflow}{if} (start\_stop==\textcolor{stringliteral}{"init"}) \{\mbox{\hyperlink{class_process__qobject_a1e0adef1a539eb6653e188f0a52872db}{process\_init\_SwUpdate}}();\textcolor{keywordflow}{return};\}}
\DoxyCodeLine{1549     \textcolor{keywordflow}{if} (start\_stop==\textcolor{stringliteral}{"start"})}
\DoxyCodeLine{1550         b= QString(\textcolor{stringliteral}{"/etc/init.d/swupdate start"});}
\DoxyCodeLine{1551     \textcolor{keywordflow}{else}}
\DoxyCodeLine{1552         b= QString(\textcolor{stringliteral}{"/etc/init.d/swupdate stop"});}
\DoxyCodeLine{1553     qProc-\/>execute(\textcolor{stringliteral}{"/bin/bash"}, \{ \textcolor{stringliteral}{"-\/c"}, b\});}
\DoxyCodeLine{1554     \textcolor{keywordflow}{if}(!qProc-\/>waitForReadyRead())}
\DoxyCodeLine{1555         log4cpp-\/>warn(QString(qProc-\/>readAllStandardError()).toStdString());}
\DoxyCodeLine{1556     qProc-\/>waitForFinished(500);}
\DoxyCodeLine{1557     \textcolor{keywordflow}{if}(qProc-\/>state() != QProcess::NotRunning)}
\DoxyCodeLine{1558         qProc-\/>kill();}
\DoxyCodeLine{1559     qProc-\/>deleteLater();}
\DoxyCodeLine{1560 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_acf0dc30762c4587ea3d1dd7ef71083c5}\label{class_process__qobject_acf0dc30762c4587ea3d1dd7ef71083c5}} 
\index{Process\_qobject@{Process\_qobject}!process\_set\_wifi@{process\_set\_wifi}}
\index{process\_set\_wifi@{process\_set\_wifi}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{process\_set\_wifi}{process\_set\_wifi}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::process\+\_\+set\+\_\+wifi (\begin{DoxyParamCaption}\item[{Q\+String}]{ssid,  }\item[{Q\+String}]{psk }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_acf0dc30762c4587ea3d1dd7ef71083c5}{Process\+\_\+qobject\+::process\+\_\+set\+\_\+wifi}} 


\begin{DoxyParams}{Parameters}
{\em ssid} & \\
\hline
{\em psk} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{1338 \{}
\DoxyCodeLine{1339     log4cpp-\/>debug(\textcolor{stringliteral}{"process\_set\_wifi"});}
\DoxyCodeLine{1340     \textcolor{keywordflow}{if} (ssid==\textcolor{stringliteral}{"init"}) \{\mbox{\hyperlink{class_process__qobject_a8b7b3eac774283cd22fd7168e01e2189}{process\_init\_wifi}}();\textcolor{keywordflow}{return};\}}
\DoxyCodeLine{1341     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{1342     QString a,b;}
\DoxyCodeLine{1343 }
\DoxyCodeLine{1344     QFile in(\textcolor{stringliteral}{"wpa\_supplicant.cfg"});}
\DoxyCodeLine{1345     QFile out(\textcolor{stringliteral}{"/etc/wpa\_supplicant.conf"});}
\DoxyCodeLine{1346     \textcolor{keywordflow}{if} (in.open( QFile::ReadOnly))}
\DoxyCodeLine{1347     \{}
\DoxyCodeLine{1348         QTextStream stream\_in(\&in);}
\DoxyCodeLine{1349         QTextStream stream\_out(\&out);}
\DoxyCodeLine{1350         QString s=stream\_in.readAll();}
\DoxyCodeLine{1351         QString c=s.section(\textcolor{stringliteral}{"network=\{"},1,1);}
\DoxyCodeLine{1352         s.remove(c);}
\DoxyCodeLine{1353         a=QString(\textcolor{stringliteral}{"ssid=\%1"}).arg(\textcolor{charliteral}{'"'}+ssid+\textcolor{charliteral}{'"'});}
\DoxyCodeLine{1354         b=QString(\textcolor{stringliteral}{"psk=\%1"}).arg(\textcolor{charliteral}{'"'}+psk)+\textcolor{charliteral}{'"'};}
\DoxyCodeLine{1355         s.append(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{1356         s.append(a);}
\DoxyCodeLine{1357         s.append(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{1358         s.append(b);}
\DoxyCodeLine{1359         s.append(\textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{1360         s.append(\textcolor{charliteral}{'\}'});}
\DoxyCodeLine{1361 }
\DoxyCodeLine{1362         out.open( QFile::WriteOnly);}
\DoxyCodeLine{1363         stream\_out << s;}
\DoxyCodeLine{1364         stream\_out.flush();}
\DoxyCodeLine{1365         in.close();}
\DoxyCodeLine{1366         out.close();}
\DoxyCodeLine{1367     \}}
\DoxyCodeLine{1368 }
\DoxyCodeLine{1369     b= QString(\textcolor{stringliteral}{"ip route del"});}
\DoxyCodeLine{1370     qProc-\/>start(b);}
\DoxyCodeLine{1371     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{1372     qProc-\/>readAll();}
\DoxyCodeLine{1373     b= QString(\textcolor{stringliteral}{"/etc/init.d/networking restart"});}
\DoxyCodeLine{1374     qProc-\/>start(b);}
\DoxyCodeLine{1375     QTest::qWait(1000);}
\DoxyCodeLine{1376     \textcolor{keywordflow}{while} ( qProc-\/>state()==QProcess::Running) QTest::qWait(100);}
\DoxyCodeLine{1377     qProc-\/>close();}
\DoxyCodeLine{1378     qProc-\/>deleteLater();}
\DoxyCodeLine{1379 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a3a2da1cb4ae0e2ec1daf37c40e305081}\label{class_process__qobject_a3a2da1cb4ae0e2ec1daf37c40e305081}} 
\index{Process\_qobject@{Process\_qobject}!qml\_message@{qml\_message}}
\index{qml\_message@{qml\_message}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{qml\_message}{qml\_message}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::qml\+\_\+message (\begin{DoxyParamCaption}\item[{Q\+String}]{s }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a3a2da1cb4ae0e2ec1daf37c40e305081}{Process\+\_\+qobject\+::qml\+\_\+message}}. 


\begin{DoxyItemize}
\item Méthode pour activer reboot ou restart 
\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1697 \{}
\DoxyCodeLine{1698     log4cpp-\/>debug(\textcolor{stringliteral}{"qml\_message"});}
\DoxyCodeLine{1699     log4cpp-\/>info(s.toStdString());}
\DoxyCodeLine{1700     QString a;}
\DoxyCodeLine{1701     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{1702     \textcolor{keywordflow}{if}(!s.compare(\textcolor{stringliteral}{"reboot"}) )}
\DoxyCodeLine{1703     \{}
\DoxyCodeLine{1704         a.append(\textcolor{stringliteral}{"reboot"});}
\DoxyCodeLine{1705         qProc-\/>startDetached(a);}
\DoxyCodeLine{1706     \}}
\DoxyCodeLine{1707     \textcolor{keywordflow}{else}}
\DoxyCodeLine{1708         \textcolor{keywordflow}{if}(!s.compare(\textcolor{stringliteral}{"restart"})) \{}
\DoxyCodeLine{1709             a.append(\textcolor{stringliteral}{"./restart\_shell"});}
\DoxyCodeLine{1710             qProc-\/>startDetached(a);}
\DoxyCodeLine{1711             \textcolor{comment}{//signal\_window\_restart\_app();}}
\DoxyCodeLine{1712         \}}
\DoxyCodeLine{1713    \textcolor{comment}{// qProc-\/>startDetached(a);}}
\DoxyCodeLine{1714 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a6e60257b1c0ace39f301ea1e306f83d9}\label{class_process__qobject_a6e60257b1c0ace39f301ea1e306f83d9}} 
\index{Process\_qobject@{Process\_qobject}!set\_touches\_fonction@{set\_touches\_fonction}}
\index{set\_touches\_fonction@{set\_touches\_fonction}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{set\_touches\_fonction}{set\_touches\_fonction}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::set\+\_\+touches\+\_\+fonction (\begin{DoxyParamCaption}\item[{Q\+String}]{libelle,  }\item[{Q\+String}]{activite,  }\item[{Q\+String}]{url,  }\item[{Q\+String}]{proxy,  }\item[{Q\+String}]{tempo }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a6e60257b1c0ace39f301ea1e306f83d9}{Process\+\_\+qobject\+::set\+\_\+touches\+\_\+fonction}}. 


\begin{DoxyItemize}
\item Enregristre les touches de fonctions dans database\+\_\+setup.\+db 
\begin{DoxyParams}{Parameters}
{\em libelle} & \\
\hline
{\em activite} & \\
\hline
{\em url} & \\
\hline
{\em proxy} & \\
\hline
{\em tempo} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{1652 \{}
\DoxyCodeLine{1653     log4cpp-\/>debug(\textcolor{stringliteral}{"set\_touches\_fonction"});}
\DoxyCodeLine{1654     QSqlDatabase db = QSqlDatabase::addDatabase(\textcolor{stringliteral}{"QSQLITE"},\textcolor{stringliteral}{"touchesfonction\_setup"});}
\DoxyCodeLine{1655     db.setDatabaseName(\textcolor{stringliteral}{"/var/x7/etc/database\_setup.db"});}
\DoxyCodeLine{1656 }
\DoxyCodeLine{1657     \textcolor{keywordflow}{if} (db.open())}
\DoxyCodeLine{1658     \{}
\DoxyCodeLine{1659         log4cpp-\/>debug(\textcolor{stringliteral}{"Acces table touchesfonction"});}
\DoxyCodeLine{1660         QSqlQuery query(db);}
\DoxyCodeLine{1661         \textcolor{keywordflow}{if} (!libelle.compare(\textcolor{stringliteral}{"DELETE"}) \&\& !activite.compare(\textcolor{stringliteral}{"DELETE"}) \&\& !url.compare(\textcolor{stringliteral}{"DELETE"}) \&\& !proxy.compare(\textcolor{stringliteral}{"DELETE"}) \&\& !tempo.compare(\textcolor{stringliteral}{"DELETE"}))}
\DoxyCodeLine{1662         \{}
\DoxyCodeLine{1663             query.exec(QString(\textcolor{stringliteral}{"DELETE from touchesfonction"}));}
\DoxyCodeLine{1664             query.finish();}
\DoxyCodeLine{1665             db.commit();}
\DoxyCodeLine{1666             db.close();}
\DoxyCodeLine{1667         \}}
\DoxyCodeLine{1668         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!libelle.compare(\textcolor{stringliteral}{"FIN"}) \&\& activite.isEmpty() \&\& url.isEmpty() \&\& proxy.isEmpty() \&\& tempo.isEmpty())}
\DoxyCodeLine{1669         \{}
\DoxyCodeLine{1670             signal\_window\_set\_touchesfonction();}
\DoxyCodeLine{1671             db.close();}
\DoxyCodeLine{1672         \}}
\DoxyCodeLine{1673         \textcolor{keywordflow}{else}}
\DoxyCodeLine{1674         \{}
\DoxyCodeLine{1675             query.prepare(\textcolor{stringliteral}{"INSERT INTO touchesfonction (libelle, activite, url, proxy, tempo)"} \textcolor{stringliteral}{"VALUES (:libelle, :activite, :url, :proxy, :tempo);"});}
\DoxyCodeLine{1676             query.bindValue(\textcolor{stringliteral}{":libelle"}, libelle);}
\DoxyCodeLine{1677             query.bindValue(\textcolor{stringliteral}{":activite"}, activite);}
\DoxyCodeLine{1678             query.bindValue(\textcolor{stringliteral}{":url"}, url);}
\DoxyCodeLine{1679             query.bindValue(\textcolor{stringliteral}{":proxy"}, proxy);}
\DoxyCodeLine{1680             query.bindValue(\textcolor{stringliteral}{":tempo"}, tempo);}
\DoxyCodeLine{1681             query.exec();}
\DoxyCodeLine{1682             query.finish();}
\DoxyCodeLine{1683             db.commit();}
\DoxyCodeLine{1684             db.close();}
\DoxyCodeLine{1685         \}}
\DoxyCodeLine{1686     \}}
\DoxyCodeLine{1687 }
\DoxyCodeLine{1688 }
\DoxyCodeLine{1689 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a96ccce1632d08624a6ad05a4a9909643}\label{class_process__qobject_a96ccce1632d08624a6ad05a4a9909643}} 
\index{Process\_qobject@{Process\_qobject}!test\_audio@{test\_audio}}
\index{test\_audio@{test\_audio}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{test\_audio}{test\_audio}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::test\+\_\+audio (\begin{DoxyParamCaption}\item[{int}]{a }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a96ccce1632d08624a6ad05a4a9909643}{Process\+\_\+qobject\+::test\+\_\+audio}}. 


\begin{DoxyItemize}
\item Methode de test de l\textquotesingle{}interface audio 
\begin{DoxyParams}{Parameters}
{\em a} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{401 \{}
\DoxyCodeLine{402     log4cpp-\/>debug(\textcolor{stringliteral}{"test\_audio"});}
\DoxyCodeLine{403     \textcolor{comment}{//TODO migrer cette methode dans x7gestconfig}}
\DoxyCodeLine{404     emit signal\_ihm\_retour\_test(2,a);}
\DoxyCodeLine{405     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{406     QString b=QString(\textcolor{stringliteral}{"aplay /var/x7/contents/wav/badge\_ok.wav"});}
\DoxyCodeLine{407     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{408     qProc-\/>startDetached(b);}
\DoxyCodeLine{409     emit signal\_ihm\_retour\_test(1,a);}
\DoxyCodeLine{410 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a6a39e62f8ade77c0467884c5a90ca069}\label{class_process__qobject_a6a39e62f8ade77c0467884c5a90ca069}} 
\index{Process\_qobject@{Process\_qobject}!test\_backlight@{test\_backlight}}
\index{test\_backlight@{test\_backlight}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{test\_backlight}{test\_backlight}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::test\+\_\+backlight (\begin{DoxyParamCaption}\item[{int}]{a }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a6a39e62f8ade77c0467884c5a90ca069}{Process\+\_\+qobject\+::test\+\_\+backlight}}. 


\begin{DoxyItemize}
\item Methode de test du retroéclairage 
\begin{DoxyParams}{Parameters}
{\em a} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{418 \{}
\DoxyCodeLine{419     log4cpp-\/>debug(\textcolor{stringliteral}{"test\_backlight"});}
\DoxyCodeLine{420     \textcolor{comment}{//TODO migrer cette methode dans x7gestconfig}}
\DoxyCodeLine{421     emit signal\_ihm\_retour\_test(2,a);}
\DoxyCodeLine{422     X7CarteIO::getInstance()-\/>setBrightness(1);}
\DoxyCodeLine{423     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{424     X7CarteIO::getInstance()-\/>setBrightness(5);}
\DoxyCodeLine{425     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{426     X7CarteIO::getInstance()-\/>setBrightness(10);}
\DoxyCodeLine{427     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{428     X7CarteIO::getInstance()-\/>setBrightness(15);}
\DoxyCodeLine{429     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{430     X7CarteIO::getInstance()-\/>setBrightness(20);}
\DoxyCodeLine{431     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{432     X7CarteIO::getInstance()-\/>setBrightness(25);}
\DoxyCodeLine{433     emit signal\_ihm\_retour\_test(1,a);}
\DoxyCodeLine{434 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_aecc3d77d60372b73a0154a2526305337}\label{class_process__qobject_aecc3d77d60372b73a0154a2526305337}} 
\index{Process\_qobject@{Process\_qobject}!test\_ethernet@{test\_ethernet}}
\index{test\_ethernet@{test\_ethernet}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{test\_ethernet}{test\_ethernet}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::test\+\_\+ethernet (\begin{DoxyParamCaption}\item[{int}]{a }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_aecc3d77d60372b73a0154a2526305337}{Process\+\_\+qobject\+::test\+\_\+ethernet}}. 


\begin{DoxyItemize}
\item Methode de test de l\textquotesingle{}interface ethernet 
\begin{DoxyParams}{Parameters}
{\em a} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{310 \{}
\DoxyCodeLine{311     log4cpp-\/>debug(\textcolor{stringliteral}{"test\_ethernet"});}
\DoxyCodeLine{312     \textcolor{comment}{// test interface OK}}
\DoxyCodeLine{313     \textcolor{comment}{//TODO migrer cette methode dans x7gestconfig}}
\DoxyCodeLine{314     emit signal\_ihm\_retour\_test(2,a);}
\DoxyCodeLine{315     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{316     QList<QNetworkInterface> interfaces ;}
\DoxyCodeLine{317     QString interface\_name;}
\DoxyCodeLine{318     interface\_name.clear();}
\DoxyCodeLine{319     interfaces = QNetworkInterface::allInterfaces();}
\DoxyCodeLine{320     \textcolor{keywordflow}{foreach}(\textcolor{keyword}{const} QNetworkInterface \& interface, interfaces)}
\DoxyCodeLine{321     \{}
\DoxyCodeLine{322         \textcolor{keywordflow}{if} (interface.name()==\textcolor{stringliteral}{"eth0"})}
\DoxyCodeLine{323         \{}
\DoxyCodeLine{324             \textcolor{keywordflow}{if} (interface.flags() \& QNetworkInterface::IsUp)}
\DoxyCodeLine{325             \{}
\DoxyCodeLine{326                 \textcolor{keywordflow}{if} (interface.flags()  \& QNetworkInterface::IsRunning)}
\DoxyCodeLine{327                 \{}
\DoxyCodeLine{328                     emit signal\_ihm\_retour\_test(1,a);}
\DoxyCodeLine{329                 \}}
\DoxyCodeLine{330                 \textcolor{keywordflow}{else} emit signal\_ihm\_retour\_test(0,a);}
\DoxyCodeLine{331             \}}
\DoxyCodeLine{332             \textcolor{keywordflow}{else} emit signal\_ihm\_retour\_test(0,a);}
\DoxyCodeLine{333         \}}
\DoxyCodeLine{334     \}}
\DoxyCodeLine{335 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a254b0b7a588758a16a0b05f14e7b66dc}\label{class_process__qobject_a254b0b7a588758a16a0b05f14e7b66dc}} 
\index{Process\_qobject@{Process\_qobject}!test\_io@{test\_io}}
\index{test\_io@{test\_io}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{test\_io}{test\_io}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::test\+\_\+io (\begin{DoxyParamCaption}\item[{Q\+String}]{test,  }\item[{int}]{a }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a254b0b7a588758a16a0b05f14e7b66dc}{Process\+\_\+qobject\+::test\+\_\+io}} 


\begin{DoxyParams}{Parameters}
{\em test} & \\
\hline
{\em a} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{343 \{}
\DoxyCodeLine{344     log4cpp-\/>debug(\textcolor{stringliteral}{"test\_io"});}
\DoxyCodeLine{345     \textcolor{comment}{//TODO migrer cette methode dans x7gestconfig}}
\DoxyCodeLine{346     emit signal\_ihm\_retour\_test(2,a);}
\DoxyCodeLine{347     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{348     QString s,value1,value2,value3,value4;}
\DoxyCodeLine{349     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{350     \textcolor{comment}{/*    s=QString("rmmod data\_clock");}}
\DoxyCodeLine{351 \textcolor{comment}{    qProc-\/>start(s);}}
\DoxyCodeLine{352 \textcolor{comment}{    qProc-\/>waitForReadyRead();}}
\DoxyCodeLine{353 \textcolor{comment}{    qProc-\/>readAll();}}
\DoxyCodeLine{354 \textcolor{comment}{    qProc-\/>close();}}
\DoxyCodeLine{355 \textcolor{comment}{    s=QString("rmmod wiegand");}}
\DoxyCodeLine{356 \textcolor{comment}{    qProc-\/>start(s);}}
\DoxyCodeLine{357 \textcolor{comment}{    qProc-\/>waitForReadyRead();}}
\DoxyCodeLine{358 \textcolor{comment}{    qProc-\/>readAll();}}
\DoxyCodeLine{359 \textcolor{comment}{    qProc-\/>close();}}
\DoxyCodeLine{360 \textcolor{comment}{  */}}
\DoxyCodeLine{361     s=QString(\textcolor{stringliteral}{"./test\_io\_shell"});}
\DoxyCodeLine{362     qProc-\/>start(s);}
\DoxyCodeLine{363     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{364     qProc-\/>readAll();}
\DoxyCodeLine{365     qProc-\/>close();}
\DoxyCodeLine{366     s=QString(\textcolor{stringliteral}{"cat /sys/class/gpio/gpio82/value"});}
\DoxyCodeLine{367     qProc-\/>start(s);}
\DoxyCodeLine{368     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{369     value1=qProc-\/>readAll();}
\DoxyCodeLine{370     value1.truncate(1);}
\DoxyCodeLine{371     qProc-\/>close();}
\DoxyCodeLine{372     s=QString(\textcolor{stringliteral}{"cat /sys/class/gpio/gpio106/value"});}
\DoxyCodeLine{373     qProc-\/>start(s);}
\DoxyCodeLine{374     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{375     value2=qProc-\/>readAll();}
\DoxyCodeLine{376     value2.truncate(1);}
\DoxyCodeLine{377     qProc-\/>close();}
\DoxyCodeLine{378     s=QString(\textcolor{stringliteral}{"cat /sys/class/gpio/gpio13/value"});}
\DoxyCodeLine{379     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{380     value3=qProc-\/>readAll();}
\DoxyCodeLine{381     value3.truncate(1);}
\DoxyCodeLine{382     qProc-\/>close();}
\DoxyCodeLine{383     s=QString(\textcolor{stringliteral}{"cat /sys/class/gpio/gpio12/value"});}
\DoxyCodeLine{384     qProc-\/>start(s);}
\DoxyCodeLine{385     qProc-\/>waitForReadyRead();}
\DoxyCodeLine{386     value4=qProc-\/>readAll();}
\DoxyCodeLine{387     value4.truncate(1);}
\DoxyCodeLine{388     qProc-\/>close();}
\DoxyCodeLine{389     \textcolor{keywordflow}{if} (!value1.compare(test) \&\& !value2.compare(test) \&\& !value3.compare(test) \&\& !value4.compare(test)) emit signal\_ihm\_retour\_test(1,a);}
\DoxyCodeLine{390     \textcolor{keywordflow}{else} emit signal\_ihm\_retour\_test(0,a);}
\DoxyCodeLine{391 }
\DoxyCodeLine{392     qProc-\/>deleteLater();}
\DoxyCodeLine{393 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a776fb67a605806a27b290fb5de0a7dfd}\label{class_process__qobject_a776fb67a605806a27b290fb5de0a7dfd}} 
\index{Process\_qobject@{Process\_qobject}!test\_sleep\_mode@{test\_sleep\_mode}}
\index{test\_sleep\_mode@{test\_sleep\_mode}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{test\_sleep\_mode}{test\_sleep\_mode}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::test\+\_\+sleep\+\_\+mode (\begin{DoxyParamCaption}\item[{int}]{a }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a776fb67a605806a27b290fb5de0a7dfd}{Process\+\_\+qobject\+::test\+\_\+sleep\+\_\+mode}}. 


\begin{DoxyItemize}
\item Methode de test du mode veille 
\begin{DoxyParams}{Parameters}
{\em a} & \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{442 \{}
\DoxyCodeLine{443     log4cpp-\/>debug(\textcolor{stringliteral}{"test\_sleep\_mode"});}
\DoxyCodeLine{444     \textcolor{comment}{//TODO supprimer cette methode}}
\DoxyCodeLine{445     \textcolor{keywordflow}{return};}
\DoxyCodeLine{446     QString b=QString(\textcolor{stringliteral}{"./sleep\_mode"});}
\DoxyCodeLine{447     QProcess *qProc = \textcolor{keyword}{new} QProcess(\textcolor{keyword}{this});}
\DoxyCodeLine{448     qProc-\/>startDetached(b);}
\DoxyCodeLine{449     emit signal\_ihm\_retour\_test(1,a);}
\DoxyCodeLine{450 }
\DoxyCodeLine{451 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a3551f5d82fb1b35fb04cf6ed924709a9}\label{class_process__qobject_a3551f5d82fb1b35fb04cf6ed924709a9}} 
\index{Process\_qobject@{Process\_qobject}!test\_uart@{test\_uart}}
\index{test\_uart@{test\_uart}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{test\_uart}{test\_uart}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::test\+\_\+uart (\begin{DoxyParamCaption}\item[{Q\+String}]{port,  }\item[{int}]{a }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



(N\+OT U\+S\+ED) \mbox{\hyperlink{class_process__qobject_a3551f5d82fb1b35fb04cf6ed924709a9}{Process\+\_\+qobject\+::test\+\_\+uart}} 


\begin{DoxyItemize}
\item Methode de test d\textquotesingle{}un port serie 
\begin{DoxyParams}{Parameters}
{\em port} & chemin du port serie Ex\+: /dev/tty\+O1 \\
\hline
{\em a} & indice du port pour le retour de l\textquotesingle{}I\+HM \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{260 \{}
\DoxyCodeLine{261     log4cpp-\/>debug(\textcolor{stringliteral}{"test\_uart"});}
\DoxyCodeLine{262     \textcolor{comment}{//TODO migrer cette methode dans x7gestconfig}}
\DoxyCodeLine{263     \textcolor{comment}{//TODO BG supprimer le parametre a et faire autrement.}}
\DoxyCodeLine{264     emit signal\_ihm\_retour\_test(2,a);}
\DoxyCodeLine{265     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{266     \textcolor{keywordtype}{int} i=0;}
\DoxyCodeLine{267     port\_test = \textcolor{keyword}{new} \mbox{\hyperlink{class_q_serial_port}{QSerialPort}}(port);}
\DoxyCodeLine{268 }
\DoxyCodeLine{269     port\_test-\/>setBaudRate(QSerialPort::Baud115200);}
\DoxyCodeLine{270     port\_test-\/>setFlowControl(QSerialPort::NoFlowControl);}
\DoxyCodeLine{271     port\_test-\/>setParity(QSerialPort::NoParity);}
\DoxyCodeLine{272     port\_test-\/>setDataBits(QSerialPort::Data8);}
\DoxyCodeLine{273     port\_test-\/>setStopBits(QSerialPort::TwoStop);}
\DoxyCodeLine{274     port\_test-\/>\mbox{\hyperlink{class_q_serial_port_a2d6586b11209863aa05574975f79615f}{open}}(QIODevice::ReadWrite);}
\DoxyCodeLine{275     message=\textcolor{stringliteral}{"ceci est un message "};}
\DoxyCodeLine{276     received\_msg.clear();}
\DoxyCodeLine{277     \textcolor{comment}{/*appel priv\_transmitMsg */}}
\DoxyCodeLine{278     \mbox{\hyperlink{class_process__qobject_a37b3a752526da4b0334c440b031fbb0e}{priv\_transmitMsg}}(port\_test);}
\DoxyCodeLine{279     \textcolor{comment}{/*appel priv\_receiveMsg */}}
\DoxyCodeLine{280     \mbox{\hyperlink{class_process__qobject_ac8298c716a6efdb384ecfe32c1c206b8}{priv\_receiveMsg}}(port\_test);}
\DoxyCodeLine{281     \textcolor{keywordflow}{if} (!received\_msg.compare(message)) i=1;}
\DoxyCodeLine{282     emit signal\_ihm\_retour\_test(i,a);}
\DoxyCodeLine{283 }
\DoxyCodeLine{284     port\_test-\/>\mbox{\hyperlink{class_q_serial_port_a2e221672652676a33daaf7f1a2228294}{close}}();}
\DoxyCodeLine{285 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a0bf0f73a3c4b4d25745f87aafbc9f086}\label{class_process__qobject_a0bf0f73a3c4b4d25745f87aafbc9f086}} 
\index{Process\_qobject@{Process\_qobject}!test\_usb@{test\_usb}}
\index{test\_usb@{test\_usb}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{test\_usb}{test\_usb}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::test\+\_\+usb (\begin{DoxyParamCaption}\item[{Q\+String}]{port,  }\item[{int}]{a }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a0bf0f73a3c4b4d25745f87aafbc9f086}{Process\+\_\+qobject\+::test\+\_\+usb}}. 


\begin{DoxyItemize}
\item Methode de test d\textquotesingle{}un port Usb 
\begin{DoxyParams}{Parameters}
{\em port} & chemin du port Usb Ex\+: /sys/bus/usb/devices/1-\/1 \\
\hline
{\em a} & indice du port pour le retour de l\textquotesingle{}I\+HM \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{294 \{}
\DoxyCodeLine{295     log4cpp-\/>debug(\textcolor{stringliteral}{"test\_usb"});}
\DoxyCodeLine{296     \textcolor{comment}{//TODO migrer cette methode dans x7gestconfig}}
\DoxyCodeLine{297     emit signal\_ihm\_retour\_test(2,a);}
\DoxyCodeLine{298     \mbox{\hyperlink{class_process__qobject_a331b7dd59c47fe1e05021344869337e7}{delayBackLight}}();}
\DoxyCodeLine{299     QDir dir(port);}
\DoxyCodeLine{300     \textcolor{keywordflow}{if} (dir.exists()) emit signal\_ihm\_retour\_test(1,a);}
\DoxyCodeLine{301     \textcolor{keywordflow}{else} emit signal\_ihm\_retour\_test(0,a);}
\DoxyCodeLine{302 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_a8049239a751c19a33e1646d7a8cc427b}\label{class_process__qobject_a8049239a751c19a33e1646d7a8cc427b}} 
\index{Process\_qobject@{Process\_qobject}!time2bii\_tests@{time2bii\_tests}}
\index{time2bii\_tests@{time2bii\_tests}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{time2bii\_tests}{time2bii\_tests}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::time2bii\+\_\+tests (\begin{DoxyParamCaption}\item[{int}]{a }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_a8049239a751c19a33e1646d7a8cc427b}{Process\+\_\+qobject\+::time2bii\+\_\+tests}}. 


\begin{DoxyItemize}
\item Methode pour lancer les tests intégrés
\item appel \mbox{\hyperlink{class_process__qobject_a0bf0f73a3c4b4d25745f87aafbc9f086}{test\+\_\+usb()}}, test ethernet(), test audio(), \mbox{\hyperlink{class_process__qobject_a6a39e62f8ade77c0467884c5a90ca069}{test\+\_\+backlight()}}, \mbox{\hyperlink{class_process__qobject_a776fb67a605806a27b290fb5de0a7dfd}{test\+\_\+sleep\+\_\+mode()}}
\item appel \mbox{\hyperlink{class_process__qobject_ab93480083f2b432950306f355351386c}{priv\+\_\+test\+\_\+lecteur()}}, \mbox{\hyperlink{class_process__qobject_aa45048c243179da064c35c831e319d66}{priv\+\_\+test\+\_\+relay()}} 
\begin{DoxyParams}{Parameters}
{\em a} & de 0 à 9 et 99 pour enchainer tous les tests. \\
\hline
\end{DoxyParams}

\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{174 \{}
\DoxyCodeLine{175     log4cpp-\/>debug(\textcolor{stringliteral}{"time2bii\_tests"});}
\DoxyCodeLine{176     \textcolor{comment}{//TODO migrer cette methode dans x7gestconfig}}
\DoxyCodeLine{177     \textcolor{keywordflow}{switch} (a)}
\DoxyCodeLine{178     \{}
\DoxyCodeLine{179     \textcolor{comment}{/*    case 0:}}
\DoxyCodeLine{180 \textcolor{comment}{        test\_uart("/dev/ttyO0",a);}}
\DoxyCodeLine{181 \textcolor{comment}{    break;}}
\DoxyCodeLine{182 \textcolor{comment}{*/}}
\DoxyCodeLine{183     \textcolor{keywordflow}{case} 0:}
\DoxyCodeLine{184         \textcolor{comment}{//test\_uart("/dev/ttyO1",a);}}
\DoxyCodeLine{185         \mbox{\hyperlink{class_process__qobject_ab93480083f2b432950306f355351386c}{priv\_test\_lecteur}}(a);}
\DoxyCodeLine{186         \textcolor{keywordflow}{break};}
\DoxyCodeLine{187     \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{188         \textcolor{comment}{//test\_uart("/dev/ttyO3",a);}}
\DoxyCodeLine{189         \textcolor{keywordflow}{break};}
\DoxyCodeLine{190     \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{191         \mbox{\hyperlink{class_process__qobject_a0bf0f73a3c4b4d25745f87aafbc9f086}{test\_usb}}(\textcolor{stringliteral}{"/sys/bus/usb/devices/1-\/1"},a);}
\DoxyCodeLine{192         \textcolor{keywordflow}{break};}
\DoxyCodeLine{193     \textcolor{keywordflow}{case} 3:}
\DoxyCodeLine{194         \textcolor{comment}{//test\_usb("/sys/bus/usb/devices/2-\/1",a);}}
\DoxyCodeLine{195         \textcolor{keywordflow}{break};}
\DoxyCodeLine{196     \textcolor{keywordflow}{case} 4:}
\DoxyCodeLine{197         \mbox{\hyperlink{class_process__qobject_aecc3d77d60372b73a0154a2526305337}{test\_ethernet}}(a);}
\DoxyCodeLine{198         \textcolor{keywordflow}{break};}
\DoxyCodeLine{199     \textcolor{keywordflow}{case} 5:}
\DoxyCodeLine{200         \textcolor{comment}{//test\_io("0",a);}}
\DoxyCodeLine{201         \mbox{\hyperlink{class_process__qobject_aa45048c243179da064c35c831e319d66}{priv\_test\_relay}}(a);}
\DoxyCodeLine{202         \textcolor{keywordflow}{break};}
\DoxyCodeLine{203     \textcolor{keywordflow}{case} 6:}
\DoxyCodeLine{204         \textcolor{comment}{//test\_io("1",a);}}
\DoxyCodeLine{205         \textcolor{keywordflow}{break};}
\DoxyCodeLine{206     \textcolor{keywordflow}{case} 7:}
\DoxyCodeLine{207         \mbox{\hyperlink{class_process__qobject_a6a39e62f8ade77c0467884c5a90ca069}{test\_backlight}}(a);}
\DoxyCodeLine{208         \textcolor{keywordflow}{break};}
\DoxyCodeLine{209     \textcolor{keywordflow}{case} 8:}
\DoxyCodeLine{210         \mbox{\hyperlink{class_process__qobject_a96ccce1632d08624a6ad05a4a9909643}{test\_audio}}(a);}
\DoxyCodeLine{211         \textcolor{keywordflow}{break};}
\DoxyCodeLine{212     \textcolor{keywordflow}{case} 9:}
\DoxyCodeLine{213         \mbox{\hyperlink{class_process__qobject_a776fb67a605806a27b290fb5de0a7dfd}{test\_sleep\_mode}}(a);}
\DoxyCodeLine{214         \textcolor{keywordflow}{break};}
\DoxyCodeLine{215     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{216         QTime dieTime = QTime::currentTime().addMSecs(500);}
\DoxyCodeLine{217         \textcolor{comment}{/*        while( QTime::currentTime() < dieTime ) QCoreApplication::processEvents( QEventLoop::AllEvents, 100 );}}
\DoxyCodeLine{218 \textcolor{comment}{        test\_uart("/dev/ttyO0",0);}}
\DoxyCodeLine{219 \textcolor{comment}{        dieTime = QTime::currentTime().addMSecs(100);}}
\DoxyCodeLine{220 \textcolor{comment}{ */}}
\DoxyCodeLine{221         \textcolor{keywordflow}{while}( QTime::currentTime() < dieTime ) QCoreApplication::processEvents( QEventLoop::AllEvents, 100 );}
\DoxyCodeLine{222         \mbox{\hyperlink{class_process__qobject_ab93480083f2b432950306f355351386c}{priv\_test\_lecteur}}(0);}
\DoxyCodeLine{223         dieTime = QTime::currentTime().addMSecs(100);}
\DoxyCodeLine{224         \textcolor{comment}{//while( QTime::currentTime() < dieTime ) QCoreApplication::processEvents( QEventLoop::AllEvents, 100 );}}
\DoxyCodeLine{225         \textcolor{comment}{//test\_uart("/dev/ttyO3",1);}}
\DoxyCodeLine{226         \textcolor{comment}{//dieTime = QTime::currentTime().addMSecs(100);}}
\DoxyCodeLine{227         \textcolor{keywordflow}{while}( QTime::currentTime() < dieTime ) QCoreApplication::processEvents( QEventLoop::AllEvents, 100 );}
\DoxyCodeLine{228         \mbox{\hyperlink{class_process__qobject_a0bf0f73a3c4b4d25745f87aafbc9f086}{test\_usb}}(\textcolor{stringliteral}{"/sys/bus/usb/devices/1-\/1"},2);}
\DoxyCodeLine{229         dieTime = QTime::currentTime().addMSecs(100);}
\DoxyCodeLine{230         \textcolor{comment}{//while( QTime::currentTime() < dieTime ) QCoreApplication::processEvents( QEventLoop::AllEvents, 100 );}}
\DoxyCodeLine{231         \textcolor{comment}{//test\_usb("/sys/bus/usb/devices/2-\/1",3);}}
\DoxyCodeLine{232         \textcolor{comment}{//dieTime = QTime::currentTime().addMSecs(100);}}
\DoxyCodeLine{233         \textcolor{keywordflow}{while}( QTime::currentTime() < dieTime ) QCoreApplication::processEvents( QEventLoop::AllEvents, 100 );}
\DoxyCodeLine{234         \mbox{\hyperlink{class_process__qobject_aecc3d77d60372b73a0154a2526305337}{test\_ethernet}}(4);}
\DoxyCodeLine{235         dieTime = QTime::currentTime().addMSecs(100);}
\DoxyCodeLine{236         \textcolor{keywordflow}{while}( QTime::currentTime() < dieTime ) QCoreApplication::processEvents( QEventLoop::AllEvents, 100 );}
\DoxyCodeLine{237         \mbox{\hyperlink{class_process__qobject_aa45048c243179da064c35c831e319d66}{priv\_test\_relay}}(5);}
\DoxyCodeLine{238         dieTime = QTime::currentTime().addMSecs(100);}
\DoxyCodeLine{239         \textcolor{comment}{//while( QTime::currentTime() < dieTime ) QCoreApplication::processEvents( QEventLoop::AllEvents, 100 );}}
\DoxyCodeLine{240         \textcolor{comment}{//test\_io("1",6);}}
\DoxyCodeLine{241         \textcolor{comment}{//dieTime = QTime::currentTime().addMSecs(100);}}
\DoxyCodeLine{242         \textcolor{keywordflow}{while}( QTime::currentTime() < dieTime ) QCoreApplication::processEvents( QEventLoop::AllEvents, 100 );}
\DoxyCodeLine{243         \mbox{\hyperlink{class_process__qobject_a6a39e62f8ade77c0467884c5a90ca069}{test\_backlight}}(7);}
\DoxyCodeLine{244         dieTime = QTime::currentTime().addMSecs(100);}
\DoxyCodeLine{245         \textcolor{keywordflow}{while}( QTime::currentTime() < dieTime ) QCoreApplication::processEvents( QEventLoop::AllEvents, 100 );}
\DoxyCodeLine{246         \mbox{\hyperlink{class_process__qobject_a96ccce1632d08624a6ad05a4a9909643}{test\_audio}}(8);}
\DoxyCodeLine{247         \textcolor{keywordflow}{break};}
\DoxyCodeLine{248 }
\DoxyCodeLine{249     \}}
\DoxyCodeLine{250 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_ad37decda6a1e3af9cbaccb2022271ac3}\label{class_process__qobject_ad37decda6a1e3af9cbaccb2022271ac3}} 
\index{Process\_qobject@{Process\_qobject}!video@{video}}
\index{video@{video}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{video}{video}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::video (\begin{DoxyParamCaption}\item[{Q\+String}]{nom,  }\item[{Q\+String}]{tempo }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_ad37decda6a1e3af9cbaccb2022271ac3}{Process\+\_\+qobject\+::video}}. 


\begin{DoxyParams}{Parameters}
{\em nom} & \\
\hline
{\em tempo} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{1611 \{}
\DoxyCodeLine{1612     log4cpp-\/>debug(\textcolor{stringliteral}{"video"});}
\DoxyCodeLine{1613     \textcolor{keywordflow}{if} (!nom.isEmpty())}
\DoxyCodeLine{1614     \{}
\DoxyCodeLine{1615         nom.prepend(\textcolor{stringliteral}{"/var/x7/contents/mp4/"});}
\DoxyCodeLine{1616         QFile fvideo(nom);}
\DoxyCodeLine{1617         \textcolor{keywordflow}{if} (fvideo.exists()) \{nom.prepend(\textcolor{stringliteral}{"file:"});\}}
\DoxyCodeLine{1618         \textcolor{keywordflow}{else} \{nom.clear();nom.append(\textcolor{stringliteral}{"file:/var/x7/contents/mp4/gfi.mp4"});\}}
\DoxyCodeLine{1619     \}}
\DoxyCodeLine{1620 }
\DoxyCodeLine{1621     signal\_video(nom,tempo);}
\DoxyCodeLine{1622 }
\DoxyCodeLine{1623 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_process__qobject_acc2d4a2d7cf0ef9f3cea0bd5a23d63b5}\label{class_process__qobject_acc2d4a2d7cf0ef9f3cea0bd5a23d63b5}} 
\index{Process\_qobject@{Process\_qobject}!wake\_up@{wake\_up}}
\index{wake\_up@{wake\_up}!Process\_qobject@{Process\_qobject}}
\doxysubsubsection{\texorpdfstring{wake\_up}{wake\_up}}
{\footnotesize\ttfamily void Process\+\_\+qobject\+::wake\+\_\+up (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



\mbox{\hyperlink{class_process__qobject_acc2d4a2d7cf0ef9f3cea0bd5a23d63b5}{Process\+\_\+qobject\+::wake\+\_\+up}}. 


\begin{DoxyItemize}
\item Methode pour sortir du mode veille.
\item appel X7\+Carte\+I\+O\+::set\+Brightness() 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{140 \{}
\DoxyCodeLine{141     log4cpp-\/>debug(\textcolor{stringliteral}{"wake\_up"});}
\DoxyCodeLine{142     log4cpp-\/>debug(\textcolor{stringliteral}{"wake\_up batterie = \%d"}, batterie);}
\DoxyCodeLine{143     log4cpp-\/>debug(\textcolor{stringliteral}{"wake\_up sleep\_mode\_etat = \%d"}, sleep\_mode\_etat);}
\DoxyCodeLine{144     \textcolor{keywordflow}{if} (batterie)}
\DoxyCodeLine{145     \{}
\DoxyCodeLine{146         \textcolor{keywordflow}{if} (sleep\_mode\_etat >0)}
\DoxyCodeLine{147         \{}
\DoxyCodeLine{148             timer\_sleep\_mode\_control-\/>stop();}
\DoxyCodeLine{149             sleep\_mode\_etat=-\/1;}
\DoxyCodeLine{150 }
\DoxyCodeLine{151             X7CarteIO::getInstance()-\/>setBrightness(backlight\_N1.toInt());}
\DoxyCodeLine{152 }
\DoxyCodeLine{153             \textcolor{comment}{//QProcess *qProc = new QProcess(this);}}
\DoxyCodeLine{154             \textcolor{comment}{//QString a=QString("./backlight\_pwm \%1").arg(backlight\_N1);}}
\DoxyCodeLine{155             \textcolor{comment}{//qProc-\/>startDetached(a);}}
\DoxyCodeLine{156             \textcolor{comment}{//           int x=((100-\/backlight\_N1.toInt())*255)/100;}}
\DoxyCodeLine{157             \textcolor{comment}{//            QString b=QString("i2cset -\/y 1 0x60 0x02 0x\%1").arg((int) x,0,16);}}
\DoxyCodeLine{158         \}}
\DoxyCodeLine{159     \}}
\DoxyCodeLine{160 }
\DoxyCodeLine{161 }
\DoxyCodeLine{162 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{process_8h}{process.\+h}}\item 
\mbox{\hyperlink{process_8cpp}{process.\+cpp}}\end{DoxyCompactItemize}
